function Yz(t,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},Af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function Zz(){if(TE)return Af;TE=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:i,key:d,ref:l!==void 0?l:null,props:u}}return Af.Fragment=n,Af.jsx=r,Af.jsxs=r,Af}var AE;function Xz(){return AE||(AE=1,ey.exports=Zz()),ey.exports}var e=Xz(),ty={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function Kz(){if(RE)return pn;RE=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function T(B,ie,xe){this.props=B,this.context=ie,this.refs=_,this.updater=xe||w}T.prototype.isReactComponent={},T.prototype.setState=function(B,ie){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ie,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function R(){}R.prototype=T.prototype;function D(B,ie,xe){this.props=B,this.context=ie,this.refs=_,this.updater=xe||w}var k=D.prototype=new R;k.constructor=D,C(k,T.prototype),k.isPureReactComponent=!0;var N=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function H(B,ie,xe,$,F,G){return xe=G.ref,{$$typeof:t,type:B,key:ie,ref:xe!==void 0?xe:null,props:G}}function U(B,ie){return H(B.type,ie,void 0,void 0,void 0,B.props)}function ae(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function he(B){var ie={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(xe){return ie[xe]})}var le=/\/+/g;function de(B,ie){return typeof B=="object"&&B!==null&&B.key!=null?he(""+B.key):ie.toString(36)}function Re(){}function fe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Re,Re):(B.status="pending",B.then(function(ie){B.status==="pending"&&(B.status="fulfilled",B.value=ie)},function(ie){B.status==="pending"&&(B.status="rejected",B.reason=ie)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function se(B,ie,xe,$,F){var G=typeof B;(G==="undefined"||G==="boolean")&&(B=null);var X=!1;if(B===null)X=!0;else switch(G){case"bigint":case"string":case"number":X=!0;break;case"object":switch(B.$$typeof){case t:case n:X=!0;break;case x:return X=B._init,se(X(B._payload),ie,xe,$,F)}}if(X)return F=F(B),X=$===""?"."+de(B,0):$,N(F)?(xe="",X!=null&&(xe=X.replace(le,"$&/")+"/"),se(F,ie,xe,"",function(be){return be})):F!=null&&(ae(F)&&(F=U(F,xe+(F.key==null||B&&B.key===F.key?"":(""+F.key).replace(le,"$&/")+"/")+X)),ie.push(F)),1;X=0;var ye=$===""?".":$+":";if(N(B))for(var ve=0;ve<B.length;ve++)$=B[ve],G=ye+de($,ve),X+=se($,ie,xe,G,F);else if(ve=S(B),typeof ve=="function")for(B=ve.call(B),ve=0;!($=B.next()).done;)$=$.value,G=ye+de($,ve++),X+=se($,ie,xe,G,F);else if(G==="object"){if(typeof B.then=="function")return se(fe(B),ie,xe,$,F);throw ie=String(B),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return X}function Y(B,ie,xe){if(B==null)return B;var $=[],F=0;return se(B,$,"","",function(G){return ie.call(xe,G,F++)}),$}function q(B){if(B._status===-1){var ie=B._result;ie=ie(),ie.then(function(xe){(B._status===0||B._status===-1)&&(B._status=1,B._result=xe)},function(xe){(B._status===0||B._status===-1)&&(B._status=2,B._result=xe)}),B._status===-1&&(B._status=0,B._result=ie)}if(B._status===1)return B._result.default;throw B._result}var W=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ee(){}return pn.Children={map:Y,forEach:function(B,ie,xe){Y(B,function(){ie.apply(this,arguments)},xe)},count:function(B){var ie=0;return Y(B,function(){ie++}),ie},toArray:function(B){return Y(B,function(ie){return ie})||[]},only:function(B){if(!ae(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},pn.Component=T,pn.Fragment=r,pn.Profiler=l,pn.PureComponent=D,pn.StrictMode=i,pn.Suspense=p,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,pn.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},pn.cache=function(B){return function(){return B.apply(null,arguments)}},pn.cloneElement=function(B,ie,xe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var $=C({},B.props),F=B.key,G=void 0;if(ie!=null)for(X in ie.ref!==void 0&&(G=void 0),ie.key!==void 0&&(F=""+ie.key),ie)!O.call(ie,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&ie.ref===void 0||($[X]=ie[X]);var X=arguments.length-2;if(X===1)$.children=xe;else if(1<X){for(var ye=Array(X),ve=0;ve<X;ve++)ye[ve]=arguments[ve+2];$.children=ye}return H(B.type,F,void 0,void 0,G,$)},pn.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},pn.createElement=function(B,ie,xe){var $,F={},G=null;if(ie!=null)for($ in ie.key!==void 0&&(G=""+ie.key),ie)O.call(ie,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(F[$]=ie[$]);var X=arguments.length-2;if(X===1)F.children=xe;else if(1<X){for(var ye=Array(X),ve=0;ve<X;ve++)ye[ve]=arguments[ve+2];F.children=ye}if(B&&B.defaultProps)for($ in X=B.defaultProps,X)F[$]===void 0&&(F[$]=X[$]);return H(B,G,void 0,void 0,null,F)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(B){return{$$typeof:m,render:B}},pn.isValidElement=ae,pn.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:q}},pn.memo=function(B,ie){return{$$typeof:g,type:B,compare:ie===void 0?null:ie}},pn.startTransition=function(B){var ie=M.T,xe={};M.T=xe;try{var $=B(),F=M.S;F!==null&&F(xe,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ee,W)}catch(G){W(G)}finally{M.T=ie}},pn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},pn.use=function(B){return M.H.use(B)},pn.useActionState=function(B,ie,xe){return M.H.useActionState(B,ie,xe)},pn.useCallback=function(B,ie){return M.H.useCallback(B,ie)},pn.useContext=function(B){return M.H.useContext(B)},pn.useDebugValue=function(){},pn.useDeferredValue=function(B,ie){return M.H.useDeferredValue(B,ie)},pn.useEffect=function(B,ie,xe){var $=M.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(B,ie)},pn.useId=function(){return M.H.useId()},pn.useImperativeHandle=function(B,ie,xe){return M.H.useImperativeHandle(B,ie,xe)},pn.useInsertionEffect=function(B,ie){return M.H.useInsertionEffect(B,ie)},pn.useLayoutEffect=function(B,ie){return M.H.useLayoutEffect(B,ie)},pn.useMemo=function(B,ie){return M.H.useMemo(B,ie)},pn.useOptimistic=function(B,ie){return M.H.useOptimistic(B,ie)},pn.useReducer=function(B,ie,xe){return M.H.useReducer(B,ie,xe)},pn.useRef=function(B){return M.H.useRef(B)},pn.useState=function(B){return M.H.useState(B)},pn.useSyncExternalStore=function(B,ie,xe){return M.H.useSyncExternalStore(B,ie,xe)},pn.useTransition=function(){return M.H.useTransition()},pn.version="19.1.1",pn}var kE;function Ib(){return kE||(kE=1,ty.exports=Kz()),ty.exports}var v=Ib();const un=Wp(v),DE=Yz({__proto__:null,default:un},[v]);var ny={exports:{}},Rf={},ry={exports:{}},sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Qz(){return PE||(PE=1,(function(t){function n(Y,q){var W=Y.length;Y.push(q);e:for(;0<W;){var Ee=W-1>>>1,B=Y[Ee];if(0<l(B,q))Y[Ee]=q,Y[W]=B,W=Ee;else break e}}function r(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var q=Y[0],W=Y.pop();if(W!==q){Y[0]=W;e:for(var Ee=0,B=Y.length,ie=B>>>1;Ee<ie;){var xe=2*(Ee+1)-1,$=Y[xe],F=xe+1,G=Y[F];if(0>l($,W))F<B&&0>l(G,$)?(Y[Ee]=G,Y[F]=W,Ee=F):(Y[Ee]=$,Y[xe]=W,Ee=xe);else if(F<B&&0>l(G,W))Y[Ee]=G,Y[F]=W,Ee=F;else break e}}return q}function l(Y,q){var W=Y.sortIndex-q.sortIndex;return W!==0?W:Y.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,y=null,S=3,w=!1,C=!1,_=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var q=r(g);q!==null;){if(q.callback===null)i(g);else if(q.startTime<=Y)i(g),q.sortIndex=q.expirationTime,n(p,q);else break;q=r(g)}}function M(Y){if(_=!1,N(Y),!C)if(r(p)!==null)C=!0,O||(O=!0,de());else{var q=r(g);q!==null&&se(M,q.startTime-Y)}}var O=!1,H=-1,U=5,ae=-1;function he(){return T?!0:!(t.unstable_now()-ae<U)}function le(){if(T=!1,O){var Y=t.unstable_now();ae=Y;var q=!0;try{e:{C=!1,_&&(_=!1,D(H),H=-1),w=!0;var W=S;try{t:{for(N(Y),y=r(p);y!==null&&!(y.expirationTime>Y&&he());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,S=y.priorityLevel;var B=Ee(y.expirationTime<=Y);if(Y=t.unstable_now(),typeof B=="function"){y.callback=B,N(Y),q=!0;break t}y===r(p)&&i(p),N(Y)}else i(p);y=r(p)}if(y!==null)q=!0;else{var ie=r(g);ie!==null&&se(M,ie.startTime-Y),q=!1}}break e}finally{y=null,S=W,w=!1}q=void 0}}finally{q?de():O=!1}}}var de;if(typeof k=="function")de=function(){k(le)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,fe=Re.port2;Re.port1.onmessage=le,de=function(){fe.postMessage(null)}}else de=function(){R(le,0)};function se(Y,q){H=R(function(){Y(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var q=3;break;default:q=S}var W=S;S=q;try{return Y()}finally{S=W}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Y,q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=S;S=Y;try{return q()}finally{S=W}},t.unstable_scheduleCallback=function(Y,q,W){var Ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ee+W:Ee):W=Ee,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,Y={id:x++,callback:q,priorityLevel:Y,startTime:W,expirationTime:B,sortIndex:-1},W>Ee?(Y.sortIndex=W,n(g,Y),r(p)===null&&Y===r(g)&&(_?(D(H),H=-1):_=!0,se(M,W-Ee))):(Y.sortIndex=B,n(p,Y),C||w||(C=!0,O||(O=!0,de()))),Y},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(Y){var q=S;return function(){var W=S;S=q;try{return Y.apply(this,arguments)}finally{S=W}}}})(sy)),sy}var ME;function Jz(){return ME||(ME=1,ry.exports=Qz()),ry.exports}var iy={exports:{}},Zs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function eI(){if(zE)return Zs;zE=1;var t=Ib();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zs.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(p,g,null,x)},Zs.flushSync=function(p){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=x,i.d.f()}},Zs.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Zs.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Zs.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:w}):x==="script"&&i.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zs.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Zs.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zs.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Zs.requestFormReset=function(p){i.d.r(p)},Zs.unstable_batchedUpdates=function(p,g){return p(g)},Zs.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},Zs.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zs.version="19.1.1",Zs}var IE;function oA(){if(IE)return iy.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),iy.exports=eI(),iy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function tI(){if(NE)return Rf;NE=1;var t=Jz(),n=Ib(),r=oA();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function d(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function m(s){if(u(s)!==s)throw Error(i(188))}function p(s){var a=s.alternate;if(!a){if(a=u(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,f=a;;){var b=c.return;if(b===null)break;var E=b.alternate;if(E===null){if(f=b.return,f!==null){c=f;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===c)return m(b),s;if(E===f)return m(b),a;E=E.sibling}throw Error(i(188))}if(c.return!==f.return)c=b,f=E;else{for(var V=!1,ee=b.child;ee;){if(ee===c){V=!0,c=b,f=E;break}if(ee===f){V=!0,f=b,c=E;break}ee=ee.sibling}if(!V){for(ee=E.child;ee;){if(ee===c){V=!0,c=E,f=b;break}if(ee===f){V=!0,f=E,c=b;break}ee=ee.sibling}if(!V)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var Re=Symbol.for("react.client.reference");function fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case ae:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case k:return(s.displayName||"Context")+".Provider";case D:return(s._context.displayName||"Context")+".Consumer";case N:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return a=s.displayName||null,a!==null?a:fe(s.type)||"Memo";case U:a=s._payload,s=s._init;try{return fe(s(a))}catch{}}return null}var se=Array.isArray,Y=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ee=[],B=-1;function ie(s){return{current:s}}function xe(s){0>B||(s.current=Ee[B],Ee[B]=null,B--)}function $(s,a){B++,Ee[B]=s.current,s.current=a}var F=ie(null),G=ie(null),X=ie(null),ye=ie(null);function ve(s,a){switch($(X,a),$(G,s),$(F,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?tE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=tE(a),s=nE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(F),$(F,s)}function be(){xe(F),xe(G),xe(X)}function He(s){s.memoizedState!==null&&$(ye,s);var a=F.current,c=nE(a,s.type);a!==c&&($(G,s),$(F,c))}function ct(s){G.current===s&&(xe(F),xe(G)),ye.current===s&&(xe(ye),wf._currentValue=W)}var Xe=Object.prototype.hasOwnProperty,dt=t.unstable_scheduleCallback,Ue=t.unstable_cancelCallback,Ht=t.unstable_shouldYield,we=t.unstable_requestPaint,Ke=t.unstable_now,Bt=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,it=t.unstable_NormalPriority,It=t.unstable_LowPriority,zn=t.unstable_IdlePriority,dr=t.log,We=t.unstable_setDisableYieldValue,at=null,Lt=null;function Qe(s){if(typeof dr=="function"&&We(s),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(at,s)}catch{}}var bt=Math.clz32?Math.clz32:Mt,In=Math.log,Ye=Math.LN2;function Mt(s){return s>>>=0,s===0?32:31-(In(s)/Ye|0)|0}var ln=256,gn=4194304;function Kt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ln(s,a,c){var f=s.pendingLanes;if(f===0)return 0;var b=0,E=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var ee=f&134217727;return ee!==0?(f=ee&~E,f!==0?b=Kt(f):(V&=ee,V!==0?b=Kt(V):c||(c=ee&~s,c!==0&&(b=Kt(c))))):(ee=f&~E,ee!==0?b=Kt(ee):V!==0?b=Kt(V):c||(c=f&~s,c!==0&&(b=Kt(c)))),b===0?0:a!==0&&a!==b&&(a&E)===0&&(E=b&-b,c=a&-a,E>=c||E===32&&(c&4194048)!==0)?a:b}function ot(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function An(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(){var s=ln;return ln<<=1,(ln&4194048)===0&&(ln=256),s}function Kr(){var s=gn;return gn<<=1,(gn&62914560)===0&&(gn=4194304),s}function Wn(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Bi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ji(s,a,c,f,b,E){var V=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var ee=s.entanglements,me=s.expirationTimes,Le=s.hiddenUpdates;for(c=V&~c;0<c;){var qe=31-bt(c),Ze=1<<qe;ee[qe]=0,me[qe]=-1;var Oe=Le[qe];if(Oe!==null)for(Le[qe]=null,qe=0;qe<Oe.length;qe++){var $e=Oe[qe];$e!==null&&($e.lane&=-536870913)}c&=~Ze}f!==0&&Xo(s,f,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(V&~a))}function Xo(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-bt(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|c&4194090}function Qr(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-bt(c),b=1<<f;b&a|s[f]&a&&(s[f]|=a),c&=~b}}function $i(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Fi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function fo(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:bE(s.type))}function Vs(s,a){var c=q.p;try{return q.p=s,a()}finally{q.p=c}}var Vi=Math.random().toString(36).slice(2),Er="__reactFiber$"+Vi,Jr="__reactProps$"+Vi,ga="__reactContainer$"+Vi,ys="__reactEvents$"+Vi,Tt="__reactListeners$"+Vi,Ol="__reactHandles$"+Vi,Ko="__reactResources$"+Vi,bi="__reactMarker$"+Vi;function kr(s){delete s[Er],delete s[Jr],delete s[ys],delete s[Tt],delete s[Ol]}function cs(s){var a=s[Er];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ga]||c[Er]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=aE(s);s!==null;){if(c=s[Er])return c;s=aE(s)}return a}s=c,c=s.parentNode}return null}function js(s){if(s=s[Er]||s[ga]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Us(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ei(s){var a=s[Ko];return a||(a=s[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xr(s){s[bi]=!0}var Qo=new Set,po={};function ti(s,a){ni(s,a),ni(s+"Capture",a)}function ni(s,a){for(po[s]=a,s=0;s<a.length;s++)Qo.add(a[s])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},lt={};function Fc(s){return Xe.call(lt,s)?!0:Xe.call(Ds,s)?!1:Jo.test(s)?lt[s]=!0:(Ds[s]=!0,!1)}function Ui(s,a,c){if(Fc(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Hi(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function ri(s,a,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+f)}}var $a,Si;function wi(s){if($a===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);$a=a&&a[1]||"",Si=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+s+Si}var Fa=!1;function si(s,a){if(!s||Fa)return"";Fa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch($e){var Oe=$e}Reflect.construct(s,[],Ze)}else{try{Ze.call()}catch($e){Oe=$e}s.call(Ze.prototype)}}else{try{throw Error()}catch($e){Oe=$e}(Ze=s())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch($e){if($e&&Oe&&typeof $e.stack=="string")return[$e.stack,Oe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),V=E[0],ee=E[1];if(V&&ee){var me=V.split(`
`),Le=ee.split(`
`);for(b=f=0;f<me.length&&!me[f].includes("DetermineComponentFrameRoot");)f++;for(;b<Le.length&&!Le[b].includes("DetermineComponentFrameRoot");)b++;if(f===me.length||b===Le.length)for(f=me.length-1,b=Le.length-1;1<=f&&0<=b&&me[f]!==Le[b];)b--;for(;1<=f&&0<=b;f--,b--)if(me[f]!==Le[b]){if(f!==1||b!==1)do if(f--,b--,0>b||me[f]!==Le[b]){var qe=`
`+me[f].replace(" at new "," at ");return s.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",s.displayName)),qe}while(1<=f&&0<=b);break}}}finally{Fa=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?wi(c):""}function Sn(s){switch(s.tag){case 26:case 27:case 5:return wi(s.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return si(s.type,!1);case 11:return si(s.type.render,!1);case 1:return si(s.type,!0);case 31:return wi("Activity");default:return""}}function sr(s){try{var a="";do a+=Sn(s),s=s.return;while(s);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wi(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ci(s){var a=Wi(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return b.call(this)},set:function(V){f=""+V,E.call(this,V)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function qi(s){s._valueTracker||(s._valueTracker=Ci(s))}function nn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Wi(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gi=/[\n"\\]/g;function Pr(s){return s.replace(Gi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function es(s,a,c,f,b,E,V,ee){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),a!=null?V==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Dr(a)):s.value!==""+Dr(a)&&(s.value=""+Dr(a)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),a!=null?Yi(s,V,Dr(a)):c!=null?Yi(s,V,Dr(c)):f!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?s.name=""+Dr(ee):s.removeAttribute("name")}function mo(s,a,c,f,b,E,V,ee){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),a!=null||c!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;c=c!=null?""+Dr(c):"",a=a!=null?""+Dr(a):c,ee||a===s.value||(s.value=a),s.defaultValue=a}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=ee?s.checked:!!f,s.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function Yi(s,a,c){a==="number"&&ir(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function bs(s,a,c,f){if(s=s.options,a){a={};for(var b=0;b<c.length;b++)a["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=a.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Dr(c),a=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,f&&(s[b].defaultSelected=!0);return}a!==null||s[b].disabled||(a=s[b])}a!==null&&(a.selected=!0)}}function hr(s,a,c){if(a!=null&&(a=""+Dr(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Dr(c):""}function Zi(s,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(i(92));if(se(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Dr(a),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f)}function Ps(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yn(s,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,c):typeof c!="number"||c===0||Va.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function Lr(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var b in a)f=a[b],a.hasOwnProperty(b)&&c[b]!==f&&yn(s,b,f)}else for(var E in a)a.hasOwnProperty(E)&&yn(s,E,a[E])}function Ss(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(s){return xo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Hs=null;function ii(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ws=null,Ws=null;function Ki(s){var a=js(s);if(a&&(s=a.stateNode)){var c=s[Jr]||null;e:switch(s=a.stateNode,a.type){case"input":if(es(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pr(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var b=f[Jr]||null;if(!b)throw Error(i(90));es(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===s.form&&nn(f)}break e;case"textarea":hr(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&bs(s,!!c.multiple,a,!1)}}}var Ut=!1;function Or(s,a,c){if(Ut)return s(a,c);Ut=!0;try{var f=s(a);return f}finally{if(Ut=!1,(ws!==null||Ws!==null)&&(Zm(),ws&&(a=ws,s=Ws,Ws=ws=null,Ki(a),s)))for(a=0;a<s.length;a++)Ki(s[a])}}function Rn(s,a){var c=s.stateNode;if(c===null)return null;var f=c[Jr]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(_r)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{qs=!1}var Cs=null,ai=null,Qi=null;function Ua(){if(Qi)return Qi;var s,a=ai,c=a.length,f,b="value"in Cs?Cs.value:Cs.textContent,E=b.length;for(s=0;s<c&&a[s]===b[s];s++);var V=c-s;for(f=1;f<=V&&a[c-f]===b[E-f];f++);return Qi=b.slice(s,1<f?1-f:void 0)}function vr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function us(){return!0}function el(){return!1}function oe(s){function a(c,f,b,E,V){this._reactName=c,this._targetInst=b,this.type=f,this.nativeEvent=E,this.target=V,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(c=s[ee],this[ee]=c?c(E):E[ee]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?us:el,this.isPropagationStopped=el,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),a}var Ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Be=oe(Ce),pt=x({},Ce,{view:0,detail:0}),rt=oe(pt),an,Dt,fn,cn=x({},pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fn&&(fn&&s.type==="mousemove"?(an=s.screenX-fn.screenX,Dt=s.screenY-fn.screenY):Dt=an=0,fn=s),an)},movementY:function(s){return"movementY"in s?s.movementY:Dt}}),Mr=oe(cn),ts=x({},cn,{dataTransfer:0}),Ji=oe(ts),Ha=x({},pt,{relatedTarget:0}),Wa=oe(Ha),tl=x({},Ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=oe(tl),Nh=x({},Ce,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vc=oe(Nh),Lh=x({},Ce,{data:0}),oi=oe(Lh),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=xa[s])?!!a[s]:!1}function Ms(){return Ju}var Uc=x({},pt,{key:function(s){if(s.key){var a=Oh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(s){return s.type==="keypress"?vr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Bh=oe(Uc),Hc=x({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=oe(Hc),$h=x({},pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),ed=oe($h),Wc=x({},Ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=oe(Wc),td=x({},cn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nd=oe(td),$l=x({},Ce,{newState:0,oldState:0}),qa=oe($l),qc=[9,13,27,32],Ga=_r&&"CompositionEvent"in window,ns=null;_r&&"documentMode"in document&&(ns=document.documentMode);var I=_r&&"TextEvent"in window&&!ns,te=_r&&(!Ga||ns&&8<ns&&11>=ns),nt=" ",At=!1;function xn(s,a){switch(s){case"keyup":return qc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qn=!1;function Ei(s,a){switch(s){case"compositionend":return Zt(a);case"keypress":return a.which!==32?null:(At=!0,nt);case"textInput":return s=a.data,s===nt&&At?null:s;default:return null}}function Es(s,a){if(qn)return s==="compositionend"||!Ga&&xn(s,a)?(s=Ua(),Qi=ai=Cs=null,qn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return te&&a.locale!=="ko"?null:a.data;default:return null}}var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Br[s.type]:a==="textarea"}function $r(s,a,c,f){ws?Ws?Ws.push(f):Ws=[f]:ws=f,a=tg(a,"onChange"),0<a.length&&(c=new Be("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var ds=null,va=null;function yo(s){XC(s,0)}function rd(s){var a=Us(s);if(nn(a))return s}function Fl(s,a){if(s==="change")return a}var Fh=!1;if(_r){var Vl;if(_r){var Vh="oninput"in document;if(!Vh){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),Vh=typeof Ya.oninput=="function"}Vl=Vh}else Vl=!1;Fh=Vl&&(!document.documentMode||9<document.documentMode)}function Gc(){ds&&(ds.detachEvent("onpropertychange",pm),va=ds=null)}function pm(s){if(s.propertyName==="value"&&rd(va)){var a=[];$r(a,va,s,ii(s)),Or(yo,a)}}function Uh(s,a,c){s==="focusin"?(Gc(),ds=a,va=c,ds.attachEvent("onpropertychange",pm)):s==="focusout"&&Gc()}function Cv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(va)}function Za(s,a){if(s==="click")return rd(a)}function Ev(s,a){if(s==="input"||s==="change")return rd(a)}function Ul(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var li=typeof Object.is=="function"?Object.is:Ul;function ci(s,a){if(li(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var b=c[f];if(!Xe.call(a,b)||!li(s[b],a[b]))return!1}return!0}function Yc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hh(s,a){var c=Yc(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Yc(c)}}function sd(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sd(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Zc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ir(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ir(s.document)}return a}function Xc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var id=_r&&"documentMode"in document&&11>=document.documentMode,ea=null,Hl=null,nl=null,ad=!1;function mm(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ad||ea==null||ea!==ir(f)||(f=ea,"selectionStart"in f&&Xc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nl&&ci(nl,f)||(nl=f,f=tg(Hl,"onSelect"),0<f.length&&(a=new Be("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ea)))}function ya(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Wl={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},od={},gm={};_r&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function jo(s){if(od[s])return od[s];if(!Wl[s])return s;var a=Wl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in gm)return od[s]=a[c];return s}var xm=jo("animationend"),ta=jo("animationiteration"),Kc=jo("animationstart"),_v=jo("transitionrun"),ld=jo("transitionstart"),Tv=jo("transitioncancel"),Wh=jo("transitionend"),vm=new Map,rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rl.push("scrollEnd");function na(s,a){vm.set(s,a),ti(a,[s])}var sl=new WeakMap;function ui(s,a){if(typeof s=="object"&&s!==null){var c=sl.get(s);return c!==void 0?c:(a={value:s,source:a,stack:sr(a)},sl.set(s,a),a)}return{value:s,source:a,stack:sr(a)}}var di=[],ql=0,ra=0;function Qc(){for(var s=ql,a=ra=ql=0;a<s;){var c=di[a];di[a++]=null;var f=di[a];di[a++]=null;var b=di[a];di[a++]=null;var E=di[a];if(di[a++]=null,f!==null&&b!==null){var V=f.pending;V===null?b.next=b:(b.next=V.next,V.next=b),f.pending=b}E!==0&&eu(c,b,E)}}function Jc(s,a,c,f){di[ql++]=s,di[ql++]=a,di[ql++]=c,di[ql++]=f,ra|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function il(s,a,c,f){return Jc(s,a,c,f),bo(s)}function Gl(s,a){return Jc(s,null,null,a),bo(s)}function eu(s,a,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var b=!1,E=s.return;E!==null;)E.childLanes|=c,f=E.alternate,f!==null&&(f.childLanes|=c),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&a!==null&&(b=31-bt(c),s=E.hiddenUpdates,f=s[b],f===null?s[b]=[a]:f.push(a),a.lane=c|536870912),E):null}function bo(s){if(50<mf)throw mf=0,C0=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var al={};function ym(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(s,a,c,f){return new ym(s,a,c,f)}function cd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ja(s,a){var c=s.alternate;return c===null?(c=hi(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function qh(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function tu(s,a,c,f,b,E){var V=0;if(f=s,typeof s=="function")cd(s)&&(V=1);else if(typeof s=="string")V=Iz(s,c,F.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case ae:return s=hi(31,c,a,b),s.elementType=ae,s.lanes=E,s;case C:return So(c.children,b,E,a);case _:V=8,b|=24;break;case T:return s=hi(12,c,a,b|2),s.elementType=T,s.lanes=E,s;case M:return s=hi(13,c,a,b),s.elementType=M,s.lanes=E,s;case O:return s=hi(19,c,a,b),s.elementType=O,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case k:V=10;break e;case D:V=9;break e;case N:V=11;break e;case H:V=14;break e;case U:V=16,f=null;break e}V=29,c=Error(i(130,s===null?"null":typeof s,"")),f=null}return a=hi(V,c,a,b),a.elementType=s,a.type=f,a.lanes=E,a}function So(s,a,c,f){return s=hi(7,s,f,a),s.lanes=c,s}function Gh(s,a,c){return s=hi(6,s,null,a),s.lanes=c,s}function ud(s,a,c){return a=hi(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ol=[],Yl=0,o=null,h=0,j=[],A=0,z=null,Z=1,pe="";function Me(s,a){ol[Yl++]=h,ol[Yl++]=o,o=s,h=a}function Fe(s,a,c){j[A++]=Z,j[A++]=pe,j[A++]=z,z=s;var f=Z;s=pe;var b=32-bt(f)-1;f&=~(1<<b),c+=1;var E=32-bt(a)+b;if(30<E){var V=b-b%5;E=(f&(1<<V)-1).toString(32),f>>=V,b-=V,Z=1<<32-bt(a)+b|c<<b|f,pe=E+s}else Z=1<<E|c<<b|f,pe=s}function Je(s){s.return!==null&&(Me(s,1),Fe(s,1,0))}function mt(s){for(;s===o;)o=ol[--Yl],ol[Yl]=null,h=ol[--Yl],ol[Yl]=null;for(;s===z;)z=j[--A],j[A]=null,pe=j[--A],j[A]=null,Z=j[--A],j[A]=null}var Pt=null,Ot=null,rn=!1,yr=null,zr=!1,_s=Error(i(519));function _i(s){var a=Error(i(418,""));throw Xl(ui(a,s)),_s}function jm(s){var a=s.stateNode,c=s.type,f=s.memoizedProps;switch(a[Er]=s,a[Jr]=f,c){case"dialog":Dn("cancel",a),Dn("close",a);break;case"iframe":case"object":case"embed":Dn("load",a);break;case"video":case"audio":for(c=0;c<xf.length;c++)Dn(xf[c],a);break;case"source":Dn("error",a);break;case"img":case"image":case"link":Dn("error",a),Dn("load",a);break;case"details":Dn("toggle",a);break;case"input":Dn("invalid",a),mo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),qi(a);break;case"select":Dn("invalid",a);break;case"textarea":Dn("invalid",a),Zi(a,f.value,f.defaultValue,f.children),qi(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||eE(a.textContent,c)?(f.popover!=null&&(Dn("beforetoggle",a),Dn("toggle",a)),f.onScroll!=null&&Dn("scroll",a),f.onScrollEnd!=null&&Dn("scrollend",a),f.onClick!=null&&(a.onclick=ng),a=!0):a=!1,a||_i(s)}function bm(s){for(Pt=s.return;Pt;)switch(Pt.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Pt=Pt.return}}function nu(s){if(s!==Pt)return!1;if(!rn)return bm(s),rn=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||$0(s.type,s.memoizedProps)),c=!c),c&&Ot&&_i(s),bm(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(a===0){Ot=Ja(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;s=s.nextSibling}Ot=null}}else a===27?(a=Ot,dc(s.type)?(s=H0,H0=null,Ot=s):Ot=a):Ot=Pt?Ja(s.stateNode.nextSibling):null;return!0}function Zl(){Ot=Pt=null,rn=!1}function Sm(){var s=yr;return s!==null&&(Ri===null?Ri=s:Ri.push.apply(Ri,s),yr=null),s}function Xl(s){yr===null?yr=[s]:yr.push(s)}var Tr=ie(null),ba=null,Xa=null;function wo(s,a,c){$(Tr,a._currentValue),a._currentValue=c}function Ka(s){s._currentValue=Tr.current,xe(Tr)}function ru(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function dd(s,a,c,f){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var V=b.child;E=E.firstContext;e:for(;E!==null;){var ee=E;E=b;for(var me=0;me<a.length;me++)if(ee.context===a[me]){E.lanes|=c,ee=E.alternate,ee!==null&&(ee.lanes|=c),ru(E.return,c,s),f||(V=null);break e}E=ee.next}}else if(b.tag===18){if(V=b.return,V===null)throw Error(i(341));V.lanes|=c,E=V.alternate,E!==null&&(E.lanes|=c),ru(V,c,s),V=null}else V=b.child;if(V!==null)V.return=b;else for(V=b;V!==null;){if(V===s){V=null;break}if(b=V.sibling,b!==null){b.return=V.return,V=b;break}V=V.return}b=V}}function su(s,a,c,f){s=null;for(var b=a,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var V=b.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var ee=b.type;li(b.pendingProps.value,V.value)||(s!==null?s.push(ee):s=[ee])}}else if(b===ye.current){if(V=b.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(wf):s=[wf])}b=b.return}s!==null&&dd(a,s,c,f),a.flags|=262144}function wm(s){for(s=s.firstContext;s!==null;){if(!li(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function iu(s){ba=s,Xa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ys(s){return $1(ba,s)}function Cm(s,a){return ba===null&&iu(s),$1(s,a)}function $1(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Xa===null){if(s===null)throw Error(i(308));Xa=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Xa=Xa.next=a;return c}var zM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},IM=t.unstable_scheduleCallback,NM=t.unstable_NormalPriority,hs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Av(){return{controller:new zM,data:new Map,refCount:0}}function Yh(s){s.refCount--,s.refCount===0&&IM(NM,function(){s.controller.abort()})}var Zh=null,Rv=0,hd=0,fd=null;function LM(s,a){if(Zh===null){var c=Zh=[];Rv=0,hd=D0(),fd={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Rv++,a.then(F1,F1),a}function F1(){if(--Rv===0&&Zh!==null){fd!==null&&(fd.status="fulfilled");var s=Zh;Zh=null,hd=0,fd=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function OM(s,a){var c=[],f={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var b=0;b<c.length;b++)(0,c[b])(a)},function(b){for(f.status="rejected",f.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),f}var V1=Y.S;Y.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&LM(s,a),V1!==null&&V1(s,a)};var au=ie(null);function kv(){var s=au.current;return s!==null?s:jr.pooledCache}function Em(s,a){a===null?$(au,au.current):$(au,a.pool)}function U1(){var s=kv();return s===null?null:{parent:hs._currentValue,pool:s}}var Xh=Error(i(460)),H1=Error(i(474)),_m=Error(i(542)),Dv={then:function(){}};function W1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Tm(){}function q1(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Tm,Tm),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y1(s),s;default:if(typeof a.status=="string")a.then(Tm,Tm);else{if(s=jr,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=f}},function(f){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y1(s),s}throw Kh=a,Xh}}var Kh=null;function G1(){if(Kh===null)throw Error(i(459));var s=Kh;return Kh=null,s}function Y1(s){if(s===Xh||s===_m)throw Error(i(483))}var Kl=!1;function Pv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ql(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Jl(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(or&2)!==0){var b=f.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),f.pending=a,a=bo(s),eu(s,null,c),a}return Jc(s,f,a,c),bo(s)}function Qh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qr(s,c)}}function zv(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var b=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};E===null?b=E=V:E=E.next=V,c=c.next}while(c!==null);E===null?b=E=a:E=E.next=a}else b=E=a;c={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Iv=!1;function Jh(){if(Iv){var s=fd;if(s!==null)throw s}}function ef(s,a,c,f){Iv=!1;var b=s.updateQueue;Kl=!1;var E=b.firstBaseUpdate,V=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var me=ee,Le=me.next;me.next=null,V===null?E=Le:V.next=Le,V=me;var qe=s.alternate;qe!==null&&(qe=qe.updateQueue,ee=qe.lastBaseUpdate,ee!==V&&(ee===null?qe.firstBaseUpdate=Le:ee.next=Le,qe.lastBaseUpdate=me))}if(E!==null){var Ze=b.baseState;V=0,qe=Le=me=null,ee=E;do{var Oe=ee.lane&-536870913,$e=Oe!==ee.lane;if($e?(Fn&Oe)===Oe:(f&Oe)===Oe){Oe!==0&&Oe===hd&&(Iv=!0),qe!==null&&(qe=qe.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var tn=s,Xt=ee;Oe=a;var mr=c;switch(Xt.tag){case 1:if(tn=Xt.payload,typeof tn=="function"){Ze=tn.call(mr,Ze,Oe);break e}Ze=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=Xt.payload,Oe=typeof tn=="function"?tn.call(mr,Ze,Oe):tn,Oe==null)break e;Ze=x({},Ze,Oe);break e;case 2:Kl=!0}}Oe=ee.callback,Oe!==null&&(s.flags|=64,$e&&(s.flags|=8192),$e=b.callbacks,$e===null?b.callbacks=[Oe]:$e.push(Oe))}else $e={lane:Oe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},qe===null?(Le=qe=$e,me=Ze):qe=qe.next=$e,V|=Oe;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;$e=ee,ee=$e.next,$e.next=null,b.lastBaseUpdate=$e,b.shared.pending=null}}while(!0);qe===null&&(me=Ze),b.baseState=me,b.firstBaseUpdate=Le,b.lastBaseUpdate=qe,E===null&&(b.shared.lanes=0),oc|=V,s.lanes=V,s.memoizedState=Ze}}function Z1(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function X1(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Z1(c[s],a)}var pd=ie(null),Am=ie(0);function K1(s,a){s=pl,$(Am,s),$(pd,a),pl=s|a.baseLanes}function Nv(){$(Am,pl),$(pd,pd.current)}function Lv(){pl=Am.current,xe(pd),xe(Am)}var ec=0,jn=null,fr=null,rs=null,Rm=!1,md=!1,ou=!1,km=0,tf=0,gd=null,BM=0;function qr(){throw Error(i(321))}function Ov(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!li(s[c],a[c]))return!1;return!0}function Bv(s,a,c,f,b,E){return ec=E,jn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?zw:Iw,ou=!1,E=c(f,b),ou=!1,md&&(E=J1(a,c,f,b)),Q1(s),E}function Q1(s){Y.H=Nm;var a=fr!==null&&fr.next!==null;if(ec=0,rs=fr=jn=null,Rm=!1,tf=0,gd=null,a)throw Error(i(300));s===null||Ts||(s=s.dependencies,s!==null&&wm(s)&&(Ts=!0))}function J1(s,a,c,f){jn=s;var b=0;do{if(md&&(gd=null),tf=0,md=!1,25<=b)throw Error(i(301));if(b+=1,rs=fr=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Y.H=qM,E=a(c,f)}while(md);return E}function $M(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?nf(a):a,s=s.useState()[0],(fr!==null?fr.memoizedState:null)!==s&&(jn.flags|=1024),a}function $v(){var s=km!==0;return km=0,s}function Fv(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Vv(s){if(Rm){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rm=!1}ec=0,rs=fr=jn=null,md=!1,tf=km=0,gd=null}function Ti(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?jn.memoizedState=rs=s:rs=rs.next=s,rs}function ss(){if(fr===null){var s=jn.alternate;s=s!==null?s.memoizedState:null}else s=fr.next;var a=rs===null?jn.memoizedState:rs.next;if(a!==null)rs=a,fr=s;else{if(s===null)throw jn.alternate===null?Error(i(467)):Error(i(310));fr=s,s={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},rs===null?jn.memoizedState=rs=s:rs=rs.next=s}return rs}function Uv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nf(s){var a=tf;return tf+=1,gd===null&&(gd=[]),s=q1(gd,s,a),a=jn,(rs===null?a.memoizedState:rs.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?zw:Iw),s}function Dm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nf(s);if(s.$$typeof===k)return Ys(s)}throw Error(i(438,String(s)))}function Hv(s){var a=null,c=jn.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=jn.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Uv(),jn.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),f=0;f<s;f++)c[f]=he;return a.index++,c}function ll(s,a){return typeof a=="function"?a(s):a}function Pm(s){var a=ss();return Wv(a,fr,s)}function Wv(s,a,c){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var b=s.baseQueue,E=f.pending;if(E!==null){if(b!==null){var V=b.next;b.next=E.next,E.next=V}a.baseQueue=b=E,f.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{a=b.next;var ee=V=null,me=null,Le=a,qe=!1;do{var Ze=Le.lane&-536870913;if(Ze!==Le.lane?(Fn&Ze)===Ze:(ec&Ze)===Ze){var Oe=Le.revertLane;if(Oe===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ze===hd&&(qe=!0);else if((ec&Oe)===Oe){Le=Le.next,Oe===hd&&(qe=!0);continue}else Ze={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ee=me=Ze,V=E):me=me.next=Ze,jn.lanes|=Oe,oc|=Oe;Ze=Le.action,ou&&c(E,Ze),E=Le.hasEagerState?Le.eagerState:c(E,Ze)}else Oe={lane:Ze,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ee=me=Oe,V=E):me=me.next=Oe,jn.lanes|=Ze,oc|=Ze;Le=Le.next}while(Le!==null&&Le!==a);if(me===null?V=E:me.next=ee,!li(E,s.memoizedState)&&(Ts=!0,qe&&(c=fd,c!==null)))throw c;s.memoizedState=E,s.baseState=V,s.baseQueue=me,f.lastRenderedState=E}return b===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function qv(s){var a=ss(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var f=c.dispatch,b=c.pending,E=a.memoizedState;if(b!==null){c.pending=null;var V=b=b.next;do E=s(E,V.action),V=V.next;while(V!==b);li(E,a.memoizedState)||(Ts=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,f]}function ew(s,a,c){var f=jn,b=ss(),E=rn;if(E){if(c===void 0)throw Error(i(407));c=c()}else c=a();var V=!li((fr||b).memoizedState,c);V&&(b.memoizedState=c,Ts=!0),b=b.queue;var ee=rw.bind(null,f,b,s);if(rf(2048,8,ee,[s]),b.getSnapshot!==a||V||rs!==null&&rs.memoizedState.tag&1){if(f.flags|=2048,xd(9,Mm(),nw.bind(null,f,b,c,a),null),jr===null)throw Error(i(349));E||(ec&124)!==0||tw(f,a,c)}return c}function tw(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jn.updateQueue,a===null?(a=Uv(),jn.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function nw(s,a,c,f){a.value=c,a.getSnapshot=f,sw(a)&&iw(s)}function rw(s,a,c){return c(function(){sw(a)&&iw(s)})}function sw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!li(s,c)}catch{return!0}}function iw(s){var a=Gl(s,2);a!==null&&la(a,s,2)}function Gv(s){var a=Ti();if(typeof s=="function"){var c=s;if(s=c(),ou){Qe(!0);try{c()}finally{Qe(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:s},a}function aw(s,a,c,f){return s.baseState=c,Wv(s,fr,typeof f=="function"?f:ll)}function FM(s,a,c,f,b){if(Im(s))throw Error(i(485));if(s=a.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){E.listeners.push(V)}};Y.T!==null?c(!0):E.isTransition=!1,f(E),c=a.pending,c===null?(E.next=a.pending=E,ow(a,E)):(E.next=c.next,a.pending=c.next=E)}}function ow(s,a){var c=a.action,f=a.payload,b=s.state;if(a.isTransition){var E=Y.T,V={};Y.T=V;try{var ee=c(b,f),me=Y.S;me!==null&&me(V,ee),lw(s,a,ee)}catch(Le){Yv(s,a,Le)}finally{Y.T=E}}else try{E=c(b,f),lw(s,a,E)}catch(Le){Yv(s,a,Le)}}function lw(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){cw(s,a,f)},function(f){return Yv(s,a,f)}):cw(s,a,c)}function cw(s,a,c){a.status="fulfilled",a.value=c,uw(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,ow(s,c)))}function Yv(s,a,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,uw(a),a=a.next;while(a!==f)}s.action=null}function uw(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function dw(s,a){return a}function hw(s,a){if(rn){var c=jr.formState;if(c!==null){e:{var f=jn;if(rn){if(Ot){t:{for(var b=Ot,E=zr;b.nodeType!==8;){if(!E){b=null;break t}if(b=Ja(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){Ot=Ja(b.nextSibling),f=b.data==="F!";break e}}_i(f)}f=!1}f&&(a=c[0])}}return c=Ti(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dw,lastRenderedState:a},c.queue=f,c=Dw.bind(null,jn,f),f.dispatch=c,f=Gv(!1),E=Jv.bind(null,jn,!1,f.queue),f=Ti(),b={state:a,dispatch:null,action:s,pending:null},f.queue=b,c=FM.bind(null,jn,b,E,c),b.dispatch=c,f.memoizedState=s,[a,c,!1]}function fw(s){var a=ss();return pw(a,fr,s)}function pw(s,a,c){if(a=Wv(s,a,dw)[0],s=Pm(ll)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=nf(a)}catch(V){throw V===Xh?_m:V}else f=a;a=ss();var b=a.queue,E=b.dispatch;return c!==a.memoizedState&&(jn.flags|=2048,xd(9,Mm(),VM.bind(null,b,c),null)),[f,E,s]}function VM(s,a){s.action=a}function mw(s){var a=ss(),c=fr;if(c!==null)return pw(a,c,s);ss(),a=a.memoizedState,c=ss();var f=c.queue.dispatch;return c.memoizedState=s,[a,f,!1]}function xd(s,a,c,f){return s={tag:s,create:c,deps:f,inst:a,next:null},a=jn.updateQueue,a===null&&(a=Uv(),jn.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s),s}function Mm(){return{destroy:void 0,resource:void 0}}function gw(){return ss().memoizedState}function zm(s,a,c,f){var b=Ti();f=f===void 0?null:f,jn.flags|=s,b.memoizedState=xd(1|a,Mm(),c,f)}function rf(s,a,c,f){var b=ss();f=f===void 0?null:f;var E=b.memoizedState.inst;fr!==null&&f!==null&&Ov(f,fr.memoizedState.deps)?b.memoizedState=xd(a,E,c,f):(jn.flags|=s,b.memoizedState=xd(1|a,E,c,f))}function xw(s,a){zm(8390656,8,s,a)}function vw(s,a){rf(2048,8,s,a)}function yw(s,a){return rf(4,2,s,a)}function jw(s,a){return rf(4,4,s,a)}function bw(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Sw(s,a,c){c=c!=null?c.concat([s]):null,rf(4,4,bw.bind(null,a,s),c)}function Zv(){}function ww(s,a){var c=ss();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Ov(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function Cw(s,a){var c=ss();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Ov(a,f[1]))return f[0];if(f=s(),ou){Qe(!0);try{s()}finally{Qe(!1)}}return c.memoizedState=[f,a],f}function Xv(s,a,c){return c===void 0||(ec&1073741824)!==0?s.memoizedState=a:(s.memoizedState=c,s=TC(),jn.lanes|=s,oc|=s,c)}function Ew(s,a,c,f){return li(c,a)?c:pd.current!==null?(s=Xv(s,c,f),li(s,a)||(Ts=!0),s):(ec&42)===0?(Ts=!0,s.memoizedState=c):(s=TC(),jn.lanes|=s,oc|=s,a)}function _w(s,a,c,f,b){var E=q.p;q.p=E!==0&&8>E?E:8;var V=Y.T,ee={};Y.T=ee,Jv(s,!1,a,c);try{var me=b(),Le=Y.S;if(Le!==null&&Le(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=OM(me,f);sf(s,a,qe,oa(s))}else sf(s,a,f,oa(s))}catch(Ze){sf(s,a,{then:function(){},status:"rejected",reason:Ze},oa())}finally{q.p=E,Y.T=V}}function UM(){}function Kv(s,a,c,f){if(s.tag!==5)throw Error(i(476));var b=Tw(s).queue;_w(s,b,a,W,c===null?UM:function(){return Aw(s),c(f)})}function Tw(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:W},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Aw(s){var a=Tw(s).next.queue;sf(s,a,{},oa())}function Qv(){return Ys(wf)}function Rw(){return ss().memoizedState}function kw(){return ss().memoizedState}function HM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=oa();s=Ql(c);var f=Jl(a,s,c);f!==null&&(la(f,a,c),Qh(f,a,c)),a={cache:Av()},s.payload=a;return}a=a.return}}function WM(s,a,c){var f=oa();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Im(s)?Pw(a,c):(c=il(s,a,c,f),c!==null&&(la(c,s,f),Mw(c,a,f)))}function Dw(s,a,c){var f=oa();sf(s,a,c,f)}function sf(s,a,c,f){var b={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Im(s))Pw(a,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var V=a.lastRenderedState,ee=E(V,c);if(b.hasEagerState=!0,b.eagerState=ee,li(ee,V))return Jc(s,a,b,0),jr===null&&Qc(),!1}catch{}finally{}if(c=il(s,a,b,f),c!==null)return la(c,s,f),Mw(c,a,f),!0}return!1}function Jv(s,a,c,f){if(f={lane:2,revertLane:D0(),action:f,hasEagerState:!1,eagerState:null,next:null},Im(s)){if(a)throw Error(i(479))}else a=il(s,c,f,2),a!==null&&la(a,s,2)}function Im(s){var a=s.alternate;return s===jn||a!==null&&a===jn}function Pw(s,a){md=Rm=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Mw(s,a,c){if((c&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qr(s,c)}}var Nm={readContext:Ys,use:Dm,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useLayoutEffect:qr,useInsertionEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useSyncExternalStore:qr,useId:qr,useHostTransitionStatus:qr,useFormState:qr,useActionState:qr,useOptimistic:qr,useMemoCache:qr,useCacheRefresh:qr},zw={readContext:Ys,use:Dm,useCallback:function(s,a){return Ti().memoizedState=[s,a===void 0?null:a],s},useContext:Ys,useEffect:xw,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,zm(4194308,4,bw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return zm(4194308,4,s,a)},useInsertionEffect:function(s,a){zm(4,2,s,a)},useMemo:function(s,a){var c=Ti();a=a===void 0?null:a;var f=s();if(ou){Qe(!0);try{s()}finally{Qe(!1)}}return c.memoizedState=[f,a],f},useReducer:function(s,a,c){var f=Ti();if(c!==void 0){var b=c(a);if(ou){Qe(!0);try{c(a)}finally{Qe(!1)}}}else b=a;return f.memoizedState=f.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},f.queue=s,s=s.dispatch=WM.bind(null,jn,s),[f.memoizedState,s]},useRef:function(s){var a=Ti();return s={current:s},a.memoizedState=s},useState:function(s){s=Gv(s);var a=s.queue,c=Dw.bind(null,jn,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Zv,useDeferredValue:function(s,a){var c=Ti();return Xv(c,s,a)},useTransition:function(){var s=Gv(!1);return s=_w.bind(null,jn,s.queue,!0,!1),Ti().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var f=jn,b=Ti();if(rn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),jr===null)throw Error(i(349));(Fn&124)!==0||tw(f,a,c)}b.memoizedState=c;var E={value:c,getSnapshot:a};return b.queue=E,xw(rw.bind(null,f,E,s),[s]),f.flags|=2048,xd(9,Mm(),nw.bind(null,f,E,c,a),null),c},useId:function(){var s=Ti(),a=jr.identifierPrefix;if(rn){var c=pe,f=Z;c=(f&~(1<<32-bt(f)-1)).toString(32)+c,a=""+a+"R"+c,c=km++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=BM++,a=""+a+"r"+c.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Qv,useFormState:hw,useActionState:hw,useOptimistic:function(s){var a=Ti();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Jv.bind(null,jn,!0,c),c.dispatch=a,[s,a]},useMemoCache:Hv,useCacheRefresh:function(){return Ti().memoizedState=HM.bind(null,jn)}},Iw={readContext:Ys,use:Dm,useCallback:ww,useContext:Ys,useEffect:vw,useImperativeHandle:Sw,useInsertionEffect:yw,useLayoutEffect:jw,useMemo:Cw,useReducer:Pm,useRef:gw,useState:function(){return Pm(ll)},useDebugValue:Zv,useDeferredValue:function(s,a){var c=ss();return Ew(c,fr.memoizedState,s,a)},useTransition:function(){var s=Pm(ll)[0],a=ss().memoizedState;return[typeof s=="boolean"?s:nf(s),a]},useSyncExternalStore:ew,useId:Rw,useHostTransitionStatus:Qv,useFormState:fw,useActionState:fw,useOptimistic:function(s,a){var c=ss();return aw(c,fr,s,a)},useMemoCache:Hv,useCacheRefresh:kw},qM={readContext:Ys,use:Dm,useCallback:ww,useContext:Ys,useEffect:vw,useImperativeHandle:Sw,useInsertionEffect:yw,useLayoutEffect:jw,useMemo:Cw,useReducer:qv,useRef:gw,useState:function(){return qv(ll)},useDebugValue:Zv,useDeferredValue:function(s,a){var c=ss();return fr===null?Xv(c,s,a):Ew(c,fr.memoizedState,s,a)},useTransition:function(){var s=qv(ll)[0],a=ss().memoizedState;return[typeof s=="boolean"?s:nf(s),a]},useSyncExternalStore:ew,useId:Rw,useHostTransitionStatus:Qv,useFormState:mw,useActionState:mw,useOptimistic:function(s,a){var c=ss();return fr!==null?aw(c,fr,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Hv,useCacheRefresh:kw},vd=null,af=0;function Lm(s){var a=af;return af+=1,vd===null&&(vd=[]),q1(vd,s,a)}function of(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Om(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Nw(s){var a=s._init;return a(s._payload)}function Lw(s){function a(De,Se){if(s){var ze=De.deletions;ze===null?(De.deletions=[Se],De.flags|=16):ze.push(Se)}}function c(De,Se){if(!s)return null;for(;Se!==null;)a(De,Se),Se=Se.sibling;return null}function f(De){for(var Se=new Map;De!==null;)De.key!==null?Se.set(De.key,De):Se.set(De.index,De),De=De.sibling;return Se}function b(De,Se){return De=ja(De,Se),De.index=0,De.sibling=null,De}function E(De,Se,ze){return De.index=ze,s?(ze=De.alternate,ze!==null?(ze=ze.index,ze<Se?(De.flags|=67108866,Se):ze):(De.flags|=67108866,Se)):(De.flags|=1048576,Se)}function V(De){return s&&De.alternate===null&&(De.flags|=67108866),De}function ee(De,Se,ze,Ge){return Se===null||Se.tag!==6?(Se=Gh(ze,De.mode,Ge),Se.return=De,Se):(Se=b(Se,ze),Se.return=De,Se)}function me(De,Se,ze,Ge){var zt=ze.type;return zt===C?qe(De,Se,ze.props.children,Ge,ze.key):Se!==null&&(Se.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===U&&Nw(zt)===Se.type)?(Se=b(Se,ze.props),of(Se,ze),Se.return=De,Se):(Se=tu(ze.type,ze.key,ze.props,null,De.mode,Ge),of(Se,ze),Se.return=De,Se)}function Le(De,Se,ze,Ge){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==ze.containerInfo||Se.stateNode.implementation!==ze.implementation?(Se=ud(ze,De.mode,Ge),Se.return=De,Se):(Se=b(Se,ze.children||[]),Se.return=De,Se)}function qe(De,Se,ze,Ge,zt){return Se===null||Se.tag!==7?(Se=So(ze,De.mode,Ge,zt),Se.return=De,Se):(Se=b(Se,ze),Se.return=De,Se)}function Ze(De,Se,ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Gh(""+Se,De.mode,ze),Se.return=De,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case S:return ze=tu(Se.type,Se.key,Se.props,null,De.mode,ze),of(ze,Se),ze.return=De,ze;case w:return Se=ud(Se,De.mode,ze),Se.return=De,Se;case U:var Ge=Se._init;return Se=Ge(Se._payload),Ze(De,Se,ze)}if(se(Se)||de(Se))return Se=So(Se,De.mode,ze,null),Se.return=De,Se;if(typeof Se.then=="function")return Ze(De,Lm(Se),ze);if(Se.$$typeof===k)return Ze(De,Cm(De,Se),ze);Om(De,Se)}return null}function Oe(De,Se,ze,Ge){var zt=Se!==null?Se.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return zt!==null?null:ee(De,Se,""+ze,Ge);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:return ze.key===zt?me(De,Se,ze,Ge):null;case w:return ze.key===zt?Le(De,Se,ze,Ge):null;case U:return zt=ze._init,ze=zt(ze._payload),Oe(De,Se,ze,Ge)}if(se(ze)||de(ze))return zt!==null?null:qe(De,Se,ze,Ge,null);if(typeof ze.then=="function")return Oe(De,Se,Lm(ze),Ge);if(ze.$$typeof===k)return Oe(De,Se,Cm(De,ze),Ge);Om(De,ze)}return null}function $e(De,Se,ze,Ge,zt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return De=De.get(ze)||null,ee(Se,De,""+Ge,zt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case S:return De=De.get(Ge.key===null?ze:Ge.key)||null,me(Se,De,Ge,zt);case w:return De=De.get(Ge.key===null?ze:Ge.key)||null,Le(Se,De,Ge,zt);case U:var wn=Ge._init;return Ge=wn(Ge._payload),$e(De,Se,ze,Ge,zt)}if(se(Ge)||de(Ge))return De=De.get(ze)||null,qe(Se,De,Ge,zt,null);if(typeof Ge.then=="function")return $e(De,Se,ze,Lm(Ge),zt);if(Ge.$$typeof===k)return $e(De,Se,ze,Cm(Se,Ge),zt);Om(Se,Ge)}return null}function tn(De,Se,ze,Ge){for(var zt=null,wn=null,Vt=Se,Qt=Se=0,Rs=null;Vt!==null&&Qt<ze.length;Qt++){Vt.index>Qt?(Rs=Vt,Vt=null):Rs=Vt.sibling;var Kn=Oe(De,Vt,ze[Qt],Ge);if(Kn===null){Vt===null&&(Vt=Rs);break}s&&Vt&&Kn.alternate===null&&a(De,Vt),Se=E(Kn,Se,Qt),wn===null?zt=Kn:wn.sibling=Kn,wn=Kn,Vt=Rs}if(Qt===ze.length)return c(De,Vt),rn&&Me(De,Qt),zt;if(Vt===null){for(;Qt<ze.length;Qt++)Vt=Ze(De,ze[Qt],Ge),Vt!==null&&(Se=E(Vt,Se,Qt),wn===null?zt=Vt:wn.sibling=Vt,wn=Vt);return rn&&Me(De,Qt),zt}for(Vt=f(Vt);Qt<ze.length;Qt++)Rs=$e(Vt,De,Qt,ze[Qt],Ge),Rs!==null&&(s&&Rs.alternate!==null&&Vt.delete(Rs.key===null?Qt:Rs.key),Se=E(Rs,Se,Qt),wn===null?zt=Rs:wn.sibling=Rs,wn=Rs);return s&&Vt.forEach(function(gc){return a(De,gc)}),rn&&Me(De,Qt),zt}function Xt(De,Se,ze,Ge){if(ze==null)throw Error(i(151));for(var zt=null,wn=null,Vt=Se,Qt=Se=0,Rs=null,Kn=ze.next();Vt!==null&&!Kn.done;Qt++,Kn=ze.next()){Vt.index>Qt?(Rs=Vt,Vt=null):Rs=Vt.sibling;var gc=Oe(De,Vt,Kn.value,Ge);if(gc===null){Vt===null&&(Vt=Rs);break}s&&Vt&&gc.alternate===null&&a(De,Vt),Se=E(gc,Se,Qt),wn===null?zt=gc:wn.sibling=gc,wn=gc,Vt=Rs}if(Kn.done)return c(De,Vt),rn&&Me(De,Qt),zt;if(Vt===null){for(;!Kn.done;Qt++,Kn=ze.next())Kn=Ze(De,Kn.value,Ge),Kn!==null&&(Se=E(Kn,Se,Qt),wn===null?zt=Kn:wn.sibling=Kn,wn=Kn);return rn&&Me(De,Qt),zt}for(Vt=f(Vt);!Kn.done;Qt++,Kn=ze.next())Kn=$e(Vt,De,Qt,Kn.value,Ge),Kn!==null&&(s&&Kn.alternate!==null&&Vt.delete(Kn.key===null?Qt:Kn.key),Se=E(Kn,Se,Qt),wn===null?zt=Kn:wn.sibling=Kn,wn=Kn);return s&&Vt.forEach(function(Gz){return a(De,Gz)}),rn&&Me(De,Qt),zt}function mr(De,Se,ze,Ge){if(typeof ze=="object"&&ze!==null&&ze.type===C&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:e:{for(var zt=ze.key;Se!==null;){if(Se.key===zt){if(zt=ze.type,zt===C){if(Se.tag===7){c(De,Se.sibling),Ge=b(Se,ze.props.children),Ge.return=De,De=Ge;break e}}else if(Se.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===U&&Nw(zt)===Se.type){c(De,Se.sibling),Ge=b(Se,ze.props),of(Ge,ze),Ge.return=De,De=Ge;break e}c(De,Se);break}else a(De,Se);Se=Se.sibling}ze.type===C?(Ge=So(ze.props.children,De.mode,Ge,ze.key),Ge.return=De,De=Ge):(Ge=tu(ze.type,ze.key,ze.props,null,De.mode,Ge),of(Ge,ze),Ge.return=De,De=Ge)}return V(De);case w:e:{for(zt=ze.key;Se!==null;){if(Se.key===zt)if(Se.tag===4&&Se.stateNode.containerInfo===ze.containerInfo&&Se.stateNode.implementation===ze.implementation){c(De,Se.sibling),Ge=b(Se,ze.children||[]),Ge.return=De,De=Ge;break e}else{c(De,Se);break}else a(De,Se);Se=Se.sibling}Ge=ud(ze,De.mode,Ge),Ge.return=De,De=Ge}return V(De);case U:return zt=ze._init,ze=zt(ze._payload),mr(De,Se,ze,Ge)}if(se(ze))return tn(De,Se,ze,Ge);if(de(ze)){if(zt=de(ze),typeof zt!="function")throw Error(i(150));return ze=zt.call(ze),Xt(De,Se,ze,Ge)}if(typeof ze.then=="function")return mr(De,Se,Lm(ze),Ge);if(ze.$$typeof===k)return mr(De,Se,Cm(De,ze),Ge);Om(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Se!==null&&Se.tag===6?(c(De,Se.sibling),Ge=b(Se,ze),Ge.return=De,De=Ge):(c(De,Se),Ge=Gh(ze,De.mode,Ge),Ge.return=De,De=Ge),V(De)):c(De,Se)}return function(De,Se,ze,Ge){try{af=0;var zt=mr(De,Se,ze,Ge);return vd=null,zt}catch(Vt){if(Vt===Xh||Vt===_m)throw Vt;var wn=hi(29,Vt,null,De.mode);return wn.lanes=Ge,wn.return=De,wn}finally{}}}var yd=Lw(!0),Ow=Lw(!1),Sa=ie(null),Co=null;function tc(s){var a=s.alternate;$(fs,fs.current&1),$(Sa,s),Co===null&&(a===null||pd.current!==null||a.memoizedState!==null)&&(Co=s)}function Bw(s){if(s.tag===22){if($(fs,fs.current),$(Sa,s),Co===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Co=s)}}else nc()}function nc(){$(fs,fs.current),$(Sa,Sa.current)}function cl(s){xe(Sa),Co===s&&(Co=null),xe(fs)}var fs=ie(0);function Bm(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||U0(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function e0(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:x({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var t0={enqueueSetState:function(s,a,c){s=s._reactInternals;var f=oa(),b=Ql(f);b.payload=a,c!=null&&(b.callback=c),a=Jl(s,b,f),a!==null&&(la(a,s,f),Qh(a,s,f))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=oa(),b=Ql(f);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Jl(s,b,f),a!==null&&(la(a,s,f),Qh(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=oa(),f=Ql(c);f.tag=2,a!=null&&(f.callback=a),a=Jl(s,f,c),a!==null&&(la(a,s,c),Qh(a,s,c))}};function $w(s,a,c,f,b,E,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,E,V):a.prototype&&a.prototype.isPureReactComponent?!ci(c,f)||!ci(b,E):!0}function Fw(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&t0.enqueueReplaceState(a,a.state,null)}function lu(s,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(s=s.defaultProps){c===a&&(c=x({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}var $m=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Vw(s){$m(s)}function Uw(s){console.error(s)}function Hw(s){$m(s)}function Fm(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Ww(s,a,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function n0(s,a,c){return c=Ql(c),c.tag=3,c.payload={element:null},c.callback=function(){Fm(s,a)},c}function qw(s){return s=Ql(s),s.tag=3,s}function Gw(s,a,c,f){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var E=f.value;s.payload=function(){return b(E)},s.callback=function(){Ww(a,c,f)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){Ww(a,c,f),typeof b!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var ee=f.stack;this.componentDidCatch(f.value,{componentStack:ee!==null?ee:""})})}function GM(s,a,c,f,b){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&su(a,c,b,!0),c=Sa.current,c!==null){switch(c.tag){case 13:return Co===null?_0():c.alternate===null&&Fr===0&&(Fr=3),c.flags&=-257,c.flags|=65536,c.lanes=b,f===Dv?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),A0(s,f,b)),!1;case 22:return c.flags|=65536,f===Dv?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),A0(s,f,b)),!1}throw Error(i(435,c.tag))}return A0(s,f,b),_0(),!1}if(rn)return a=Sa.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,f!==_s&&(s=Error(i(422),{cause:f}),Xl(ui(s,c)))):(f!==_s&&(a=Error(i(423),{cause:f}),Xl(ui(a,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,f=ui(f,c),b=n0(s.stateNode,f,b),zv(s,b),Fr!==4&&(Fr=2)),!1;var E=Error(i(520),{cause:f});if(E=ui(E,c),pf===null?pf=[E]:pf.push(E),Fr!==4&&(Fr=2),a===null)return!0;f=ui(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=n0(c.stateNode,f,s),zv(c,s),!1;case 1:if(a=c.type,E=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(lc===null||!lc.has(E))))return c.flags|=65536,b&=-b,c.lanes|=b,b=qw(b),Gw(b,s,c,f),zv(c,b),!1}c=c.return}while(c!==null);return!1}var Yw=Error(i(461)),Ts=!1;function zs(s,a,c,f){a.child=s===null?Ow(a,null,c,f):yd(a,s.child,c,f)}function Zw(s,a,c,f,b){c=c.render;var E=a.ref;if("ref"in f){var V={};for(var ee in f)ee!=="ref"&&(V[ee]=f[ee])}else V=f;return iu(a),f=Bv(s,a,c,V,E,b),ee=$v(),s!==null&&!Ts?(Fv(s,a,b),ul(s,a,b)):(rn&&ee&&Je(a),a.flags|=1,zs(s,a,f,b),a.child)}function Xw(s,a,c,f,b){if(s===null){var E=c.type;return typeof E=="function"&&!cd(E)&&E.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=E,Kw(s,a,E,f,b)):(s=tu(c.type,null,f,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!u0(s,b)){var V=E.memoizedProps;if(c=c.compare,c=c!==null?c:ci,c(V,f)&&s.ref===a.ref)return ul(s,a,b)}return a.flags|=1,s=ja(E,f),s.ref=a.ref,s.return=a,a.child=s}function Kw(s,a,c,f,b){if(s!==null){var E=s.memoizedProps;if(ci(E,f)&&s.ref===a.ref)if(Ts=!1,a.pendingProps=f=E,u0(s,b))(s.flags&131072)!==0&&(Ts=!0);else return a.lanes=s.lanes,ul(s,a,b)}return r0(s,a,c,f,b)}function Qw(s,a,c){var f=a.pendingProps,b=f.children,E=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=E!==null?E.baseLanes|c:c,s!==null){for(b=a.child=s.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;a.childLanes=E&~f}else a.childLanes=0,a.child=null;return Jw(s,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Em(a,E!==null?E.cachePool:null),E!==null?K1(a,E):Nv(),Bw(a);else return a.lanes=a.childLanes=536870912,Jw(s,a,E!==null?E.baseLanes|c:c,c)}else E!==null?(Em(a,E.cachePool),K1(a,E),nc(),a.memoizedState=null):(s!==null&&Em(a,null),Nv(),nc());return zs(s,a,b,c),a.child}function Jw(s,a,c,f){var b=kv();return b=b===null?null:{parent:hs._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&Em(a,null),Nv(),Bw(a),s!==null&&su(s,a,f,!0),null}function Vm(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function r0(s,a,c,f,b){return iu(a),c=Bv(s,a,c,f,void 0,b),f=$v(),s!==null&&!Ts?(Fv(s,a,b),ul(s,a,b)):(rn&&f&&Je(a),a.flags|=1,zs(s,a,c,b),a.child)}function eC(s,a,c,f,b,E){return iu(a),a.updateQueue=null,c=J1(a,f,c,b),Q1(s),f=$v(),s!==null&&!Ts?(Fv(s,a,E),ul(s,a,E)):(rn&&f&&Je(a),a.flags|=1,zs(s,a,c,E),a.child)}function tC(s,a,c,f,b){if(iu(a),a.stateNode===null){var E=al,V=c.contextType;typeof V=="object"&&V!==null&&(E=Ys(V)),E=new c(f,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=t0,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=f,E.state=a.memoizedState,E.refs={},Pv(a),V=c.contextType,E.context=typeof V=="object"&&V!==null?Ys(V):al,E.state=a.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(e0(a,c,V,f),E.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(V=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),V!==E.state&&t0.enqueueReplaceState(E,E.state,null),ef(a,f,E,b),Jh(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){E=a.stateNode;var ee=a.memoizedProps,me=lu(c,ee);E.props=me;var Le=E.context,qe=c.contextType;V=al,typeof qe=="object"&&qe!==null&&(V=Ys(qe));var Ze=c.getDerivedStateFromProps;qe=typeof Ze=="function"||typeof E.getSnapshotBeforeUpdate=="function",ee=a.pendingProps!==ee,qe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(ee||Le!==V)&&Fw(a,E,f,V),Kl=!1;var Oe=a.memoizedState;E.state=Oe,ef(a,f,E,b),Jh(),Le=a.memoizedState,ee||Oe!==Le||Kl?(typeof Ze=="function"&&(e0(a,c,Ze,f),Le=a.memoizedState),(me=Kl||$w(a,c,me,f,Oe,Le,V))?(qe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Le),E.props=f,E.state=Le,E.context=V,f=me):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{E=a.stateNode,Mv(s,a),V=a.memoizedProps,qe=lu(c,V),E.props=qe,Ze=a.pendingProps,Oe=E.context,Le=c.contextType,me=al,typeof Le=="object"&&Le!==null&&(me=Ys(Le)),ee=c.getDerivedStateFromProps,(Le=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==Ze||Oe!==me)&&Fw(a,E,f,me),Kl=!1,Oe=a.memoizedState,E.state=Oe,ef(a,f,E,b),Jh();var $e=a.memoizedState;V!==Ze||Oe!==$e||Kl||s!==null&&s.dependencies!==null&&wm(s.dependencies)?(typeof ee=="function"&&(e0(a,c,ee,f),$e=a.memoizedState),(qe=Kl||$w(a,c,qe,f,Oe,$e,me)||s!==null&&s.dependencies!==null&&wm(s.dependencies))?(Le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,$e,me),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,$e,me)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||V===s.memoizedProps&&Oe===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Oe===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=$e),E.props=f,E.state=$e,E.context=me,f=qe):(typeof E.componentDidUpdate!="function"||V===s.memoizedProps&&Oe===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Oe===s.memoizedState||(a.flags|=1024),f=!1)}return E=f,Vm(s,a),f=(a.flags&128)!==0,E||f?(E=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,s!==null&&f?(a.child=yd(a,s.child,null,b),a.child=yd(a,null,c,b)):zs(s,a,c,b),a.memoizedState=E.state,s=a.child):s=ul(s,a,b),s}function nC(s,a,c,f){return Zl(),a.flags|=256,zs(s,a,c,f),a.child}var s0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(s){return{baseLanes:s,cachePool:U1()}}function a0(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=wa),s}function rC(s,a,c){var f=a.pendingProps,b=!1,E=(a.flags&128)!==0,V;if((V=E)||(V=s!==null&&s.memoizedState===null?!1:(fs.current&2)!==0),V&&(b=!0,a.flags&=-129),V=(a.flags&32)!==0,a.flags&=-33,s===null){if(rn){if(b?tc(a):nc(),rn){var ee=Ot,me;if(me=ee){e:{for(me=ee,ee=zr;me.nodeType!==8;){if(!ee){ee=null;break e}if(me=Ja(me.nextSibling),me===null){ee=null;break e}}ee=me}ee!==null?(a.memoizedState={dehydrated:ee,treeContext:z!==null?{id:Z,overflow:pe}:null,retryLane:536870912,hydrationErrors:null},me=hi(18,null,null,0),me.stateNode=ee,me.return=a,a.child=me,Pt=a,Ot=null,me=!0):me=!1}me||_i(a)}if(ee=a.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return U0(ee)?a.lanes=32:a.lanes=536870912,null;cl(a)}return ee=f.children,f=f.fallback,b?(nc(),b=a.mode,ee=Um({mode:"hidden",children:ee},b),f=So(f,b,c,null),ee.return=a,f.return=a,ee.sibling=f,a.child=ee,b=a.child,b.memoizedState=i0(c),b.childLanes=a0(s,V,c),a.memoizedState=s0,f):(tc(a),o0(a,ee))}if(me=s.memoizedState,me!==null&&(ee=me.dehydrated,ee!==null)){if(E)a.flags&256?(tc(a),a.flags&=-257,a=l0(s,a,c)):a.memoizedState!==null?(nc(),a.child=s.child,a.flags|=128,a=null):(nc(),b=f.fallback,ee=a.mode,f=Um({mode:"visible",children:f.children},ee),b=So(b,ee,c,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,yd(a,s.child,null,c),f=a.child,f.memoizedState=i0(c),f.childLanes=a0(s,V,c),a.memoizedState=s0,a=b);else if(tc(a),U0(ee)){if(V=ee.nextSibling&&ee.nextSibling.dataset,V)var Le=V.dgst;V=Le,f=Error(i(419)),f.stack="",f.digest=V,Xl({value:f,source:null,stack:null}),a=l0(s,a,c)}else if(Ts||su(s,a,c,!1),V=(c&s.childLanes)!==0,Ts||V){if(V=jr,V!==null&&(f=c&-c,f=(f&42)!==0?1:$i(f),f=(f&(V.suspendedLanes|c))!==0?0:f,f!==0&&f!==me.retryLane))throw me.retryLane=f,Gl(s,f),la(V,s,f),Yw;ee.data==="$?"||_0(),a=l0(s,a,c)}else ee.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=me.treeContext,Ot=Ja(ee.nextSibling),Pt=a,rn=!0,yr=null,zr=!1,s!==null&&(j[A++]=Z,j[A++]=pe,j[A++]=z,Z=s.id,pe=s.overflow,z=a),a=o0(a,f.children),a.flags|=4096);return a}return b?(nc(),b=f.fallback,ee=a.mode,me=s.child,Le=me.sibling,f=ja(me,{mode:"hidden",children:f.children}),f.subtreeFlags=me.subtreeFlags&65011712,Le!==null?b=ja(Le,b):(b=So(b,ee,c,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,ee=s.child.memoizedState,ee===null?ee=i0(c):(me=ee.cachePool,me!==null?(Le=hs._currentValue,me=me.parent!==Le?{parent:Le,pool:Le}:me):me=U1(),ee={baseLanes:ee.baseLanes|c,cachePool:me}),b.memoizedState=ee,b.childLanes=a0(s,V,c),a.memoizedState=s0,f):(tc(a),c=s.child,s=c.sibling,c=ja(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,s!==null&&(V=a.deletions,V===null?(a.deletions=[s],a.flags|=16):V.push(s)),a.child=c,a.memoizedState=null,c)}function o0(s,a){return a=Um({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Um(s,a){return s=hi(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function l0(s,a,c){return yd(a,s.child,null,c),s=o0(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sC(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),ru(s.return,a,c)}function c0(s,a,c,f,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=c,E.tailMode=b)}function iC(s,a,c){var f=a.pendingProps,b=f.revealOrder,E=f.tail;if(zs(s,a,f.children,c),f=fs.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sC(s,c,a);else if(s.tag===19)sC(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch($(fs,f),b){case"forwards":for(c=a.child,b=null;c!==null;)s=c.alternate,s!==null&&Bm(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=a.child,a.child=null):(b=c.sibling,c.sibling=null),c0(a,!1,b,c,E);break;case"backwards":for(c=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&Bm(s)===null){a.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}c0(a,!0,c,null,E);break;case"together":c0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ul(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),oc|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(su(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=ja(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=ja(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function u0(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&wm(s)))}function YM(s,a,c){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),wo(a,hs,s.memoizedState.cache),Zl();break;case 27:case 5:He(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:wo(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(tc(a),a.flags|=128,null):(c&a.child.childLanes)!==0?rC(s,a,c):(tc(a),s=ul(s,a,c),s!==null?s.sibling:null);tc(a);break;case 19:var b=(s.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(su(s,a,c,!1),f=(c&a.childLanes)!==0),b){if(f)return iC(s,a,c);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),$(fs,fs.current),f)break;return null;case 22:case 23:return a.lanes=0,Qw(s,a,c);case 24:wo(a,hs,s.memoizedState.cache)}return ul(s,a,c)}function aC(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ts=!0;else{if(!u0(s,c)&&(a.flags&128)===0)return Ts=!1,YM(s,a,c);Ts=(s.flags&131072)!==0}else Ts=!1,rn&&(a.flags&1048576)!==0&&Fe(a,h,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,b=f._init;if(f=b(f._payload),a.type=f,typeof f=="function")cd(f)?(s=lu(f,s),a.tag=1,a=tC(null,a,f,s,c)):(a.tag=0,a=r0(null,a,f,s,c));else{if(f!=null){if(b=f.$$typeof,b===N){a.tag=11,a=Zw(null,a,f,s,c);break e}else if(b===H){a.tag=14,a=Xw(null,a,f,s,c);break e}}throw a=fe(f)||f,Error(i(306,a,""))}}return a;case 0:return r0(s,a,a.type,a.pendingProps,c);case 1:return f=a.type,b=lu(f,a.pendingProps),tC(s,a,f,b,c);case 3:e:{if(ve(a,a.stateNode.containerInfo),s===null)throw Error(i(387));f=a.pendingProps;var E=a.memoizedState;b=E.element,Mv(s,a),ef(a,f,null,c);var V=a.memoizedState;if(f=V.cache,wo(a,hs,f),f!==E.cache&&dd(a,[hs],c,!0),Jh(),f=V.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:V.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=nC(s,a,f,c);break e}else if(f!==b){b=ui(Error(i(424)),a),Xl(b),a=nC(s,a,f,c);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ot=Ja(s.firstChild),Pt=a,rn=!0,yr=null,zr=!0,c=Ow(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zl(),f===b){a=ul(s,a,c);break e}zs(s,a,f,c)}a=a.child}return a;case 26:return Vm(s,a),s===null?(c=uE(a.type,null,a.pendingProps,null))?a.memoizedState=c:rn||(c=a.type,s=a.pendingProps,f=rg(X.current).createElement(c),f[Er]=a,f[Jr]=s,Ns(f,c,s),xr(f),a.stateNode=f):a.memoizedState=uE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return He(a),s===null&&rn&&(f=a.stateNode=oE(a.type,a.pendingProps,X.current),Pt=a,zr=!0,b=Ot,dc(a.type)?(H0=b,Ot=Ja(f.firstChild)):Ot=b),zs(s,a,a.pendingProps.children,c),Vm(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&rn&&((b=f=Ot)&&(f=Sz(f,a.type,a.pendingProps,zr),f!==null?(a.stateNode=f,Pt=a,Ot=Ja(f.firstChild),zr=!1,b=!0):b=!1),b||_i(a)),He(a),b=a.type,E=a.pendingProps,V=s!==null?s.memoizedProps:null,f=E.children,$0(b,E)?f=null:V!==null&&$0(b,V)&&(a.flags|=32),a.memoizedState!==null&&(b=Bv(s,a,$M,null,null,c),wf._currentValue=b),Vm(s,a),zs(s,a,f,c),a.child;case 6:return s===null&&rn&&((s=c=Ot)&&(c=wz(c,a.pendingProps,zr),c!==null?(a.stateNode=c,Pt=a,Ot=null,s=!0):s=!1),s||_i(a)),null;case 13:return rC(s,a,c);case 4:return ve(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=yd(a,null,f,c):zs(s,a,f,c),a.child;case 11:return Zw(s,a,a.type,a.pendingProps,c);case 7:return zs(s,a,a.pendingProps,c),a.child;case 8:return zs(s,a,a.pendingProps.children,c),a.child;case 12:return zs(s,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,wo(a,a.type,f.value),zs(s,a,f.children,c),a.child;case 9:return b=a.type._context,f=a.pendingProps.children,iu(a),b=Ys(b),f=f(b),a.flags|=1,zs(s,a,f,c),a.child;case 14:return Xw(s,a,a.type,a.pendingProps,c);case 15:return Kw(s,a,a.type,a.pendingProps,c);case 19:return iC(s,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},s===null?(c=Um(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=ja(s.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return Qw(s,a,c);case 24:return iu(a),f=Ys(hs),s===null?(b=kv(),b===null&&(b=jr,E=Av(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=c),b=E),a.memoizedState={parent:f,cache:b},Pv(a),wo(a,hs,b)):((s.lanes&c)!==0&&(Mv(s,a),ef(a,null,null,c),Jh()),b=s.memoizedState,E=a.memoizedState,b.parent!==f?(b={parent:f,cache:f},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),wo(a,hs,f)):(f=E.cache,wo(a,hs,f),f!==b.cache&&dd(a,[hs],c,!0))),zs(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function dl(s){s.flags|=4}function oC(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mE(a)){if(a=Sa.current,a!==null&&((Fn&4194048)===Fn?Co!==null:(Fn&62914560)!==Fn&&(Fn&536870912)===0||a!==Co))throw Kh=Dv,H1;s.flags|=8192}}function Hm(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Kr():536870912,s.lanes|=a,wd|=a)}function lf(s,a){if(!rn)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ir(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function ZM(s,a,c){var f=a.pendingProps;switch(mt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(a),null;case 1:return Ir(a),null;case 3:return c=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ka(hs),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(nu(a)?dl(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Sm())),Ir(a),null;case 26:return c=a.memoizedState,s===null?(dl(a),c!==null?(Ir(a),oC(a,c)):(Ir(a),a.flags&=-16777217)):c?c!==s.memoizedState?(dl(a),Ir(a),oC(a,c)):(Ir(a),a.flags&=-16777217):(s.memoizedProps!==f&&dl(a),Ir(a),a.flags&=-16777217),null;case 27:ct(a),c=X.current;var b=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&dl(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Ir(a),null}s=F.current,nu(a)?jm(a):(s=oE(b,f,c),a.stateNode=s,dl(a))}return Ir(a),null;case 5:if(ct(a),c=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&dl(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Ir(a),null}if(s=F.current,nu(a))jm(a);else{switch(b=rg(X.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?b.createElement(c,{is:f.is}):b.createElement(c)}}s[Er]=a,s[Jr]=f;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=s;e:switch(Ns(s,c,f),c){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&dl(a)}}return Ir(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&dl(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(s=X.current,nu(a)){if(s=a.stateNode,c=a.memoizedProps,f=null,b=Pt,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}s[Er]=a,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||eE(s.nodeValue,c)),s||_i(a)}else s=rg(s).createTextNode(f),s[Er]=a,a.stateNode=s}return Ir(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=nu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Er]=a}else Zl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ir(a),b=!1}else b=Sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(cl(a),a):(cl(a),null)}if(cl(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,s=s!==null&&s.memoizedState!==null,c){f=a.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var E=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==b&&(f.flags|=2048)}return c!==s&&c&&(a.child.flags|=8192),Hm(a,a.updateQueue),Ir(a),null;case 4:return be(),s===null&&I0(a.stateNode.containerInfo),Ir(a),null;case 10:return Ka(a.type),Ir(a),null;case 19:if(xe(fs),b=a.memoizedState,b===null)return Ir(a),null;if(f=(a.flags&128)!==0,E=b.rendering,E===null)if(f)lf(b,!1);else{if(Fr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(E=Bm(s),E!==null){for(a.flags|=128,lf(b,!1),s=E.updateQueue,a.updateQueue=s,Hm(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)qh(c,s),c=c.sibling;return $(fs,fs.current&1|2),a.child}s=s.sibling}b.tail!==null&&Ke()>Gm&&(a.flags|=128,f=!0,lf(b,!1),a.lanes=4194304)}else{if(!f)if(s=Bm(E),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,Hm(a,s),lf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!rn)return Ir(a),null}else 2*Ke()-b.renderingStartTime>Gm&&c!==536870912&&(a.flags|=128,f=!0,lf(b,!1),a.lanes=4194304);b.isBackwards?(E.sibling=a.child,a.child=E):(s=b.last,s!==null?s.sibling=E:a.child=E,b.last=E)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Ke(),a.sibling=null,s=fs.current,$(fs,f?s&1|2:s&1),a):(Ir(a),null);case 22:case 23:return cl(a),Lv(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Ir(a),a.subtreeFlags&6&&(a.flags|=8192)):Ir(a),c=a.updateQueue,c!==null&&Hm(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),s!==null&&xe(au),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ka(hs),Ir(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function XM(s,a){switch(mt(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ka(hs),be(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ct(a),null;case 13:if(cl(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Zl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return xe(fs),null;case 4:return be(),null;case 10:return Ka(a.type),null;case 22:case 23:return cl(a),Lv(),s!==null&&xe(au),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ka(hs),null;case 25:return null;default:return null}}function lC(s,a){switch(mt(a),a.tag){case 3:Ka(hs),be();break;case 26:case 27:case 5:ct(a);break;case 4:be();break;case 13:cl(a);break;case 19:xe(fs);break;case 10:Ka(a.type);break;case 22:case 23:cl(a),Lv(),s!==null&&xe(au);break;case 24:Ka(hs)}}function cf(s,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var b=f.next;c=b;do{if((c.tag&s)===s){f=void 0;var E=c.create,V=c.inst;f=E(),V.destroy=f}c=c.next}while(c!==b)}}catch(ee){gr(a,a.return,ee)}}function rc(s,a,c){try{var f=a.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var E=b.next;f=E;do{if((f.tag&s)===s){var V=f.inst,ee=V.destroy;if(ee!==void 0){V.destroy=void 0,b=a;var me=c,Le=ee;try{Le()}catch(qe){gr(b,me,qe)}}}f=f.next}while(f!==E)}}catch(qe){gr(a,a.return,qe)}}function cC(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{X1(a,c)}catch(f){gr(s,s.return,f)}}}function uC(s,a,c){c.props=lu(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){gr(s,a,f)}}function uf(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(b){gr(s,a,b)}}function Eo(s,a){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(b){gr(s,a,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){gr(s,a,b)}else c.current=null}function dC(s){var a=s.type,c=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(b){gr(s,s.return,b)}}function d0(s,a,c){try{var f=s.stateNode;xz(f,s.type,c,a),f[Jr]=a}catch(b){gr(s,s.return,b)}}function hC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&dc(s.type)||s.tag===4}function h0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&dc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function f0(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ng));else if(f!==4&&(f===27&&dc(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(f0(s,a,c),s=s.sibling;s!==null;)f0(s,a,c),s=s.sibling}function Wm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(f===27&&dc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Wm(s,a,c),s=s.sibling;s!==null;)Wm(s,a,c),s=s.sibling}function fC(s){var a=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);Ns(a,f,c),a[Er]=s,a[Jr]=c}catch(E){gr(s,s.return,E)}}var hl=!1,Gr=!1,p0=!1,pC=typeof WeakSet=="function"?WeakSet:Set,As=null;function KM(s,a){if(s=s.containerInfo,O0=cg,s=Zc(s),Xc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var b=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var V=0,ee=-1,me=-1,Le=0,qe=0,Ze=s,Oe=null;t:for(;;){for(var $e;Ze!==c||b!==0&&Ze.nodeType!==3||(ee=V+b),Ze!==E||f!==0&&Ze.nodeType!==3||(me=V+f),Ze.nodeType===3&&(V+=Ze.nodeValue.length),($e=Ze.firstChild)!==null;)Oe=Ze,Ze=$e;for(;;){if(Ze===s)break t;if(Oe===c&&++Le===b&&(ee=V),Oe===E&&++qe===f&&(me=V),($e=Ze.nextSibling)!==null)break;Ze=Oe,Oe=Ze.parentNode}Ze=$e}c=ee===-1||me===-1?null:{start:ee,end:me}}else c=null}c=c||{start:0,end:0}}else c=null;for(B0={focusedElem:s,selectionRange:c},cg=!1,As=a;As!==null;)if(a=As,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,As=s;else for(;As!==null;){switch(a=As,E=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,c=a,b=E.memoizedProps,E=E.memoizedState,f=c.stateNode;try{var tn=lu(c.type,b,c.elementType===c.type);s=f.getSnapshotBeforeUpdate(tn,E),f.__reactInternalSnapshotBeforeUpdate=s}catch(Xt){gr(c,c.return,Xt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)V0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":V0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,As=s;break}As=a.return}}function mC(s,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:sc(s,c),f&4&&cf(5,c);break;case 1:if(sc(s,c),f&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(V){gr(c,c.return,V)}else{var b=lu(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(b,a,s.__reactInternalSnapshotBeforeUpdate)}catch(V){gr(c,c.return,V)}}f&64&&cC(c),f&512&&uf(c,c.return);break;case 3:if(sc(s,c),f&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{X1(s,a)}catch(V){gr(c,c.return,V)}}break;case 27:a===null&&f&4&&fC(c);case 26:case 5:sc(s,c),a===null&&f&4&&dC(c),f&512&&uf(c,c.return);break;case 12:sc(s,c);break;case 13:sc(s,c),f&4&&vC(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=az.bind(null,c),Cz(s,c))));break;case 22:if(f=c.memoizedState!==null||hl,!f){a=a!==null&&a.memoizedState!==null||Gr,b=hl;var E=Gr;hl=f,(Gr=a)&&!E?ic(s,c,(c.subtreeFlags&8772)!==0):sc(s,c),hl=b,Gr=E}break;case 30:break;default:sc(s,c)}}function gC(s){var a=s.alternate;a!==null&&(s.alternate=null,gC(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&kr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ar=null,Ai=!1;function fl(s,a,c){for(c=c.child;c!==null;)xC(s,a,c),c=c.sibling}function xC(s,a,c){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(at,c)}catch{}switch(c.tag){case 26:Gr||Eo(c,a),fl(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Gr||Eo(c,a);var f=Ar,b=Ai;dc(c.type)&&(Ar=c.stateNode,Ai=!1),fl(s,a,c),yf(c.stateNode),Ar=f,Ai=b;break;case 5:Gr||Eo(c,a);case 6:if(f=Ar,b=Ai,Ar=null,fl(s,a,c),Ar=f,Ai=b,Ar!==null)if(Ai)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(c.stateNode)}catch(E){gr(c,a,E)}else try{Ar.removeChild(c.stateNode)}catch(E){gr(c,a,E)}break;case 18:Ar!==null&&(Ai?(s=Ar,iE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Tf(s)):iE(Ar,c.stateNode));break;case 4:f=Ar,b=Ai,Ar=c.stateNode.containerInfo,Ai=!0,fl(s,a,c),Ar=f,Ai=b;break;case 0:case 11:case 14:case 15:Gr||rc(2,c,a),Gr||rc(4,c,a),fl(s,a,c);break;case 1:Gr||(Eo(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&uC(c,a,f)),fl(s,a,c);break;case 21:fl(s,a,c);break;case 22:Gr=(f=Gr)||c.memoizedState!==null,fl(s,a,c),Gr=f;break;default:fl(s,a,c)}}function vC(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Tf(s)}catch(c){gr(a,a.return,c)}}function QM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new pC),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new pC),a;default:throw Error(i(435,s.tag))}}function m0(s,a){var c=QM(s);a.forEach(function(f){var b=oz.bind(null,s,f);c.has(f)||(c.add(f),f.then(b,b))})}function sa(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var b=c[f],E=s,V=a,ee=V;e:for(;ee!==null;){switch(ee.tag){case 27:if(dc(ee.type)){Ar=ee.stateNode,Ai=!1;break e}break;case 5:Ar=ee.stateNode,Ai=!1;break e;case 3:case 4:Ar=ee.stateNode.containerInfo,Ai=!0;break e}ee=ee.return}if(Ar===null)throw Error(i(160));xC(E,V,b),Ar=null,Ai=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)yC(a,s),a=a.sibling}var Qa=null;function yC(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:sa(a,s),ia(s),f&4&&(rc(3,s,s.return),cf(3,s),rc(5,s,s.return));break;case 1:sa(a,s),ia(s),f&512&&(Gr||c===null||Eo(c,c.return)),f&64&&hl&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var b=Qa;if(sa(a,s),ia(s),f&512&&(Gr||c===null||Eo(c,c.return)),f&4){var E=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){e:{f=s.type,c=s.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":E=b.getElementsByTagName("title")[0],(!E||E[bi]||E[Er]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(f),b.head.insertBefore(E,b.querySelector("head > title"))),Ns(E,f,c),E[Er]=s,xr(E),f=E;break e;case"link":var V=fE("link","href",b).get(f+(c.href||""));if(V){for(var ee=0;ee<V.length;ee++)if(E=V[ee],E.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&E.getAttribute("rel")===(c.rel==null?null:c.rel)&&E.getAttribute("title")===(c.title==null?null:c.title)&&E.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(ee,1);break t}}E=b.createElement(f),Ns(E,f,c),b.head.appendChild(E);break;case"meta":if(V=fE("meta","content",b).get(f+(c.content||""))){for(ee=0;ee<V.length;ee++)if(E=V[ee],E.getAttribute("content")===(c.content==null?null:""+c.content)&&E.getAttribute("name")===(c.name==null?null:c.name)&&E.getAttribute("property")===(c.property==null?null:c.property)&&E.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&E.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(ee,1);break t}}E=b.createElement(f),Ns(E,f,c),b.head.appendChild(E);break;default:throw Error(i(468,f))}E[Er]=s,xr(E),f=E}s.stateNode=f}else pE(b,s.type,s.stateNode);else s.stateNode=hE(b,f,s.memoizedProps);else E!==f?(E===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):E.count--,f===null?pE(b,s.type,s.stateNode):hE(b,f,s.memoizedProps)):f===null&&s.stateNode!==null&&d0(s,s.memoizedProps,c.memoizedProps)}break;case 27:sa(a,s),ia(s),f&512&&(Gr||c===null||Eo(c,c.return)),c!==null&&f&4&&d0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(sa(a,s),ia(s),f&512&&(Gr||c===null||Eo(c,c.return)),s.flags&32){b=s.stateNode;try{Ps(b,"")}catch($e){gr(s,s.return,$e)}}f&4&&s.stateNode!=null&&(b=s.memoizedProps,d0(s,b,c!==null?c.memoizedProps:b)),f&1024&&(p0=!0);break;case 6:if(sa(a,s),ia(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch($e){gr(s,s.return,$e)}}break;case 3:if(ag=null,b=Qa,Qa=sg(a.containerInfo),sa(a,s),Qa=b,ia(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Tf(a.containerInfo)}catch($e){gr(s,s.return,$e)}p0&&(p0=!1,jC(s));break;case 4:f=Qa,Qa=sg(s.stateNode.containerInfo),sa(a,s),ia(s),Qa=f;break;case 12:sa(a,s),ia(s);break;case 13:sa(a,s),ia(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(b0=Ke()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,m0(s,f)));break;case 22:b=s.memoizedState!==null;var me=c!==null&&c.memoizedState!==null,Le=hl,qe=Gr;if(hl=Le||b,Gr=qe||me,sa(a,s),Gr=qe,hl=Le,ia(s),f&8192)e:for(a=s.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(c===null||me||hl||Gr||cu(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){me=c=a;try{if(E=me.stateNode,b)V=E.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ee=me.stateNode;var Ze=me.memoizedProps.style,Oe=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;ee.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch($e){gr(me,me.return,$e)}}}else if(a.tag===6){if(c===null){me=a;try{me.stateNode.nodeValue=b?"":me.memoizedProps}catch($e){gr(me,me.return,$e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,m0(s,c))));break;case 19:sa(a,s),ia(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,m0(s,f)));break;case 30:break;case 21:break;default:sa(a,s),ia(s)}}function ia(s){var a=s.flags;if(a&2){try{for(var c,f=s.return;f!==null;){if(hC(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var b=c.stateNode,E=h0(s);Wm(s,E,b);break;case 5:var V=c.stateNode;c.flags&32&&(Ps(V,""),c.flags&=-33);var ee=h0(s);Wm(s,ee,V);break;case 3:case 4:var me=c.stateNode.containerInfo,Le=h0(s);f0(s,Le,me);break;default:throw Error(i(161))}}catch(qe){gr(s,s.return,qe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function jC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;jC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function sc(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mC(s,a.alternate,a),a=a.sibling}function cu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:rc(4,a,a.return),cu(a);break;case 1:Eo(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&uC(a,a.return,c),cu(a);break;case 27:yf(a.stateNode);case 26:case 5:Eo(a,a.return),cu(a);break;case 22:a.memoizedState===null&&cu(a);break;case 30:cu(a);break;default:cu(a)}s=s.sibling}}function ic(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,b=s,E=a,V=E.flags;switch(E.tag){case 0:case 11:case 15:ic(b,E,c),cf(4,E);break;case 1:if(ic(b,E,c),f=E,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Le){gr(f,f.return,Le)}if(f=E,b=f.updateQueue,b!==null){var ee=f.stateNode;try{var me=b.shared.hiddenCallbacks;if(me!==null)for(b.shared.hiddenCallbacks=null,b=0;b<me.length;b++)Z1(me[b],ee)}catch(Le){gr(f,f.return,Le)}}c&&V&64&&cC(E),uf(E,E.return);break;case 27:fC(E);case 26:case 5:ic(b,E,c),c&&f===null&&V&4&&dC(E),uf(E,E.return);break;case 12:ic(b,E,c);break;case 13:ic(b,E,c),c&&V&4&&vC(b,E);break;case 22:E.memoizedState===null&&ic(b,E,c),uf(E,E.return);break;case 30:break;default:ic(b,E,c)}a=a.sibling}}function g0(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Yh(c))}function x0(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Yh(s))}function _o(s,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bC(s,a,c,f),a=a.sibling}function bC(s,a,c,f){var b=a.flags;switch(a.tag){case 0:case 11:case 15:_o(s,a,c,f),b&2048&&cf(9,a);break;case 1:_o(s,a,c,f);break;case 3:_o(s,a,c,f),b&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Yh(s)));break;case 12:if(b&2048){_o(s,a,c,f),s=a.stateNode;try{var E=a.memoizedProps,V=E.id,ee=E.onPostCommit;typeof ee=="function"&&ee(V,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(me){gr(a,a.return,me)}}else _o(s,a,c,f);break;case 13:_o(s,a,c,f);break;case 23:break;case 22:E=a.stateNode,V=a.alternate,a.memoizedState!==null?E._visibility&2?_o(s,a,c,f):df(s,a):E._visibility&2?_o(s,a,c,f):(E._visibility|=2,jd(s,a,c,f,(a.subtreeFlags&10256)!==0)),b&2048&&g0(V,a);break;case 24:_o(s,a,c,f),b&2048&&x0(a.alternate,a);break;default:_o(s,a,c,f)}}function jd(s,a,c,f,b){for(b=b&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=s,V=a,ee=c,me=f,Le=V.flags;switch(V.tag){case 0:case 11:case 15:jd(E,V,ee,me,b),cf(8,V);break;case 23:break;case 22:var qe=V.stateNode;V.memoizedState!==null?qe._visibility&2?jd(E,V,ee,me,b):df(E,V):(qe._visibility|=2,jd(E,V,ee,me,b)),b&&Le&2048&&g0(V.alternate,V);break;case 24:jd(E,V,ee,me,b),b&&Le&2048&&x0(V.alternate,V);break;default:jd(E,V,ee,me,b)}a=a.sibling}}function df(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,f=a,b=f.flags;switch(f.tag){case 22:df(c,f),b&2048&&g0(f.alternate,f);break;case 24:df(c,f),b&2048&&x0(f.alternate,f);break;default:df(c,f)}a=a.sibling}}var hf=8192;function bd(s){if(s.subtreeFlags&hf)for(s=s.child;s!==null;)SC(s),s=s.sibling}function SC(s){switch(s.tag){case 26:bd(s),s.flags&hf&&s.memoizedState!==null&&Lz(Qa,s.memoizedState,s.memoizedProps);break;case 5:bd(s);break;case 3:case 4:var a=Qa;Qa=sg(s.stateNode.containerInfo),bd(s),Qa=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=hf,hf=16777216,bd(s),hf=a):bd(s));break;default:bd(s)}}function wC(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function ff(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];As=f,EC(f,s)}wC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CC(s),s=s.sibling}function CC(s){switch(s.tag){case 0:case 11:case 15:ff(s),s.flags&2048&&rc(9,s,s.return);break;case 3:ff(s);break;case 12:ff(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,qm(s)):ff(s);break;default:ff(s)}}function qm(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];As=f,EC(f,s)}wC(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:rc(8,a,a.return),qm(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,qm(a));break;default:qm(a)}s=s.sibling}}function EC(s,a){for(;As!==null;){var c=As;switch(c.tag){case 0:case 11:case 15:rc(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Yh(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,As=f;else e:for(c=s;As!==null;){f=As;var b=f.sibling,E=f.return;if(gC(f),f===c){As=null;break e}if(b!==null){b.return=E,As=b;break e}As=E}}}var JM={getCacheForType:function(s){var a=Ys(hs),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c}},ez=typeof WeakMap=="function"?WeakMap:Map,or=0,jr=null,kn=null,Fn=0,lr=0,aa=null,ac=!1,Sd=!1,v0=!1,pl=0,Fr=0,oc=0,uu=0,y0=0,wa=0,wd=0,pf=null,Ri=null,j0=!1,b0=0,Gm=1/0,Ym=null,lc=null,Is=0,cc=null,Cd=null,Ed=0,S0=0,w0=null,_C=null,mf=0,C0=null;function oa(){if((or&2)!==0&&Fn!==0)return Fn&-Fn;if(Y.T!==null){var s=hd;return s!==0?s:D0()}return fo()}function TC(){wa===0&&(wa=(Fn&536870912)===0||rn?Sr():536870912);var s=Sa.current;return s!==null&&(s.flags|=32),wa}function la(s,a,c){(s===jr&&(lr===2||lr===9)||s.cancelPendingCommit!==null)&&(_d(s,0),uc(s,Fn,wa,!1)),Bi(s,c),((or&2)===0||s!==jr)&&(s===jr&&((or&2)===0&&(uu|=c),Fr===4&&uc(s,Fn,wa,!1)),To(s))}function AC(s,a,c){if((or&6)!==0)throw Error(i(327));var f=!c&&(a&124)===0&&(a&s.expiredLanes)===0||ot(s,a),b=f?rz(s,a):T0(s,a,!0),E=f;do{if(b===0){Sd&&!f&&uc(s,a,0,!1);break}else{if(c=s.current.alternate,E&&!tz(c)){b=T0(s,a,!1),E=!1;continue}if(b===2){if(E=a,s.errorRecoveryDisabledLanes&E)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){a=V;e:{var ee=s;b=pf;var me=ee.current.memoizedState.isDehydrated;if(me&&(_d(ee,V).flags|=256),V=T0(ee,V,!1),V!==2){if(v0&&!me){ee.errorRecoveryDisabledLanes|=E,uu|=E,b=4;break e}E=Ri,Ri=b,E!==null&&(Ri===null?Ri=E:Ri.push.apply(Ri,E))}b=V}if(E=!1,b!==2)continue}}if(b===1){_d(s,0),uc(s,a,0,!0);break}e:{switch(f=s,E=b,E){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:uc(f,a,wa,!ac);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(b=b0+300-Ke(),10<b)){if(uc(f,a,wa,!ac),Ln(f,0,!0)!==0)break e;f.timeoutHandle=rE(RC.bind(null,f,c,Ri,Ym,j0,a,wa,uu,wd,ac,E,2,-0,0),b);break e}RC(f,c,Ri,Ym,j0,a,wa,uu,wd,ac,E,0,-0,0)}}break}while(!0);To(s)}function RC(s,a,c,f,b,E,V,ee,me,Le,qe,Ze,Oe,$e){if(s.timeoutHandle=-1,Ze=a.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(Sf={stylesheets:null,count:0,unsuspend:Nz},SC(a),Ze=Oz(),Ze!==null)){s.cancelPendingCommit=Ze(NC.bind(null,s,a,E,c,f,b,V,ee,me,qe,1,Oe,$e)),uc(s,E,V,!Le);return}NC(s,a,E,c,f,b,V,ee,me)}function tz(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var b=c[f],E=b.getSnapshot;b=b.value;try{if(!li(E(),b))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function uc(s,a,c,f){a&=~y0,a&=~uu,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var b=a;0<b;){var E=31-bt(b),V=1<<E;f[E]=-1,b&=~V}c!==0&&Xo(s,c,a)}function Zm(){return(or&6)===0?(gf(0),!1):!0}function E0(){if(kn!==null){if(lr===0)var s=kn.return;else s=kn,Xa=ba=null,Vv(s),vd=null,af=0,s=kn;for(;s!==null;)lC(s.alternate,s),s=s.return;kn=null}}function _d(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,yz(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),E0(),jr=s,kn=c=ja(s.current,null),Fn=a,lr=0,aa=null,ac=!1,Sd=ot(s,a),v0=!1,wd=wa=y0=uu=oc=Fr=0,Ri=pf=null,j0=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var b=31-bt(f),E=1<<b;a|=s[b],f&=~E}return pl=a,Qc(),c}function kC(s,a){jn=null,Y.H=Nm,a===Xh||a===_m?(a=G1(),lr=3):a===H1?(a=G1(),lr=4):lr=a===Yw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,aa=a,kn===null&&(Fr=1,Fm(s,ui(a,s.current)))}function DC(){var s=Y.H;return Y.H=Nm,s===null?Nm:s}function PC(){var s=Y.A;return Y.A=JM,s}function _0(){Fr=4,ac||(Fn&4194048)!==Fn&&Sa.current!==null||(Sd=!0),(oc&134217727)===0&&(uu&134217727)===0||jr===null||uc(jr,Fn,wa,!1)}function T0(s,a,c){var f=or;or|=2;var b=DC(),E=PC();(jr!==s||Fn!==a)&&(Ym=null,_d(s,a)),a=!1;var V=Fr;e:do try{if(lr!==0&&kn!==null){var ee=kn,me=aa;switch(lr){case 8:E0(),V=6;break e;case 3:case 2:case 9:case 6:Sa.current===null&&(a=!0);var Le=lr;if(lr=0,aa=null,Td(s,ee,me,Le),c&&Sd){V=0;break e}break;default:Le=lr,lr=0,aa=null,Td(s,ee,me,Le)}}nz(),V=Fr;break}catch(qe){kC(s,qe)}while(!0);return a&&s.shellSuspendCounter++,Xa=ba=null,or=f,Y.H=b,Y.A=E,kn===null&&(jr=null,Fn=0,Qc()),V}function nz(){for(;kn!==null;)MC(kn)}function rz(s,a){var c=or;or|=2;var f=DC(),b=PC();jr!==s||Fn!==a?(Ym=null,Gm=Ke()+500,_d(s,a)):Sd=ot(s,a);e:do try{if(lr!==0&&kn!==null){a=kn;var E=aa;t:switch(lr){case 1:lr=0,aa=null,Td(s,a,E,1);break;case 2:case 9:if(W1(E)){lr=0,aa=null,zC(a);break}a=function(){lr!==2&&lr!==9||jr!==s||(lr=7),To(s)},E.then(a,a);break e;case 3:lr=7;break e;case 4:lr=5;break e;case 7:W1(E)?(lr=0,aa=null,zC(a)):(lr=0,aa=null,Td(s,a,E,7));break;case 5:var V=null;switch(kn.tag){case 26:V=kn.memoizedState;case 5:case 27:var ee=kn;if(!V||mE(V)){lr=0,aa=null;var me=ee.sibling;if(me!==null)kn=me;else{var Le=ee.return;Le!==null?(kn=Le,Xm(Le)):kn=null}break t}}lr=0,aa=null,Td(s,a,E,5);break;case 6:lr=0,aa=null,Td(s,a,E,6);break;case 8:E0(),Fr=6;break e;default:throw Error(i(462))}}sz();break}catch(qe){kC(s,qe)}while(!0);return Xa=ba=null,Y.H=f,Y.A=b,or=c,kn!==null?0:(jr=null,Fn=0,Qc(),Fr)}function sz(){for(;kn!==null&&!Ht();)MC(kn)}function MC(s){var a=aC(s.alternate,s,pl);s.memoizedProps=s.pendingProps,a===null?Xm(s):kn=a}function zC(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=eC(c,a,a.pendingProps,a.type,void 0,Fn);break;case 11:a=eC(c,a,a.pendingProps,a.type.render,a.ref,Fn);break;case 5:Vv(a);default:lC(c,a),a=kn=qh(a,pl),a=aC(c,a,pl)}s.memoizedProps=s.pendingProps,a===null?Xm(s):kn=a}function Td(s,a,c,f){Xa=ba=null,Vv(a),vd=null,af=0;var b=a.return;try{if(GM(s,b,a,c,Fn)){Fr=1,Fm(s,ui(c,s.current)),kn=null;return}}catch(E){if(b!==null)throw kn=b,E;Fr=1,Fm(s,ui(c,s.current)),kn=null;return}a.flags&32768?(rn||f===1?s=!0:Sd||(Fn&536870912)!==0?s=!1:(ac=s=!0,(f===2||f===9||f===3||f===6)&&(f=Sa.current,f!==null&&f.tag===13&&(f.flags|=16384))),IC(a,s)):Xm(a)}function Xm(s){var a=s;do{if((a.flags&32768)!==0){IC(a,ac);return}s=a.return;var c=ZM(a.alternate,a,pl);if(c!==null){kn=c;return}if(a=a.sibling,a!==null){kn=a;return}kn=a=s}while(a!==null);Fr===0&&(Fr=5)}function IC(s,a){do{var c=XM(s.alternate,s);if(c!==null){c.flags&=32767,kn=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){kn=s;return}kn=s=c}while(s!==null);Fr=6,kn=null}function NC(s,a,c,f,b,E,V,ee,me){s.cancelPendingCommit=null;do Km();while(Is!==0);if((or&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(E=a.lanes|a.childLanes,E|=ra,ji(s,c,E,V,ee,me),s===jr&&(kn=jr=null,Fn=0),Cd=a,cc=s,Ed=c,S0=E,w0=b,_C=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lz(it,function(){return FC(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,b=q.p,q.p=2,V=or,or|=4;try{KM(s,a,c)}finally{or=V,q.p=b,Y.T=f}}Is=1,LC(),OC(),BC()}}function LC(){if(Is===1){Is=0;var s=cc,a=Cd,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var f=q.p;q.p=2;var b=or;or|=4;try{yC(a,s);var E=B0,V=Zc(s.containerInfo),ee=E.focusedElem,me=E.selectionRange;if(V!==ee&&ee&&ee.ownerDocument&&sd(ee.ownerDocument.documentElement,ee)){if(me!==null&&Xc(ee)){var Le=me.start,qe=me.end;if(qe===void 0&&(qe=Le),"selectionStart"in ee)ee.selectionStart=Le,ee.selectionEnd=Math.min(qe,ee.value.length);else{var Ze=ee.ownerDocument||document,Oe=Ze&&Ze.defaultView||window;if(Oe.getSelection){var $e=Oe.getSelection(),tn=ee.textContent.length,Xt=Math.min(me.start,tn),mr=me.end===void 0?Xt:Math.min(me.end,tn);!$e.extend&&Xt>mr&&(V=mr,mr=Xt,Xt=V);var De=Hh(ee,Xt),Se=Hh(ee,mr);if(De&&Se&&($e.rangeCount!==1||$e.anchorNode!==De.node||$e.anchorOffset!==De.offset||$e.focusNode!==Se.node||$e.focusOffset!==Se.offset)){var ze=Ze.createRange();ze.setStart(De.node,De.offset),$e.removeAllRanges(),Xt>mr?($e.addRange(ze),$e.extend(Se.node,Se.offset)):(ze.setEnd(Se.node,Se.offset),$e.addRange(ze))}}}}for(Ze=[],$e=ee;$e=$e.parentNode;)$e.nodeType===1&&Ze.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ze.length;ee++){var Ge=Ze[ee];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}cg=!!O0,B0=O0=null}finally{or=b,q.p=f,Y.T=c}}s.current=a,Is=2}}function OC(){if(Is===2){Is=0;var s=cc,a=Cd,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var f=q.p;q.p=2;var b=or;or|=4;try{mC(s,a.alternate,a)}finally{or=b,q.p=f,Y.T=c}}Is=3}}function BC(){if(Is===4||Is===3){Is=0,we();var s=cc,a=Cd,c=Ed,f=_C;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Is=5:(Is=0,Cd=cc=null,$C(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(lc=null),Fi(c),a=a.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(at,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=Y.T,b=q.p,q.p=2,Y.T=null;try{for(var E=s.onRecoverableError,V=0;V<f.length;V++){var ee=f[V];E(ee.value,{componentStack:ee.stack})}}finally{Y.T=a,q.p=b}}(Ed&3)!==0&&Km(),To(s),b=s.pendingLanes,(c&4194090)!==0&&(b&42)!==0?s===C0?mf++:(mf=0,C0=s):mf=0,gf(0)}}function $C(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Yh(a)))}function Km(s){return LC(),OC(),BC(),FC()}function FC(){if(Is!==5)return!1;var s=cc,a=S0;S0=0;var c=Fi(Ed),f=Y.T,b=q.p;try{q.p=32>c?32:c,Y.T=null,c=w0,w0=null;var E=cc,V=Ed;if(Is=0,Cd=cc=null,Ed=0,(or&6)!==0)throw Error(i(331));var ee=or;if(or|=4,CC(E.current),bC(E,E.current,V,c),or=ee,gf(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(at,E)}catch{}return!0}finally{q.p=b,Y.T=f,$C(s,a)}}function VC(s,a,c){a=ui(c,a),a=n0(s.stateNode,a,2),s=Jl(s,a,2),s!==null&&(Bi(s,2),To(s))}function gr(s,a,c){if(s.tag===3)VC(s,s,c);else for(;a!==null;){if(a.tag===3){VC(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(lc===null||!lc.has(f))){s=ui(c,s),c=qw(2),f=Jl(a,c,2),f!==null&&(Gw(c,f,a,s),Bi(f,2),To(f));break}}a=a.return}}function A0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new ez;var b=new Set;f.set(a,b)}else b=f.get(a),b===void 0&&(b=new Set,f.set(a,b));b.has(c)||(v0=!0,b.add(c),s=iz.bind(null,s,a,c),a.then(s,s))}function iz(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,jr===s&&(Fn&c)===c&&(Fr===4||Fr===3&&(Fn&62914560)===Fn&&300>Ke()-b0?(or&2)===0&&_d(s,0):y0|=c,wd===Fn&&(wd=0)),To(s)}function UC(s,a){a===0&&(a=Kr()),s=Gl(s,a),s!==null&&(Bi(s,a),To(s))}function az(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),UC(s,c)}function oz(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),UC(s,c)}function lz(s,a){return dt(s,a)}var Qm=null,Ad=null,R0=!1,Jm=!1,k0=!1,du=0;function To(s){s!==Ad&&s.next===null&&(Ad===null?Qm=Ad=s:Ad=Ad.next=s),Jm=!0,R0||(R0=!0,uz())}function gf(s,a){if(!k0&&Jm){k0=!0;do for(var c=!1,f=Qm;f!==null;){if(s!==0){var b=f.pendingLanes;if(b===0)var E=0;else{var V=f.suspendedLanes,ee=f.pingedLanes;E=(1<<31-bt(42|s)+1)-1,E&=b&~(V&~ee),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(c=!0,GC(f,E))}else E=Fn,E=Ln(f,f===jr?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||ot(f,E)||(c=!0,GC(f,E));f=f.next}while(c);k0=!1}}function cz(){HC()}function HC(){Jm=R0=!1;var s=0;du!==0&&(vz()&&(s=du),du=0);for(var a=Ke(),c=null,f=Qm;f!==null;){var b=f.next,E=WC(f,a);E===0?(f.next=null,c===null?Qm=b:c.next=b,b===null&&(Ad=c)):(c=f,(s!==0||(E&3)!==0)&&(Jm=!0)),f=b}gf(s)}function WC(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var V=31-bt(E),ee=1<<V,me=b[V];me===-1?((ee&c)===0||(ee&f)!==0)&&(b[V]=An(ee,a)):me<=a&&(s.expiredLanes|=ee),E&=~ee}if(a=jr,c=Fn,c=Ln(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===a&&(lr===2||lr===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Ue(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ot(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(f!==null&&Ue(f),Fi(c)){case 2:case 8:c=je;break;case 32:c=it;break;case 268435456:c=zn;break;default:c=it}return f=qC.bind(null,s),c=dt(c,f),s.callbackPriority=a,s.callbackNode=c,a}return f!==null&&f!==null&&Ue(f),s.callbackPriority=2,s.callbackNode=null,2}function qC(s,a){if(Is!==0&&Is!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Km()&&s.callbackNode!==c)return null;var f=Fn;return f=Ln(s,s===jr?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(AC(s,f,a),WC(s,Ke()),s.callbackNode!=null&&s.callbackNode===c?qC.bind(null,s):null)}function GC(s,a){if(Km())return null;AC(s,a,!0)}function uz(){jz(function(){(or&6)!==0?dt(ce,cz):HC()})}function D0(){return du===0&&(du=Sr()),du}function YC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xi(""+s)}function ZC(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function dz(s,a,c,f,b){if(a==="submit"&&c&&c.stateNode===b){var E=YC((b[Jr]||null).action),V=f.submitter;V&&(a=(a=V[Jr]||null)?YC(a.formAction):V.getAttribute("formAction"),a!==null&&(E=a,V=null));var ee=new Be("action","action",null,f,b);s.push({event:ee,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(du!==0){var me=V?ZC(b,V):new FormData(b);Kv(c,{pending:!0,data:me,method:b.method,action:E},null,me)}}else typeof E=="function"&&(ee.preventDefault(),me=V?ZC(b,V):new FormData(b),Kv(c,{pending:!0,data:me,method:b.method,action:E},E,me))},currentTarget:b}]})}}for(var P0=0;P0<rl.length;P0++){var M0=rl[P0],hz=M0.toLowerCase(),fz=M0[0].toUpperCase()+M0.slice(1);na(hz,"on"+fz)}na(xm,"onAnimationEnd"),na(ta,"onAnimationIteration"),na(Kc,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(_v,"onTransitionRun"),na(ld,"onTransitionStart"),na(Tv,"onTransitionCancel"),na(Wh,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function XC(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],b=f.event;f=f.listeners;e:{var E=void 0;if(a)for(var V=f.length-1;0<=V;V--){var ee=f[V],me=ee.instance,Le=ee.currentTarget;if(ee=ee.listener,me!==E&&b.isPropagationStopped())break e;E=ee,b.currentTarget=Le;try{E(b)}catch(qe){$m(qe)}b.currentTarget=null,E=me}else for(V=0;V<f.length;V++){if(ee=f[V],me=ee.instance,Le=ee.currentTarget,ee=ee.listener,me!==E&&b.isPropagationStopped())break e;E=ee,b.currentTarget=Le;try{E(b)}catch(qe){$m(qe)}b.currentTarget=null,E=me}}}}function Dn(s,a){var c=a[ys];c===void 0&&(c=a[ys]=new Set);var f=s+"__bubble";c.has(f)||(KC(a,s,2,!1),c.add(f))}function z0(s,a,c){var f=0;a&&(f|=4),KC(c,s,f,a)}var eg="_reactListening"+Math.random().toString(36).slice(2);function I0(s){if(!s[eg]){s[eg]=!0,Qo.forEach(function(c){c!=="selectionchange"&&(pz.has(c)||z0(c,!1,s),z0(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[eg]||(a[eg]=!0,z0("selectionchange",!1,a))}}function KC(s,a,c,f){switch(bE(a)){case 2:var b=Fz;break;case 8:b=Vz;break;default:b=Z0}c=b.bind(null,a,c,s),b=void 0,!qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),f?b!==void 0?s.addEventListener(a,c,{capture:!0,passive:b}):s.addEventListener(a,c,!0):b!==void 0?s.addEventListener(a,c,{passive:b}):s.addEventListener(a,c,!1)}function N0(s,a,c,f,b){var E=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var ee=f.stateNode.containerInfo;if(ee===b)break;if(V===4)for(V=f.return;V!==null;){var me=V.tag;if((me===3||me===4)&&V.stateNode.containerInfo===b)return;V=V.return}for(;ee!==null;){if(V=cs(ee),V===null)return;if(me=V.tag,me===5||me===6||me===26||me===27){f=E=V;continue e}ee=ee.parentNode}}f=f.return}Or(function(){var Le=E,qe=ii(c),Ze=[];e:{var Oe=vm.get(s);if(Oe!==void 0){var $e=Be,tn=s;switch(s){case"keypress":if(vr(c)===0)break e;case"keydown":case"keyup":$e=Bh;break;case"focusin":tn="focus",$e=Wa;break;case"focusout":tn="blur",$e=Wa;break;case"beforeblur":case"afterblur":$e=Wa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Ji;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=ed;break;case xm:case ta:case Kc:$e=Ih;break;case Wh:$e=vo;break;case"scroll":case"scrollend":$e=rt;break;case"wheel":$e=nd;break;case"copy":case"cut":case"paste":$e=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Bl;break;case"toggle":case"beforetoggle":$e=qa}var Xt=(a&4)!==0,mr=!Xt&&(s==="scroll"||s==="scrollend"),De=Xt?Oe!==null?Oe+"Capture":null:Oe;Xt=[];for(var Se=Le,ze;Se!==null;){var Ge=Se;if(ze=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||ze===null||De===null||(Ge=Rn(Se,De),Ge!=null&&Xt.push(vf(Se,Ge,ze))),mr)break;Se=Se.return}0<Xt.length&&(Oe=new $e(Oe,tn,null,c,qe),Ze.push({event:Oe,listeners:Xt}))}}if((a&7)===0){e:{if(Oe=s==="mouseover"||s==="pointerover",$e=s==="mouseout"||s==="pointerout",Oe&&c!==Hs&&(tn=c.relatedTarget||c.fromElement)&&(cs(tn)||tn[ga]))break e;if(($e||Oe)&&(Oe=qe.window===qe?qe:(Oe=qe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,$e?(tn=c.relatedTarget||c.toElement,$e=Le,tn=tn?cs(tn):null,tn!==null&&(mr=u(tn),Xt=tn.tag,tn!==mr||Xt!==5&&Xt!==27&&Xt!==6)&&(tn=null)):($e=null,tn=Le),$e!==tn)){if(Xt=Mr,Ge="onMouseLeave",De="onMouseEnter",Se="mouse",(s==="pointerout"||s==="pointerover")&&(Xt=Bl,Ge="onPointerLeave",De="onPointerEnter",Se="pointer"),mr=$e==null?Oe:Us($e),ze=tn==null?Oe:Us(tn),Oe=new Xt(Ge,Se+"leave",$e,c,qe),Oe.target=mr,Oe.relatedTarget=ze,Ge=null,cs(qe)===Le&&(Xt=new Xt(De,Se+"enter",tn,c,qe),Xt.target=ze,Xt.relatedTarget=mr,Ge=Xt),mr=Ge,$e&&tn)t:{for(Xt=$e,De=tn,Se=0,ze=Xt;ze;ze=Rd(ze))Se++;for(ze=0,Ge=De;Ge;Ge=Rd(Ge))ze++;for(;0<Se-ze;)Xt=Rd(Xt),Se--;for(;0<ze-Se;)De=Rd(De),ze--;for(;Se--;){if(Xt===De||De!==null&&Xt===De.alternate)break t;Xt=Rd(Xt),De=Rd(De)}Xt=null}else Xt=null;$e!==null&&QC(Ze,Oe,$e,Xt,!1),tn!==null&&mr!==null&&QC(Ze,mr,tn,Xt,!0)}}e:{if(Oe=Le?Us(Le):window,$e=Oe.nodeName&&Oe.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Oe.type==="file")var zt=Fl;else if(Nn(Oe))if(Fh)zt=Ev;else{zt=Cv;var wn=Uh}else $e=Oe.nodeName,!$e||$e.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Le&&Ss(Le.elementType)&&(zt=Fl):zt=Za;if(zt&&(zt=zt(s,Le))){$r(Ze,zt,c,qe);break e}wn&&wn(s,Oe,Le),s==="focusout"&&Le&&Oe.type==="number"&&Le.memoizedProps.value!=null&&Yi(Oe,"number",Oe.value)}switch(wn=Le?Us(Le):window,s){case"focusin":(Nn(wn)||wn.contentEditable==="true")&&(ea=wn,Hl=Le,nl=null);break;case"focusout":nl=Hl=ea=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,mm(Ze,c,qe);break;case"selectionchange":if(id)break;case"keydown":case"keyup":mm(Ze,c,qe)}var Vt;if(Ga)e:{switch(s){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else qn?xn(s,c)&&(Qt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Qt="onCompositionStart");Qt&&(te&&c.locale!=="ko"&&(qn||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&qn&&(Vt=Ua()):(Cs=qe,ai="value"in Cs?Cs.value:Cs.textContent,qn=!0)),wn=tg(Le,Qt),0<wn.length&&(Qt=new oi(Qt,s,null,c,qe),Ze.push({event:Qt,listeners:wn}),Vt?Qt.data=Vt:(Vt=Zt(c),Vt!==null&&(Qt.data=Vt)))),(Vt=I?Ei(s,c):Es(s,c))&&(Qt=tg(Le,"onBeforeInput"),0<Qt.length&&(wn=new oi("onBeforeInput","beforeinput",null,c,qe),Ze.push({event:wn,listeners:Qt}),wn.data=Vt)),dz(Ze,s,Le,c,qe)}XC(Ze,a)})}function vf(s,a,c){return{instance:s,listener:a,currentTarget:c}}function tg(s,a){for(var c=a+"Capture",f=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=Rn(s,c),b!=null&&f.unshift(vf(s,b,E)),b=Rn(s,a),b!=null&&f.push(vf(s,b,E))),s.tag===3)return f;s=s.return}return[]}function Rd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function QC(s,a,c,f,b){for(var E=a._reactName,V=[];c!==null&&c!==f;){var ee=c,me=ee.alternate,Le=ee.stateNode;if(ee=ee.tag,me!==null&&me===f)break;ee!==5&&ee!==26&&ee!==27||Le===null||(me=Le,b?(Le=Rn(c,E),Le!=null&&V.unshift(vf(c,Le,me))):b||(Le=Rn(c,E),Le!=null&&V.push(vf(c,Le,me)))),c=c.return}V.length!==0&&s.push({event:a,listeners:V})}var mz=/\r\n?/g,gz=/\u0000|\uFFFD/g;function JC(s){return(typeof s=="string"?s:""+s).replace(mz,`
`).replace(gz,"")}function eE(s,a){return a=JC(a),JC(s)===a}function ng(){}function pr(s,a,c,f,b,E){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Ps(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Ps(s,""+f);break;case"className":Hi(s,"class",f);break;case"tabIndex":Hi(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(s,c,f);break;case"style":Lr(s,f,E);break;case"data":if(a!=="object"){Hi(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Xi(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(c==="formAction"?(a!=="input"&&pr(s,a,"name",b.name,b,null),pr(s,a,"formEncType",b.formEncType,b,null),pr(s,a,"formMethod",b.formMethod,b,null),pr(s,a,"formTarget",b.formTarget,b,null)):(pr(s,a,"encType",b.encType,b,null),pr(s,a,"method",b.method,b,null),pr(s,a,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Xi(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=ng);break;case"onScroll":f!=null&&Dn("scroll",s);break;case"onScrollEnd":f!=null&&Dn("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=Xi(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":Dn("beforetoggle",s),Dn("toggle",s),Ui(s,"popover",f);break;case"xlinkActuate":ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ri(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ri(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ri(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ri(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ui(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=go.get(c)||c,Ui(s,c,f))}}function L0(s,a,c,f,b,E){switch(c){case"style":Lr(s,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof f=="string"?Ps(s,f):(typeof f=="number"||typeof f=="bigint")&&Ps(s,""+f);break;case"onScroll":f!=null&&Dn("scroll",s);break;case"onScrollEnd":f!=null&&Dn("scrollend",s);break;case"onClick":f!=null&&(s.onclick=ng);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),a=c.slice(2,b?c.length-7:void 0),E=s[Jr]||null,E=E!=null?E[c]:null,typeof E=="function"&&s.removeEventListener(a,E,b),typeof f=="function")){typeof E!="function"&&E!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,f,b);break e}c in s?s[c]=f:f===!0?s.setAttribute(c,""):Ui(s,c,f)}}}function Ns(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",s),Dn("load",s);var f=!1,b=!1,E;for(E in c)if(c.hasOwnProperty(E)){var V=c[E];if(V!=null)switch(E){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pr(s,a,E,V,c,null)}}b&&pr(s,a,"srcSet",c.srcSet,c,null),f&&pr(s,a,"src",c.src,c,null);return;case"input":Dn("invalid",s);var ee=E=V=b=null,me=null,Le=null;for(f in c)if(c.hasOwnProperty(f)){var qe=c[f];if(qe!=null)switch(f){case"name":b=qe;break;case"type":V=qe;break;case"checked":me=qe;break;case"defaultChecked":Le=qe;break;case"value":E=qe;break;case"defaultValue":ee=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,a));break;default:pr(s,a,f,qe,c,null)}}mo(s,E,ee,me,Le,V,b,!1),qi(s);return;case"select":Dn("invalid",s),f=V=E=null;for(b in c)if(c.hasOwnProperty(b)&&(ee=c[b],ee!=null))switch(b){case"value":E=ee;break;case"defaultValue":V=ee;break;case"multiple":f=ee;default:pr(s,a,b,ee,c,null)}a=E,c=V,s.multiple=!!f,a!=null?bs(s,!!f,a,!1):c!=null&&bs(s,!!f,c,!0);return;case"textarea":Dn("invalid",s),E=b=f=null;for(V in c)if(c.hasOwnProperty(V)&&(ee=c[V],ee!=null))switch(V){case"value":f=ee;break;case"defaultValue":b=ee;break;case"children":E=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:pr(s,a,V,ee,c,null)}Zi(s,f,b,E),qi(s);return;case"option":for(me in c)if(c.hasOwnProperty(me)&&(f=c[me],f!=null))switch(me){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:pr(s,a,me,f,c,null)}return;case"dialog":Dn("beforetoggle",s),Dn("toggle",s),Dn("cancel",s),Dn("close",s);break;case"iframe":case"object":Dn("load",s);break;case"video":case"audio":for(f=0;f<xf.length;f++)Dn(xf[f],s);break;case"image":Dn("error",s),Dn("load",s);break;case"details":Dn("toggle",s);break;case"embed":case"source":case"link":Dn("error",s),Dn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in c)if(c.hasOwnProperty(Le)&&(f=c[Le],f!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pr(s,a,Le,f,c,null)}return;default:if(Ss(a)){for(qe in c)c.hasOwnProperty(qe)&&(f=c[qe],f!==void 0&&L0(s,a,qe,f,c,void 0));return}}for(ee in c)c.hasOwnProperty(ee)&&(f=c[ee],f!=null&&pr(s,a,ee,f,c,null))}function xz(s,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,V=null,ee=null,me=null,Le=null,qe=null;for($e in c){var Ze=c[$e];if(c.hasOwnProperty($e)&&Ze!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":me=Ze;default:f.hasOwnProperty($e)||pr(s,a,$e,null,f,Ze)}}for(var Oe in f){var $e=f[Oe];if(Ze=c[Oe],f.hasOwnProperty(Oe)&&($e!=null||Ze!=null))switch(Oe){case"type":E=$e;break;case"name":b=$e;break;case"checked":Le=$e;break;case"defaultChecked":qe=$e;break;case"value":V=$e;break;case"defaultValue":ee=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,a));break;default:$e!==Ze&&pr(s,a,Oe,$e,f,Ze)}}es(s,V,ee,me,Le,qe,E,b);return;case"select":$e=V=ee=Oe=null;for(E in c)if(me=c[E],c.hasOwnProperty(E)&&me!=null)switch(E){case"value":break;case"multiple":$e=me;default:f.hasOwnProperty(E)||pr(s,a,E,null,f,me)}for(b in f)if(E=f[b],me=c[b],f.hasOwnProperty(b)&&(E!=null||me!=null))switch(b){case"value":Oe=E;break;case"defaultValue":ee=E;break;case"multiple":V=E;default:E!==me&&pr(s,a,b,E,f,me)}a=ee,c=V,f=$e,Oe!=null?bs(s,!!c,Oe,!1):!!f!=!!c&&(a!=null?bs(s,!!c,a,!0):bs(s,!!c,c?[]:"",!1));return;case"textarea":$e=Oe=null;for(ee in c)if(b=c[ee],c.hasOwnProperty(ee)&&b!=null&&!f.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:pr(s,a,ee,null,f,b)}for(V in f)if(b=f[V],E=c[V],f.hasOwnProperty(V)&&(b!=null||E!=null))switch(V){case"value":Oe=b;break;case"defaultValue":$e=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==E&&pr(s,a,V,b,f,E)}hr(s,Oe,$e);return;case"option":for(var tn in c)if(Oe=c[tn],c.hasOwnProperty(tn)&&Oe!=null&&!f.hasOwnProperty(tn))switch(tn){case"selected":s.selected=!1;break;default:pr(s,a,tn,null,f,Oe)}for(me in f)if(Oe=f[me],$e=c[me],f.hasOwnProperty(me)&&Oe!==$e&&(Oe!=null||$e!=null))switch(me){case"selected":s.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:pr(s,a,me,Oe,f,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in c)Oe=c[Xt],c.hasOwnProperty(Xt)&&Oe!=null&&!f.hasOwnProperty(Xt)&&pr(s,a,Xt,null,f,Oe);for(Le in f)if(Oe=f[Le],$e=c[Le],f.hasOwnProperty(Le)&&Oe!==$e&&(Oe!=null||$e!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,a));break;default:pr(s,a,Le,Oe,f,$e)}return;default:if(Ss(a)){for(var mr in c)Oe=c[mr],c.hasOwnProperty(mr)&&Oe!==void 0&&!f.hasOwnProperty(mr)&&L0(s,a,mr,void 0,f,Oe);for(qe in f)Oe=f[qe],$e=c[qe],!f.hasOwnProperty(qe)||Oe===$e||Oe===void 0&&$e===void 0||L0(s,a,qe,Oe,f,$e);return}}for(var De in c)Oe=c[De],c.hasOwnProperty(De)&&Oe!=null&&!f.hasOwnProperty(De)&&pr(s,a,De,null,f,Oe);for(Ze in f)Oe=f[Ze],$e=c[Ze],!f.hasOwnProperty(Ze)||Oe===$e||Oe==null&&$e==null||pr(s,a,Ze,Oe,f,$e)}var O0=null,B0=null;function rg(s){return s.nodeType===9?s:s.ownerDocument}function tE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function $0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var F0=null;function vz(){var s=window.event;return s&&s.type==="popstate"?s===F0?!1:(F0=s,!0):(F0=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,jz=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(s){return sE.resolve(null).then(s).catch(bz)}:rE;function bz(s){setTimeout(function(){throw s})}function dc(s){return s==="head"}function iE(s,a){var c=a,f=0,b=0;do{var E=c.nextSibling;if(s.removeChild(c),E&&E.nodeType===8)if(c=E.data,c==="/$"){if(0<f&&8>f){c=f;var V=s.ownerDocument;if(c&1&&yf(V.documentElement),c&2&&yf(V.body),c&4)for(c=V.head,yf(c),V=c.firstChild;V;){var ee=V.nextSibling,me=V.nodeName;V[bi]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&V.rel.toLowerCase()==="stylesheet"||c.removeChild(V),V=ee}}if(b===0){s.removeChild(E),Tf(a);return}b--}else c==="$"||c==="$?"||c==="$!"?b++:f=c.charCodeAt(0)-48;else f=0;c=E}while(c);Tf(a)}function V0(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":V0(c),kr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function Sz(s,a,c,f){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[bi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Ja(s.nextSibling),s===null)break}return null}function wz(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ja(s.nextSibling),s===null))return null;return s}function U0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Cz(s,a){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Ja(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var H0=null;function aE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}function oE(s,a,c){switch(a=rg(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function yf(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);kr(s)}var Ca=new Map,lE=new Set;function sg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ml=q.d;q.d={f:Ez,r:_z,D:Tz,C:Az,L:Rz,m:kz,X:Pz,S:Dz,M:Mz};function Ez(){var s=ml.f(),a=Zm();return s||a}function _z(s){var a=js(s);a!==null&&a.tag===5&&a.type==="form"?Aw(a):ml.r(s)}var kd=typeof document>"u"?null:document;function cE(s,a,c){var f=kd;if(f&&typeof a=="string"&&a){var b=Pr(a);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),lE.has(b)||(lE.add(b),s={rel:s,crossOrigin:c,href:a},f.querySelector(b)===null&&(a=f.createElement("link"),Ns(a,"link",s),xr(a),f.head.appendChild(a)))}}function Tz(s){ml.D(s),cE("dns-prefetch",s,null)}function Az(s,a){ml.C(s,a),cE("preconnect",s,a)}function Rz(s,a,c){ml.L(s,a,c);var f=kd;if(f&&s&&a){var b='link[rel="preload"][as="'+Pr(a)+'"]';a==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Pr(c.imageSizes)+'"]')):b+='[href="'+Pr(s)+'"]';var E=b;switch(a){case"style":E=Dd(s);break;case"script":E=Pd(s)}Ca.has(E)||(s=x({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ca.set(E,s),f.querySelector(b)!==null||a==="style"&&f.querySelector(jf(E))||a==="script"&&f.querySelector(bf(E))||(a=f.createElement("link"),Ns(a,"link",s),xr(a),f.head.appendChild(a)))}}function kz(s,a){ml.m(s,a);var c=kd;if(c&&s){var f=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+Pr(f)+'"][href="'+Pr(s)+'"]',E=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Pd(s)}if(!Ca.has(E)&&(s=x({rel:"modulepreload",href:s},a),Ca.set(E,s),c.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bf(E)))return}f=c.createElement("link"),Ns(f,"link",s),xr(f),c.head.appendChild(f)}}}function Dz(s,a,c){ml.S(s,a,c);var f=kd;if(f&&s){var b=ei(f).hoistableStyles,E=Dd(s);a=a||"default";var V=b.get(E);if(!V){var ee={loading:0,preload:null};if(V=f.querySelector(jf(E)))ee.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ca.get(E))&&W0(s,c);var me=V=f.createElement("link");xr(me),Ns(me,"link",s),me._p=new Promise(function(Le,qe){me.onload=Le,me.onerror=qe}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,ig(V,a,f)}V={type:"stylesheet",instance:V,count:1,state:ee},b.set(E,V)}}}function Pz(s,a){ml.X(s,a);var c=kd;if(c&&s){var f=ei(c).hoistableScripts,b=Pd(s),E=f.get(b);E||(E=c.querySelector(bf(b)),E||(s=x({src:s,async:!0},a),(a=Ca.get(b))&&q0(s,a),E=c.createElement("script"),xr(E),Ns(E,"link",s),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function Mz(s,a){ml.M(s,a);var c=kd;if(c&&s){var f=ei(c).hoistableScripts,b=Pd(s),E=f.get(b);E||(E=c.querySelector(bf(b)),E||(s=x({src:s,async:!0,type:"module"},a),(a=Ca.get(b))&&q0(s,a),E=c.createElement("script"),xr(E),Ns(E,"link",s),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function uE(s,a,c,f){var b=(b=X.current)?sg(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Dd(c.href),c=ei(b).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Dd(c.href);var E=ei(b).hoistableStyles,V=E.get(s);if(V||(b=b.ownerDocument||b,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,V),(E=b.querySelector(jf(s)))&&!E._p&&(V.instance=E,V.state.loading=5),Ca.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ca.set(s,c),E||zz(b,s,c,V.state))),a&&f===null)throw Error(i(528,""));return V}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pd(c),c=ei(b).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Dd(s){return'href="'+Pr(s)+'"'}function jf(s){return'link[rel="stylesheet"]['+s+"]"}function dE(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function zz(s,a,c,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ns(a,"link",c),xr(a),s.head.appendChild(a))}function Pd(s){return'[src="'+Pr(s)+'"]'}function bf(s){return"script[async]"+s}function hE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Pr(c.href)+'"]');if(f)return a.instance=f,xr(f),f;var b=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),xr(f),Ns(f,"style",b),ig(f,c.precedence,s),a.instance=f;case"stylesheet":b=Dd(c.href);var E=s.querySelector(jf(b));if(E)return a.state.loading|=4,a.instance=E,xr(E),E;f=dE(c),(b=Ca.get(b))&&W0(f,b),E=(s.ownerDocument||s).createElement("link"),xr(E);var V=E;return V._p=new Promise(function(ee,me){V.onload=ee,V.onerror=me}),Ns(E,"link",f),a.state.loading|=4,ig(E,c.precedence,s),a.instance=E;case"script":return E=Pd(c.src),(b=s.querySelector(bf(E)))?(a.instance=b,xr(b),b):(f=c,(b=Ca.get(E))&&(f=x({},c),q0(f,b)),s=s.ownerDocument||s,b=s.createElement("script"),xr(b),Ns(b,"link",f),s.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,ig(f,c.precedence,s));return a.instance}function ig(s,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,E=b,V=0;V<f.length;V++){var ee=f[V];if(ee.dataset.precedence===a)E=ee;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function W0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function q0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ag=null;function fE(s,a,c){if(ag===null){var f=new Map,b=ag=new Map;b.set(c,f)}else b=ag,f=b.get(c),f||(f=new Map,b.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var E=c[b];if(!(E[bi]||E[Er]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var V=E.getAttribute(a)||"";V=s+V;var ee=f.get(V);ee?ee.push(E):f.set(V,[E])}}return f}function pE(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function Iz(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Sf=null;function Nz(){}function Lz(s,a,c){if(Sf===null)throw Error(i(475));var f=Sf;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var b=Dd(c.href),E=s.querySelector(jf(b));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=og.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=E,xr(E);return}E=s.ownerDocument||s,c=dE(c),(b=Ca.get(b))&&W0(c,b),E=E.createElement("link"),xr(E);var V=E;V._p=new Promise(function(ee,me){V.onload=ee,V.onerror=me}),Ns(E,"link",c),a.instance=E}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=og.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function Oz(){if(Sf===null)throw Error(i(475));var s=Sf;return s.stylesheets&&s.count===0&&G0(s,s.stylesheets),0<s.count?function(a){var c=setTimeout(function(){if(s.stylesheets&&G0(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(c)}}:null}function og(){if(this.count--,this.count===0){if(this.stylesheets)G0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lg=null;function G0(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lg=new Map,a.forEach(Bz,s),lg=null,og.call(s))}function Bz(s,a){if(!(a.state.loading&4)){var c=lg.get(s);if(c)var f=c.get(null);else{c=new Map,lg.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var V=b[E];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),f=V)}f&&c.set(null,f)}b=a.instance,V=b.getAttribute("data-precedence"),E=c.get(V)||f,E===f&&c.set(null,b),c.set(V,b),this.count++,f=og.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),a.state.loading|=4}}var wf={$$typeof:k,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function $z(s,a,c,f,b,E,V,ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function gE(s,a,c,f,b,E,V,ee,me,Le,qe,Ze){return s=new $z(s,a,c,V,ee,me,Le,Ze),a=1,E===!0&&(a|=24),E=hi(3,null,null,a),s.current=E,E.stateNode=s,a=Av(),a.refCount++,s.pooledCache=a,a.refCount++,E.memoizedState={element:f,isDehydrated:c,cache:a},Pv(E),s}function xE(s){return s?(s=al,s):al}function vE(s,a,c,f,b,E){b=xE(b),f.context===null?f.context=b:f.pendingContext=b,f=Ql(a),f.payload={element:c},E=E===void 0?null:E,E!==null&&(f.callback=E),c=Jl(s,f,a),c!==null&&(la(c,s,a),Qh(c,s,a))}function yE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Y0(s,a){yE(s,a),(s=s.alternate)&&yE(s,a)}function jE(s){if(s.tag===13){var a=Gl(s,67108864);a!==null&&la(a,s,67108864),Y0(s,67108864)}}var cg=!0;function Fz(s,a,c,f){var b=Y.T;Y.T=null;var E=q.p;try{q.p=2,Z0(s,a,c,f)}finally{q.p=E,Y.T=b}}function Vz(s,a,c,f){var b=Y.T;Y.T=null;var E=q.p;try{q.p=8,Z0(s,a,c,f)}finally{q.p=E,Y.T=b}}function Z0(s,a,c,f){if(cg){var b=X0(f);if(b===null)N0(s,a,f,ug,c),SE(s,f);else if(Hz(b,s,a,c,f))f.stopPropagation();else if(SE(s,f),a&4&&-1<Uz.indexOf(s)){for(;b!==null;){var E=js(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var V=Kt(E.pendingLanes);if(V!==0){var ee=E;for(ee.pendingLanes|=2,ee.entangledLanes|=2;V;){var me=1<<31-bt(V);ee.entanglements[1]|=me,V&=~me}To(E),(or&6)===0&&(Gm=Ke()+500,gf(0))}}break;case 13:ee=Gl(E,2),ee!==null&&la(ee,E,2),Zm(),Y0(E,2)}if(E=X0(f),E===null&&N0(s,a,f,ug,c),E===b)break;b=E}b!==null&&f.stopPropagation()}else N0(s,a,f,null,c)}}function X0(s){return s=ii(s),K0(s)}var ug=null;function K0(s){if(ug=null,s=cs(s),s!==null){var a=u(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=d(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return ug=s,null}function bE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case ce:return 2;case je:return 8;case it:case It:return 32;case zn:return 268435456;default:return 32}default:return 32}}var Q0=!1,hc=null,fc=null,pc=null,Cf=new Map,Ef=new Map,mc=[],Uz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(s,a){switch(s){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":pc=null;break;case"pointerover":case"pointerout":Cf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(a.pointerId)}}function _f(s,a,c,f,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:E,targetContainers:[b]},a!==null&&(a=js(a),a!==null&&jE(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),s)}function Hz(s,a,c,f,b){switch(a){case"focusin":return hc=_f(hc,s,a,c,f,b),!0;case"dragenter":return fc=_f(fc,s,a,c,f,b),!0;case"mouseover":return pc=_f(pc,s,a,c,f,b),!0;case"pointerover":var E=b.pointerId;return Cf.set(E,_f(Cf.get(E)||null,s,a,c,f,b)),!0;case"gotpointercapture":return E=b.pointerId,Ef.set(E,_f(Ef.get(E)||null,s,a,c,f,b)),!0}return!1}function wE(s){var a=cs(s.target);if(a!==null){var c=u(a);if(c!==null){if(a=c.tag,a===13){if(a=d(c),a!==null){s.blockedOn=a,Vs(s.priority,function(){if(c.tag===13){var f=oa();f=$i(f);var b=Gl(c,f);b!==null&&la(b,c,f),Y0(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dg(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=X0(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Hs=f,c.target.dispatchEvent(f),Hs=null}else return a=js(c),a!==null&&jE(a),s.blockedOn=c,!1;a.shift()}return!0}function CE(s,a,c){dg(s)&&c.delete(a)}function Wz(){Q0=!1,hc!==null&&dg(hc)&&(hc=null),fc!==null&&dg(fc)&&(fc=null),pc!==null&&dg(pc)&&(pc=null),Cf.forEach(CE),Ef.forEach(CE)}function hg(s,a){s.blockedOn===a&&(s.blockedOn=null,Q0||(Q0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wz)))}var fg=null;function EE(s){fg!==s&&(fg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fg===s&&(fg=null);for(var a=0;a<s.length;a+=3){var c=s[a],f=s[a+1],b=s[a+2];if(typeof f!="function"){if(K0(f||c)===null)continue;break}var E=js(c);E!==null&&(s.splice(a,3),a-=3,Kv(E,{pending:!0,data:b,method:c.method,action:f},f,b))}}))}function Tf(s){function a(me){return hg(me,s)}hc!==null&&hg(hc,s),fc!==null&&hg(fc,s),pc!==null&&hg(pc,s),Cf.forEach(a),Ef.forEach(a);for(var c=0;c<mc.length;c++){var f=mc[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<mc.length&&(c=mc[0],c.blockedOn===null);)wE(c),c.blockedOn===null&&mc.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var b=c[f],E=c[f+1],V=b[Jr]||null;if(typeof E=="function")V||EE(c);else if(V){var ee=null;if(E&&E.hasAttribute("formAction")){if(b=E,V=E[Jr]||null)ee=V.formAction;else if(K0(b)!==null)continue}else ee=V.action;typeof ee=="function"?c[f+1]=ee:(c.splice(f,3),f-=3),EE(c)}}}function J0(s){this._internalRoot=s}pg.prototype.render=J0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,f=oa();vE(c,f,s,a,null,null)},pg.prototype.unmount=J0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;vE(s.current,2,null,s,null,null),Zm(),a[ga]=null}};function pg(s){this._internalRoot=s}pg.prototype.unstable_scheduleHydration=function(s){if(s){var a=fo();s={blockedOn:null,target:s,priority:a};for(var c=0;c<mc.length&&a!==0&&a<mc[c].priority;c++);mc.splice(c,0,s),c===0&&wE(s)}};var _E=n.version;if(_E!=="19.1.1")throw Error(i(527,_E,"19.1.1"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var qz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{at=mg.inject(qz),Lt=mg}catch{}}return Rf.createRoot=function(s,a){if(!l(s))throw Error(i(299));var c=!1,f="",b=Vw,E=Uw,V=Hw,ee=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(V=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(ee=a.unstable_transitionCallbacks)),a=gE(s,1,!1,null,null,c,f,b,E,V,ee,null),s[ga]=a.current,I0(s),new J0(a)},Rf.hydrateRoot=function(s,a,c){if(!l(s))throw Error(i(299));var f=!1,b="",E=Vw,V=Uw,ee=Hw,me=null,Le=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(me=c.unstable_transitionCallbacks),c.formState!==void 0&&(Le=c.formState)),a=gE(s,1,!0,a,c??null,f,b,E,V,ee,me,Le),a.context=xE(null),c=a.current,f=oa(),f=$i(f),b=Ql(f),b.callback=null,Jl(c,b,f),c=f,a.current.lanes=c,Bi(a,c),To(a),s[ga]=a.current,I0(s),new pg(a)},Rf.version="19.1.1",Rf}var LE;function nI(){if(LE)return ny.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),ny.exports=tI(),ny.exports}var rI=nI();const sI=Wp(rI);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OE="popstate";function iI(t={}){function n(i,l){let{pathname:u,search:d,hash:m}=i.location;return yj("",{pathname:u,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Ep(l)}return oI(n,r,null,t)}function Rr(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Ia(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function aI(){return Math.random().toString(36).substring(2,10)}function BE(t,n){return{usr:t.state,key:t.key,idx:n}}function yj(t,n,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Ch(n):n,state:r,key:n&&n.key||i||aI()}}function Ep({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ch(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(n.search=t.substring(i),t=t.substring(0,i)),t&&(n.pathname=t)}return n}function oI(t,n,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){m="POP";let T=x(),R=T==null?null:T-g;g=T,p&&p({action:m,location:_.location,delta:R})}function S(T,R){m="PUSH";let D=yj(_.location,T,R);g=x()+1;let k=BE(D,g),N=_.createHref(D);try{d.pushState(k,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;l.location.assign(N)}u&&p&&p({action:m,location:_.location,delta:1})}function w(T,R){m="REPLACE";let D=yj(_.location,T,R);g=x();let k=BE(D,g),N=_.createHref(D);d.replaceState(k,"",N),u&&p&&p({action:m,location:_.location,delta:0})}function C(T){return lI(T)}let _={get action(){return m},get location(){return t(l,d)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(OE,y),p=T,()=>{l.removeEventListener(OE,y),p=null}},createHref(T){return n(l,T)},createURL:C,encodeLocation(T){let R=C(T);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:S,replace:w,go(T){return d.go(T)}};return _}function lI(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rr(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ep(t);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function lA(t,n,r="/"){return cI(t,n,r,!1)}function cI(t,n,r,i){let l=typeof n=="string"?Ch(n):n,u=Ml(l.pathname||"/",r);if(u==null)return null;let d=cA(t);uI(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=bI(u);m=yI(d[p],g,i)}return m}function cA(t,n=[],r=[],i="",l=!1){let u=(d,m,p=l,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&p)return;Rr(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let y=Tl([i,x.relativePath]),S=r.concat(x);d.children&&d.children.length>0&&(Rr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),cA(d.children,n,S,y,p)),!(d.path==null&&!d.index)&&n.push({path:y,score:xI(y,d.index),routesMeta:S})};return t.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let p of uA(d.path))u(d,m,!0,p)}),n}function uA(t){let n=t.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=uA(i.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...d),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function uI(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:vI(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var dI=/^:[\w-]+$/,hI=3,fI=2,pI=1,mI=10,gI=-2,$E=t=>t==="*";function xI(t,n){let r=t.split("/"),i=r.length;return r.some($E)&&(i+=gI),n&&(i+=fI),r.filter(l=>!$E(l)).reduce((l,u)=>l+(dI.test(u)?hI:u===""?pI:mI),i)}function vI(t,n){return t.length===n.length&&t.slice(0,-1).every((i,l)=>i===n[l])?t[t.length-1]-n[n.length-1]:0}function yI(t,n,r=!1){let{routesMeta:i}=t,l={},u="/",d=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,x=u==="/"?n:n.slice(u.length)||"/",y=gx({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),S=p.route;if(!y&&g&&r&&!i[i.length-1].route.index&&(y=gx({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:Tl([u,y.pathname]),pathnameBase:EI(Tl([u,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(u=Tl([u,y.pathnameBase]))}return d}function gx(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=jI(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:y},S)=>{if(x==="*"){let C=m[S]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const w=m[S];return y&&!w?g[x]=void 0:g[x]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:t}}function jI(t,n=!1,r=!0){Ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function bI(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function Ml(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function SI(t,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof t=="string"?Ch(t):t;return{pathname:r?r.startsWith("/")?r:wI(r,n):n,search:_I(i),hash:TI(l)}}function wI(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function ay(t,n,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CI(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Nb(t){let n=CI(t);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function Lb(t,n,r,i=!1){let l;typeof t=="string"?l=Ch(t):(l={...t},Rr(!l.pathname||!l.pathname.includes("?"),ay("?","pathname","search",l)),Rr(!l.pathname||!l.pathname.includes("#"),ay("#","pathname","hash",l)),Rr(!l.search||!l.search.includes("#"),ay("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,m;if(d==null)m=r;else{let y=n.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),y-=1;l.pathname=S.join("/")}m=y>=0?n[y]:"/"}let p=SI(l,m),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Tl=t=>t.join("/").replace(/\/\/+/g,"/"),EI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dA=["POST","PUT","PATCH","DELETE"];new Set(dA);var RI=["GET",...dA];new Set(RI);var Eh=v.createContext(null);Eh.displayName="DataRouter";var Fx=v.createContext(null);Fx.displayName="DataRouterState";v.createContext(!1);var hA=v.createContext({isTransitioning:!1});hA.displayName="ViewTransition";var kI=v.createContext(new Map);kI.displayName="Fetchers";var DI=v.createContext(null);DI.displayName="Await";var ao=v.createContext(null);ao.displayName="Navigation";var qp=v.createContext(null);qp.displayName="Location";var oo=v.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var Ob=v.createContext(null);Ob.displayName="RouteError";function PI(t,{relative:n}={}){Rr(_h(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=v.useContext(ao),{hash:l,pathname:u,search:d}=Gp(t,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:Tl([r,u])),i.createHref({pathname:m,search:d,hash:l})}function _h(){return v.useContext(qp)!=null}function lo(){return Rr(_h(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(qp).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pA(t){v.useContext(ao).static||v.useLayoutEffect(t)}function co(){let{isDataRoute:t}=v.useContext(oo);return t?WI():MI()}function MI(){Rr(_h(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Eh),{basename:n,navigator:r}=v.useContext(ao),{matches:i}=v.useContext(oo),{pathname:l}=lo(),u=JSON.stringify(Nb(i)),d=v.useRef(!1);return pA(()=>{d.current=!0}),v.useCallback((p,g={})=>{if(Ia(d.current,fA),!d.current)return;if(typeof p=="number"){r.go(p);return}let x=Lb(p,JSON.parse(u),l,g.relative==="path");t==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Tl([n,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[n,r,u,l,t])}v.createContext(null);function Vx(){let{matches:t}=v.useContext(oo),n=t[t.length-1];return n?n.params:{}}function Gp(t,{relative:n}={}){let{matches:r}=v.useContext(oo),{pathname:i}=lo(),l=JSON.stringify(Nb(r));return v.useMemo(()=>Lb(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function zI(t,n){return mA(t,n)}function mA(t,n,r,i,l){Rr(_h(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(ao),{matches:d}=v.useContext(oo),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let D=y&&y.path||"";gA(g,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=lo(),w;if(n){let D=typeof n=="string"?Ch(n):n;Rr(x==="/"||D.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=S;let C=w.pathname||"/",_=C;if(x!=="/"){let D=x.replace(/^\//,"").split("/");_="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=lA(t,{pathname:_});Ia(y||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ia(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=BI(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Tl([x,u.encodeLocation?u.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:Tl([x,u.encodeLocation?u.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),d,r,i,l);return n&&R?v.createElement(qp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function II(){let t=HI(),n=AI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},n),r?v.createElement("pre",{style:l},r):null,d)}var NI=v.createElement(II,null),LI=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(oo.Provider,{value:this.props.routeContext},v.createElement(Ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OI({routeContext:t,match:n,children:r}){let i=v.useContext(Eh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(oo.Provider,{value:t},r)}function BI(t,n=[],r=null,i=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=r?.errors;if(d!=null){let g=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Rr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(r)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:y,errors:S}=r,w=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||w){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,x,y)=>{let S,w=!1,C=null,_=null;r&&(S=d&&x.route.id?d[x.route.id]:void 0,C=x.route.errorElement||NI,m&&(p<0&&y===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):p===y&&(w=!0,_=x.route.hydrateFallbackElement||null)));let T=n.concat(u.slice(0,y+1)),R=()=>{let D;return S?D=C:w?D=_:x.route.Component?D=v.createElement(x.route.Component,null):x.route.element?D=x.route.element:D=g,v.createElement(OI,{match:x,routeContext:{outlet:g,matches:T,isDataRoute:r!=null},children:D})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?v.createElement(LI,{location:r.location,revalidation:r.revalidation,component:C,error:S,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):R()},null)}function Bb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $I(t){let n=v.useContext(Eh);return Rr(n,Bb(t)),n}function FI(t){let n=v.useContext(Fx);return Rr(n,Bb(t)),n}function VI(t){let n=v.useContext(oo);return Rr(n,Bb(t)),n}function $b(t){let n=VI(t),r=n.matches[n.matches.length-1];return Rr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function UI(){return $b("useRouteId")}function HI(){let t=v.useContext(Ob),n=FI("useRouteError"),r=$b("useRouteError");return t!==void 0?t:n.errors?.[r]}function WI(){let{router:t}=$I("useNavigate"),n=$b("useNavigate"),r=v.useRef(!1);return pA(()=>{r.current=!0}),v.useCallback(async(l,u={})=>{Ia(r.current,fA),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var FE={};function gA(t,n,r){!n&&!FE[t]&&(FE[t]=!0,Ia(!1,r))}v.memo(qI);function qI({routes:t,future:n,state:r,unstable_onError:i}){return mA(t,void 0,r,i,n)}function Eu({to:t,replace:n,state:r,relative:i}){Rr(_h(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(ao);Ia(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext(oo),{pathname:d}=lo(),m=co(),p=Lb(t,Nb(u),d,i==="path"),g=JSON.stringify(p);return v.useEffect(()=>{m(JSON.parse(g),{replace:n,state:r,relative:i})},[m,g,i,n,r]),null}function Vn(t){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GI({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:u=!1}){Rr(!_h(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=v.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=Ch(r));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:S="default"}=r,w=v.useMemo(()=>{let C=Ml(p,d);return C==null?null:{location:{pathname:C,search:g,hash:x,state:y,key:S},navigationType:i}},[d,p,g,x,y,S,i]);return Ia(w!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(ao.Provider,{value:m},v.createElement(qp.Provider,{children:n,value:w}))}function YI({children:t,location:n}){return zI(jj(t),n)}function jj(t,n=[]){let r=[];return v.Children.forEach(t,(i,l)=>{if(!v.isValidElement(i))return;let u=[...n,l];if(i.type===v.Fragment){r.push.apply(r,jj(i.props.children,u));return}Rr(i.type===Vn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=jj(i.props.children,u)),r.push(d)}),r}var Gg="get",Yg="application/x-www-form-urlencoded";function Ux(t){return t!=null&&typeof t.tagName=="string"}function ZI(t){return Ux(t)&&t.tagName.toLowerCase()==="button"}function XI(t){return Ux(t)&&t.tagName.toLowerCase()==="form"}function KI(t){return Ux(t)&&t.tagName.toLowerCase()==="input"}function QI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JI(t,n){return t.button===0&&(!n||n==="_self")&&!QI(t)}function bj(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let i=t[r];return n.concat(Array.isArray(i)?i.map(l=>[r,l]):[[r,i]])},[]))}function eN(t,n){let r=bj(t);return n&&n.forEach((i,l)=>{r.has(l)||n.getAll(l).forEach(u=>{r.append(l,u)})}),r}var xg=null;function tN(){if(xg===null)try{new FormData(document.createElement("form"),0),xg=!1}catch{xg=!0}return xg}var nN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oy(t){return t!=null&&!nN.has(t)?(Ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yg}"`),null):t}function rN(t,n){let r,i,l,u,d;if(XI(t)){let m=t.getAttribute("action");i=m?Ml(m,n):null,r=t.getAttribute("method")||Gg,l=oy(t.getAttribute("enctype"))||Yg,u=new FormData(t)}else if(ZI(t)||KI(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(i=p?Ml(p,n):null,r=t.getAttribute("formmethod")||m.getAttribute("method")||Gg,l=oy(t.getAttribute("formenctype"))||oy(m.getAttribute("enctype"))||Yg,u=new FormData(m,t),!tN()){let{name:g,type:x,value:y}=t;if(x==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,y)}}else{if(Ux(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gg,i=null,l=Yg,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fb(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function sN(t,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&Ml(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function iN(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oN(t,n,r){let i=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await iN(u,r);return d.links?d.links():[]}return[]}));return dN(i.flat(1).filter(aN).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function VE(t,n,r,i,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?n.filter((p,g)=>{let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function lN(t,n,{includeHydrateFallback:r}={}){return cN(t.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function cN(t){return[...new Set(t)]}function uN(t){let n={},r=Object.keys(t).sort();for(let i of r)n[i]=t[i];return n}function dN(t,n){let r=new Set;return new Set(n),t.reduce((i,l)=>{let u=JSON.stringify(uN(l));return r.has(u)||(r.add(u),i.push({key:u,link:l})),i},[])}function xA(){let t=v.useContext(Eh);return Fb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hN(){let t=v.useContext(Fx);return Fb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vb=v.createContext(void 0);Vb.displayName="FrameworkContext";function vA(){let t=v.useContext(Vb);return Fb(t,"You must render this element inside a <HydratedRouter> element"),t}function fN(t,n){let r=v.useContext(Vb),[i,l]=v.useState(!1),[u,d]=v.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=n,S=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let _=R=>{R.forEach(D=>{d(D.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[t]),v.useEffect(()=>{if(i){let _=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(_)}}},[i]);let w=()=>{l(!0)},C=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,S,{}]:[u,S,{onFocus:kf(m,w),onBlur:kf(p,C),onMouseEnter:kf(g,w),onMouseLeave:kf(x,C),onTouchStart:kf(y,w)}]:[!1,S,{}]}function kf(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function pN({page:t,...n}){let{router:r}=xA(),i=v.useMemo(()=>lA(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?v.createElement(gN,{page:t,matches:i,...n}):null}function mN(t){let{manifest:n,routeModules:r}=vA(),[i,l]=v.useState([]);return v.useEffect(()=>{let u=!1;return oN(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),i}function gN({page:t,matches:n,...r}){let i=lo(),{manifest:l,routeModules:u}=vA(),{basename:d}=xA(),{loaderData:m,matches:p}=hN(),g=v.useMemo(()=>VE(t,n,p,l,i,"data"),[t,n,p,l,i]),x=v.useMemo(()=>VE(t,n,p,l,i,"assets"),[t,n,p,l,i]),y=v.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,_=!1;if(n.forEach(R=>{let D=l.routes[R.route.id];!D||!D.hasLoader||(!g.some(k=>k.route.id===R.route.id)&&R.route.id in m&&u[R.route.id]?.shouldRevalidate||D.hasClientLoader?_=!0:C.add(R.route.id))}),C.size===0)return[];let T=sN(t,d,"data");return _&&C.size>0&&T.searchParams.set("_routes",n.filter(R=>C.has(R.route.id)).map(R=>R.route.id).join(",")),[T.pathname+T.search]},[d,m,i,l,g,n,t,u]),S=v.useMemo(()=>lN(x,l),[x,l]),w=mN(x);return v.createElement(v.Fragment,null,y.map(C=>v.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),S.map(C=>v.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),w.map(({key:C,link:_})=>v.createElement("link",{key:C,nonce:r.nonce,..._})))}function xN(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.8.2")}catch{}function vN({basename:t,children:n,window:r}){let i=v.useRef();i.current==null&&(i.current=iI({window:r,v5Compat:!0}));let l=i.current,[u,d]=v.useState({action:l.action,location:l.location}),m=v.useCallback(p=>{v.startTransition(()=>d(p))},[d]);return v.useLayoutEffect(()=>l.listen(m),[l,m]),v.createElement(GI,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=v.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:y,...S},w){let{basename:C}=v.useContext(ao),_=typeof g=="string"&&jA.test(g),T,R=!1;if(typeof g=="string"&&_&&(T=g,yA))try{let ae=new URL(window.location.href),he=g.startsWith("//")?new URL(ae.protocol+g):new URL(g),le=Ml(he.pathname,C);he.origin===ae.origin&&le!=null?g=le+he.search+he.hash:R=!0}catch{Ia(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=PI(g,{relative:l}),[k,N,M]=fN(i,S),O=SN(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:l,viewTransition:y});function H(ae){n&&n(ae),ae.defaultPrevented||O(ae)}let U=v.createElement("a",{...S,...M,href:T||D,onClick:R||u?n:H,ref:xN(w,N),target:p,"data-discover":!_&&r==="render"?"true":void 0});return k&&!_?v.createElement(v.Fragment,null,U,v.createElement(pN,{page:D})):U});cr.displayName="Link";var yN=v.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:m,children:p,...g},x){let y=Gp(d,{relative:g.relative}),S=lo(),w=v.useContext(Fx),{navigator:C,basename:_}=v.useContext(ao),T=w!=null&&AN(y)&&m===!0,R=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,D=S.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase()),k&&_&&(k=Ml(k,_)||k);const N=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let M=D===R||!l&&D.startsWith(R)&&D.charAt(N)==="/",O=k!=null&&(k===R||!l&&k.startsWith(R)&&k.charAt(R.length)==="/"),H={isActive:M,isPending:O,isTransitioning:T},U=M?n:void 0,ae;typeof i=="function"?ae=i(H):ae=[i,M?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let he=typeof u=="function"?u(H):u;return v.createElement(cr,{...g,"aria-current":U,className:ae,ref:x,style:he,to:d,viewTransition:m},typeof p=="function"?p(H):p)});yN.displayName="NavLink";var jN=v.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:u,method:d=Gg,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...S},w)=>{let C=_N(),_=TN(m,{relative:g}),T=d.toLowerCase()==="get"?"get":"post",R=typeof m=="string"&&jA.test(m),D=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,M=N?.getAttribute("formmethod")||d;C(N||k.currentTarget,{fetcherKey:n,method:M,navigate:r,replace:l,state:u,relative:g,preventScrollReset:x,viewTransition:y})};return v.createElement("form",{ref:w,method:T,action:_,onSubmit:i?p:D,...S,"data-discover":!R&&t==="render"?"true":void 0})});jN.displayName="Form";function bN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let n=v.useContext(Eh);return Rr(n,bN(t)),n}function SN(t,{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let m=co(),p=lo(),g=Gp(t,{relative:u});return v.useCallback(x=>{if(JI(x,n)){x.preventDefault();let y=r!==void 0?r:Ep(p)===Ep(g);m(t,{replace:y,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[p,m,g,r,i,n,t,l,u,d])}function wN(t){Ia(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=v.useRef(bj(t)),r=v.useRef(!1),i=lo(),l=v.useMemo(()=>eN(i.search,r.current?null:n.current),[i.search]),u=co(),d=v.useCallback((m,p)=>{const g=bj(typeof m=="function"?m(new URLSearchParams(l)):m);r.current=!0,u("?"+g,p)},[u,l]);return[l,d]}var CN=0,EN=()=>`__${String(++CN)}__`;function _N(){let{router:t}=bA("useSubmit"),{basename:n}=v.useContext(ao),r=UI();return v.useCallback(async(i,l={})=>{let{action:u,method:d,encType:m,formData:p,body:g}=rN(i,n);if(l.navigate===!1){let x=l.fetcherKey||EN();await t.fetch(x,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function TN(t,{relative:n}={}){let{basename:r}=v.useContext(ao),i=v.useContext(oo);Rr(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Gp(t||".",{relative:n})},d=lo();if(t==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Tl([r,u.pathname])),Ep(u)}function AN(t,{relative:n}={}){let r=v.useContext(hA);Rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bA("useViewTransitionState"),l=Gp(t,{relative:n});if(!r.isTransitioning)return!1;let u=Ml(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=Ml(r.nextLocation.pathname,i)||r.nextLocation.pathname;return gx(l.pathname,d)!=null||gx(l.pathname,u)!=null}var Ub=oA();function Hx(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function RN(){return!!globalThis?.document}function SA(t){return t.parentElement&&SA(t.parentElement)?!0:t.hidden}function kN(t){const n=t.getAttribute("contenteditable");return n!=="false"&&n!=null}function DN(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function PN(t){return wA(t)?.defaultView??window}function wA(t){return Hx(t)?t.ownerDocument:document}function MN(t){return wA(t).activeElement}function zN(t,...n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const i of n)if(i!=null)for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(l in r&&delete r[l],r[l]=i[l]);return r}const Cn=t=>t?"":void 0,_u=t=>t?!0:void 0;function Sj(t){return Array.isArray(t)}function gs(t){const n=typeof t;return t!=null&&(n==="object"||n==="function")&&!Sj(t)}function IN(t){const n=t==null?0:t.length;return n?t[n-1]:void 0}function NN(t){const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}}function wj(t){if(t==null)return t;const{unitless:n}=NN(t);return n||typeof t=="number"?`${t}px`:t}const CA=(t,n)=>parseInt(t[1],10)>parseInt(n[1],10)?1:-1,Hb=t=>Object.fromEntries(Object.entries(t).sort(CA));function UE(t){const n=Hb(t);return Object.assign(Object.values(n),n)}function LN(t){const n=Object.keys(Hb(t));return new Set(n)}function HE(t){if(!t)return t;t=wj(t)??t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Gf(t,n){const r=["@media screen"];return t&&r.push("and",`(min-width: ${wj(t)})`),n&&r.push("and",`(max-width: ${wj(n)})`),r.join(" ")}function ON(t){if(!t)return null;t.base=t.base??"0px";const n=UE(t),r=Object.entries(t).sort(CA).map(([u,d],m,p)=>{let[,g]=p[m+1]??[];return g=parseFloat(g)>0?HE(g):void 0,{_minW:HE(d),breakpoint:u,minW:d,maxW:g,maxWQuery:Gf(null,g),minWQuery:Gf(d),minMaxQuery:Gf(d,g)}}),i=LN(t),l=Array.from(i.values());return{keys:i,normalized:n,isResponsive(u){const d=Object.keys(u);return d.length>0&&d.every(m=>i.has(m))},asObject:Hb(t),asArray:UE(t),details:r,get(u){return r.find(d=>d.breakpoint===u)},media:[null,...n.map(u=>Gf(u)).slice(1)],toArrayValue(u){if(!gs(u))throw new Error("toArrayValue: value must be an object");const d=l.map(m=>u[m]??null);for(;IN(d)===null;)d.pop();return d},toObjectValue(u){if(!Array.isArray(u))throw new Error("toObjectValue: value must be an array");return u.reduce((d,m,p)=>{const g=l[p];return g!=null&&m!=null&&(d[g]=m),d},{})}}}function EA(...t){return function(...r){t.forEach(i=>i?.(...r))}}function sn(...t){return function(r){t.some(i=>(i?.(r),r?.defaultPrevented))}}function Ic(t){return v.Children.toArray(t).filter(n=>v.isValidElement(n))}function Yp(t){const n=Object.assign({},t);for(let r in n)n[r]===void 0&&delete n[r];return n}function BN(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function Hn(t={}){const{name:n,strict:r=!0,hookName:i="useContext",providerName:l="Provider",errorMessage:u,defaultValue:d}=t,m=v.createContext(d);m.displayName=n;function p(){const g=v.useContext(m);if(!g&&r){const x=new Error(u??BN(i,l));throw x.name="ContextError",Error.captureStackTrace?.(x,p),x}return g}return[m.Provider,p,m]}const ht=(...t)=>t.filter(Boolean).join(" "),_A=t=>t.hasAttribute("tabindex"),$N=t=>_A(t)&&t.tabIndex===-1;function TA(t){if(!Hx(t)||SA(t)||DN(t))return!1;const{localName:n}=t;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const i={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return n in i?i[n]():kN(t)?!0:_A(t)}function FN(t){return t?Hx(t)&&TA(t)&&!$N(t):!1}const VN=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],UN=VN.join(),HN=t=>t.offsetWidth>0&&t.offsetHeight>0;function WN(t){const n=Array.from(t.querySelectorAll(UN));return n.unshift(t),n.filter(r=>TA(r)&&HN(r))}function qN(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const GN=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const m=n.get(i);if(m.has(l))return m.get(l);const p=t(i,l,u,d);return m.set(l,p),p}},AA=GN(qN),YN=t=>t.default||t;function RA(t){const{wasSelected:n,enabled:r,isSelected:i,mode:l="unmount"}=t;return!!(!r||i||l==="keepMounted"&&n)}function ZN(t){const n=parseFloat(t);return typeof n!="number"||Number.isNaN(n)?0:n}function kA(t,n){let r=ZN(t);const i=10**(n??10);return r=Math.round(r*i)/i,n?r.toFixed(n):r.toString()}function WE(t){if(!Number.isFinite(t))return 0;let n=1,r=0;for(;Math.round(t*n)/n!==t;)n*=10,r+=1;return r}function XN(t,n,r){return t==null?t:(r<n&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,n),r))}function Zp(t,n=[]){const r=Object.assign({},t);for(const i of n)i in r&&delete r[i];return r}function DA(t,n){const r={};for(const i of n)i in t&&(r[i]=t[i]);return r}const PA=Object.freeze(["base","sm","md","lg","xl","2xl"]);function Wx(t,n){return Array.isArray(t)?t.map(r=>r===null?null:n(r)):gs(t)?Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{}):t!=null?n(t):null}function KN(t,n=PA){const r={};return t.forEach((i,l)=>{const u=n[l];i!=null&&(r[u]=i)}),r}const QN=t=>typeof t=="function";function ua(t,...n){return QN(t)?t(...n):t}function JN(t){const n=t.ownerDocument.defaultView||window,{overflow:r,overflowX:i,overflowY:l}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+l+i)}function eL(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function MA(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:Hx(t)&&JN(t)?t:MA(eL(t))}function tL(t,n){const r={},i={};for(const[l,u]of Object.entries(t))n.includes(l)?r[l]=u:i[l]=u;return[r,i]}function nL(t,...n){const r=Object.getOwnPropertyDescriptors(t),i=Object.keys(r),l=d=>{const m={};for(let p=0;p<d.length;p++){const g=d[p];r[g]&&(Object.defineProperty(m,g,r[g]),delete r[g])}return m},u=d=>l(Array.isArray(d)?d:i.filter(d));return n.map(u).concat(l(i))}function qE(t,n,r={}){const{stop:i,getKey:l}=r;function u(d,m=[]){if(gs(d)||Array.isArray(d)){const p={};for(const[g,x]of Object.entries(d)){const y=l?.(g)??g,S=[...m,y];if(i?.(d,S))return n(d,m);p[y]=u(x,S)}return p}return n(d,m)}return u(t)}const Xp=t=>{const{condition:n,message:r}=t};var Yf={exports:{}};Yf.exports;var GE;function rL(){return GE||(GE=1,(function(t,n){var r=200,i="__lodash_hash_undefined__",l=800,u=16,d=9007199254740991,m="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",x="[object Boolean]",y="[object Date]",S="[object Error]",w="[object Function]",C="[object GeneratorFunction]",_="[object Map]",T="[object Number]",R="[object Null]",D="[object Object]",k="[object Proxy]",N="[object RegExp]",M="[object Set]",O="[object String]",H="[object Undefined]",U="[object WeakMap]",ae="[object ArrayBuffer]",he="[object DataView]",le="[object Float32Array]",de="[object Float64Array]",Re="[object Int8Array]",fe="[object Int16Array]",se="[object Int32Array]",Y="[object Uint8Array]",q="[object Uint8ClampedArray]",W="[object Uint16Array]",Ee="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,$={};$[le]=$[de]=$[Re]=$[fe]=$[se]=$[Y]=$[q]=$[W]=$[Ee]=!0,$[m]=$[p]=$[ae]=$[x]=$[he]=$[y]=$[S]=$[w]=$[_]=$[T]=$[D]=$[N]=$[M]=$[O]=$[U]=!1;var F=typeof gg=="object"&&gg&&gg.Object===Object&&gg,G=typeof self=="object"&&self&&self.Object===Object&&self,X=F||G||Function("return this")(),ye=n&&!n.nodeType&&n,ve=ye&&!0&&t&&!t.nodeType&&t,be=ve&&ve.exports===ye,He=be&&F.process,ct=(function(){try{var oe=ve&&ve.require&&ve.require("util").types;return oe||He&&He.binding&&He.binding("util")}catch{}})(),Xe=ct&&ct.isTypedArray;function dt(oe,Ce,Be){switch(Be.length){case 0:return oe.call(Ce);case 1:return oe.call(Ce,Be[0]);case 2:return oe.call(Ce,Be[0],Be[1]);case 3:return oe.call(Ce,Be[0],Be[1],Be[2])}return oe.apply(Ce,Be)}function Ue(oe,Ce){for(var Be=-1,pt=Array(oe);++Be<oe;)pt[Be]=Ce(Be);return pt}function Ht(oe){return function(Ce){return oe(Ce)}}function we(oe,Ce){return oe?.[Ce]}function Ke(oe,Ce){return function(Be){return oe(Ce(Be))}}var Bt=Array.prototype,ce=Function.prototype,je=Object.prototype,it=X["__core-js_shared__"],It=ce.toString,zn=je.hasOwnProperty,dr=(function(){var oe=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),We=je.toString,at=It.call(Object),Lt=RegExp("^"+It.call(zn).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=be?X.Buffer:void 0,bt=X.Symbol,In=X.Uint8Array;Qe&&Qe.allocUnsafe;var Ye=Ke(Object.getPrototypeOf,Object),Mt=Object.create,ln=je.propertyIsEnumerable,gn=Bt.splice,Kt=bt?bt.toStringTag:void 0,Ln=(function(){try{var oe=Pr(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),ot=Qe?Qe.isBuffer:void 0,An=Math.max,Sr=Date.now,Kr=Pr(X,"Map"),Wn=Pr(Object,"create"),Bi=(function(){function oe(){}return function(Ce){if(!_r(Ce))return{};if(Mt)return Mt(Ce);oe.prototype=Ce;var Be=new oe;return oe.prototype=void 0,Be}})();function ji(oe){var Ce=-1,Be=oe==null?0:oe.length;for(this.clear();++Ce<Be;){var pt=oe[Ce];this.set(pt[0],pt[1])}}function Xo(){this.__data__=Wn?Wn(null):{},this.size=0}function Qr(oe){var Ce=this.has(oe)&&delete this.__data__[oe];return this.size-=Ce?1:0,Ce}function $i(oe){var Ce=this.__data__;if(Wn){var Be=Ce[oe];return Be===i?void 0:Be}return zn.call(Ce,oe)?Ce[oe]:void 0}function Fi(oe){var Ce=this.__data__;return Wn?Ce[oe]!==void 0:zn.call(Ce,oe)}function fo(oe,Ce){var Be=this.__data__;return this.size+=this.has(oe)?0:1,Be[oe]=Wn&&Ce===void 0?i:Ce,this}ji.prototype.clear=Xo,ji.prototype.delete=Qr,ji.prototype.get=$i,ji.prototype.has=Fi,ji.prototype.set=fo;function Vs(oe){var Ce=-1,Be=oe==null?0:oe.length;for(this.clear();++Ce<Be;){var pt=oe[Ce];this.set(pt[0],pt[1])}}function Vi(){this.__data__=[],this.size=0}function Er(oe){var Ce=this.__data__,Be=Ds(Ce,oe);if(Be<0)return!1;var pt=Ce.length-1;return Be==pt?Ce.pop():gn.call(Ce,Be,1),--this.size,!0}function Jr(oe){var Ce=this.__data__,Be=Ds(Ce,oe);return Be<0?void 0:Ce[Be][1]}function ga(oe){return Ds(this.__data__,oe)>-1}function ys(oe,Ce){var Be=this.__data__,pt=Ds(Be,oe);return pt<0?(++this.size,Be.push([oe,Ce])):Be[pt][1]=Ce,this}Vs.prototype.clear=Vi,Vs.prototype.delete=Er,Vs.prototype.get=Jr,Vs.prototype.has=ga,Vs.prototype.set=ys;function Tt(oe){var Ce=-1,Be=oe==null?0:oe.length;for(this.clear();++Ce<Be;){var pt=oe[Ce];this.set(pt[0],pt[1])}}function Ol(){this.size=0,this.__data__={hash:new ji,map:new(Kr||Vs),string:new ji}}function Ko(oe){var Ce=Gi(this,oe).delete(oe);return this.size-=Ce?1:0,Ce}function bi(oe){return Gi(this,oe).get(oe)}function kr(oe){return Gi(this,oe).has(oe)}function cs(oe,Ce){var Be=Gi(this,oe),pt=Be.size;return Be.set(oe,Ce),this.size+=Be.size==pt?0:1,this}Tt.prototype.clear=Ol,Tt.prototype.delete=Ko,Tt.prototype.get=bi,Tt.prototype.has=kr,Tt.prototype.set=cs;function js(oe){var Ce=this.__data__=new Vs(oe);this.size=Ce.size}function Us(){this.__data__=new Vs,this.size=0}function ei(oe){var Ce=this.__data__,Be=Ce.delete(oe);return this.size=Ce.size,Be}function xr(oe){return this.__data__.get(oe)}function Qo(oe){return this.__data__.has(oe)}function po(oe,Ce){var Be=this.__data__;if(Be instanceof Vs){var pt=Be.__data__;if(!Kr||pt.length<r-1)return pt.push([oe,Ce]),this.size=++Be.size,this;Be=this.__data__=new Tt(pt)}return Be.set(oe,Ce),this.size=Be.size,this}js.prototype.clear=Us,js.prototype.delete=ei,js.prototype.get=xr,js.prototype.has=Qo,js.prototype.set=po;function ti(oe,Ce){var Be=ws(oe),pt=!Be&&ii(oe),rt=!Be&&!pt&&Ut(oe),an=!Be&&!pt&&!rt&&Cs(oe),Dt=Be||pt||rt||an,fn=Dt?Ue(oe.length,String):[],cn=fn.length;for(var Mr in oe)Dt&&(Mr=="length"||rt&&(Mr=="offset"||Mr=="parent")||an&&(Mr=="buffer"||Mr=="byteLength"||Mr=="byteOffset")||Yi(Mr,cn))||fn.push(Mr);return fn}function ni(oe,Ce,Be){(Be!==void 0&&!Hs(oe[Ce],Be)||Be===void 0&&!(Ce in oe))&&lt(oe,Ce,Be)}function Jo(oe,Ce,Be){var pt=oe[Ce];(!(zn.call(oe,Ce)&&Hs(pt,Be))||Be===void 0&&!(Ce in oe))&&lt(oe,Ce,Be)}function Ds(oe,Ce){for(var Be=oe.length;Be--;)if(Hs(oe[Be][0],Ce))return Be;return-1}function lt(oe,Ce,Be){Ce=="__proto__"&&Ln?Ln(oe,Ce,{configurable:!0,enumerable:!0,value:Be,writable:!0}):oe[Ce]=Be}var Fc=ir();function Ui(oe){return oe==null?oe===void 0?H:R:Kt&&Kt in Object(oe)?es(oe):yn(oe)}function Hi(oe){return qs(oe)&&Ui(oe)==m}function ri(oe){if(!_r(oe)||Zi(oe))return!1;var Ce=Or(oe)?Lt:ie;return Ce.test(Xi(oe))}function $a(oe){return qs(oe)&&Rn(oe.length)&&!!$[Ui(oe)]}function Si(oe){if(!_r(oe))return Va(oe);var Ce=Ps(oe),Be=[];for(var pt in oe)pt=="constructor"&&(Ce||!zn.call(oe,pt))||Be.push(pt);return Be}function wi(oe,Ce,Be,pt,rt){oe!==Ce&&Fc(Ce,function(an,Dt){if(rt||(rt=new js),_r(an))Fa(oe,Ce,Dt,Be,wi,pt,rt);else{var fn=pt?pt(Ss(oe,Dt),an,Dt+"",oe,Ce,rt):void 0;fn===void 0&&(fn=an),ni(oe,Dt,fn)}},Qi)}function Fa(oe,Ce,Be,pt,rt,an,Dt){var fn=Ss(oe,Be),cn=Ss(Ce,Be),Mr=Dt.get(cn);if(Mr){ni(oe,Be,Mr);return}var ts=an?an(fn,cn,Be+"",oe,Ce,Dt):void 0,Ji=ts===void 0;if(Ji){var Ha=ws(cn),Wa=!Ha&&Ut(cn),tl=!Ha&&!Wa&&Cs(cn);ts=cn,Ha||Wa||tl?ws(fn)?ts=fn:Ki(fn)?ts=Ci(fn):Wa?(Ji=!1,ts=sr(cn)):tl?(Ji=!1,ts=Wi(cn)):ts=[]:Gs(cn)||ii(cn)?(ts=fn,ii(fn)?ts=ai(fn):(!_r(fn)||Or(fn))&&(ts=mo(cn))):Ji=!1}Ji&&(Dt.set(cn,ts),rt(ts,cn,pt,an,Dt),Dt.delete(cn)),ni(oe,Be,ts)}function si(oe,Ce){return go(Lr(oe,Ce,us),oe+"")}var Sn=Ln?function(oe,Ce){return Ln(oe,"toString",{configurable:!0,enumerable:!1,value:vr(Ce),writable:!0})}:us;function sr(oe,Ce){return oe.slice()}function Dr(oe){var Ce=new oe.constructor(oe.byteLength);return new In(Ce).set(new In(oe)),Ce}function Wi(oe,Ce){var Be=Dr(oe.buffer);return new oe.constructor(Be,oe.byteOffset,oe.length)}function Ci(oe,Ce){var Be=-1,pt=oe.length;for(Ce||(Ce=Array(pt));++Be<pt;)Ce[Be]=oe[Be];return Ce}function qi(oe,Ce,Be,pt){var rt=!Be;Be||(Be={});for(var an=-1,Dt=Ce.length;++an<Dt;){var fn=Ce[an],cn=void 0;cn===void 0&&(cn=oe[fn]),rt?lt(Be,fn,cn):Jo(Be,fn,cn)}return Be}function nn(oe){return si(function(Ce,Be){var pt=-1,rt=Be.length,an=rt>1?Be[rt-1]:void 0,Dt=rt>2?Be[2]:void 0;for(an=oe.length>3&&typeof an=="function"?(rt--,an):void 0,Dt&&bs(Be[0],Be[1],Dt)&&(an=rt<3?void 0:an,rt=1),Ce=Object(Ce);++pt<rt;){var fn=Be[pt];fn&&oe(Ce,fn,pt,an)}return Ce})}function ir(oe){return function(Ce,Be,pt){for(var rt=-1,an=Object(Ce),Dt=pt(Ce),fn=Dt.length;fn--;){var cn=Dt[++rt];if(Be(an[cn],cn,an)===!1)break}return Ce}}function Gi(oe,Ce){var Be=oe.__data__;return hr(Ce)?Be[typeof Ce=="string"?"string":"hash"]:Be.map}function Pr(oe,Ce){var Be=we(oe,Ce);return ri(Be)?Be:void 0}function es(oe){var Ce=zn.call(oe,Kt),Be=oe[Kt];try{oe[Kt]=void 0;var pt=!0}catch{}var rt=We.call(oe);return pt&&(Ce?oe[Kt]=Be:delete oe[Kt]),rt}function mo(oe){return typeof oe.constructor=="function"&&!Ps(oe)?Bi(Ye(oe)):{}}function Yi(oe,Ce){var Be=typeof oe;return Ce=Ce??d,!!Ce&&(Be=="number"||Be!="symbol"&&xe.test(oe))&&oe>-1&&oe%1==0&&oe<Ce}function bs(oe,Ce,Be){if(!_r(Be))return!1;var pt=typeof Ce;return(pt=="number"?Ws(Be)&&Yi(Ce,Be.length):pt=="string"&&Ce in Be)?Hs(Be[Ce],oe):!1}function hr(oe){var Ce=typeof oe;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?oe!=="__proto__":oe===null}function Zi(oe){return!!dr&&dr in oe}function Ps(oe){var Ce=oe&&oe.constructor,Be=typeof Ce=="function"&&Ce.prototype||je;return oe===Be}function Va(oe){var Ce=[];if(oe!=null)for(var Be in Object(oe))Ce.push(Be);return Ce}function yn(oe){return We.call(oe)}function Lr(oe,Ce,Be){return Ce=An(Ce===void 0?oe.length-1:Ce,0),function(){for(var pt=arguments,rt=-1,an=An(pt.length-Ce,0),Dt=Array(an);++rt<an;)Dt[rt]=pt[Ce+rt];rt=-1;for(var fn=Array(Ce+1);++rt<Ce;)fn[rt]=pt[rt];return fn[Ce]=Be(Dt),dt(oe,this,fn)}}function Ss(oe,Ce){if(!(Ce==="constructor"&&typeof oe[Ce]=="function")&&Ce!="__proto__")return oe[Ce]}var go=xo(Sn);function xo(oe){var Ce=0,Be=0;return function(){var pt=Sr(),rt=u-(pt-Be);if(Be=pt,rt>0){if(++Ce>=l)return arguments[0]}else Ce=0;return oe.apply(void 0,arguments)}}function Xi(oe){if(oe!=null){try{return It.call(oe)}catch{}try{return oe+""}catch{}}return""}function Hs(oe,Ce){return oe===Ce||oe!==oe&&Ce!==Ce}var ii=Hi((function(){return arguments})())?Hi:function(oe){return qs(oe)&&zn.call(oe,"callee")&&!ln.call(oe,"callee")},ws=Array.isArray;function Ws(oe){return oe!=null&&Rn(oe.length)&&!Or(oe)}function Ki(oe){return qs(oe)&&Ws(oe)}var Ut=ot||el;function Or(oe){if(!_r(oe))return!1;var Ce=Ui(oe);return Ce==w||Ce==C||Ce==g||Ce==k}function Rn(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=d}function _r(oe){var Ce=typeof oe;return oe!=null&&(Ce=="object"||Ce=="function")}function qs(oe){return oe!=null&&typeof oe=="object"}function Gs(oe){if(!qs(oe)||Ui(oe)!=D)return!1;var Ce=Ye(oe);if(Ce===null)return!0;var Be=zn.call(Ce,"constructor")&&Ce.constructor;return typeof Be=="function"&&Be instanceof Be&&It.call(Be)==at}var Cs=Xe?Ht(Xe):$a;function ai(oe){return qi(oe,Qi(oe))}function Qi(oe){return Ws(oe)?ti(oe):Si(oe)}var Ua=nn(function(oe,Ce,Be,pt){wi(oe,Ce,Be,pt)});function vr(oe){return function(){return oe}}function us(oe){return oe}function el(){return!1}t.exports=Ua})(Yf,Yf.exports)),Yf.exports}var sL=rL();const Ma=Wp(sL);function ms(t,n=[]){const r=v.useRef(t);return v.useEffect(()=>{r.current=t}),v.useCallback((...i)=>r.current?.(...i),n)}function cp(t,n,r,i){const l=ms(r);return v.useEffect(()=>{const u=typeof t=="function"?t():t??document;if(!(!r||!u))return u.addEventListener(n,l,i),()=>{u.removeEventListener(n,l,i)}},[n,t,i,l,r]),()=>{(typeof t=="function"?t():t??document)?.removeEventListener(n,l,i)}}function iL(t){const{isOpen:n,ref:r}=t,[i,l]=v.useState(n),[u,d]=v.useState(!1);return v.useEffect(()=>{u||(l(n),d(!0))},[n,u,i]),cp(()=>r.current,"animationend",()=>{l(n)}),{present:!(n?!1:!i),onComplete(){const p=PN(r.current),g=new p.CustomEvent("animationend",{bubbles:!0});r.current?.dispatchEvent(g)}}}function Kp(t){const{value:n,defaultValue:r,onChange:i,shouldUpdate:l=(S,w)=>S!==w}=t,u=ms(i),d=ms(l),[m,p]=v.useState(r),g=n!==void 0,x=g?n:m,y=ms(S=>{const C=typeof S=="function"?S(x):S;d(x,C)&&(g||p(C),u(C))},[g,u,x,d]);return[x,y]}function aL(t={}){const{onChange:n,precision:r,defaultValue:i,value:l,step:u=1,min:d=Number.MIN_SAFE_INTEGER,max:m=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=t,g=ms(n),[x,y]=v.useState(()=>i==null?"":ly(i,u,r)??""),S=typeof l<"u",w=S?l:x,C=zA(bc(w),u),_=r??C,T=v.useCallback(he=>{he!==w&&(S||y(he.toString()),g?.(he.toString(),bc(he)))},[g,S,w]),R=v.useCallback(he=>{let le=he;return p&&(le=XN(le,d,m)),kA(le,_)},[_,p,m,d]),D=v.useCallback((he=u)=>{let le;w===""?le=bc(he):le=bc(w)+he,le=R(le),T(le)},[R,u,T,w]),k=v.useCallback((he=u)=>{let le;w===""?le=bc(-he):le=bc(w)-he,le=R(le),T(le)},[R,u,T,w]),N=v.useCallback(()=>{let he;i==null?he="":he=ly(i,u,r)??d,T(he)},[i,r,u,T,d]),M=v.useCallback(he=>{const le=ly(he,u,_)??d;T(le)},[_,u,T,d]),O=bc(w);return{isOutOfRange:O>m||O<d,isAtMax:O===m,isAtMin:O===d,precision:_,value:w,valueAsNumber:O,update:T,reset:N,increment:D,decrement:k,clamp:R,cast:M,setValue:y}}function bc(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function zA(t,n){return Math.max(WE(n),WE(t))}function ly(t,n,r){const i=bc(t);if(Number.isNaN(i))return;const l=zA(i,n);return kA(i,r??l)}function Rt(t={}){const{onClose:n,onOpen:r,isOpen:i,id:l}=t,u=ms(r),d=ms(n),[m,p]=v.useState(t.defaultIsOpen||!1),g=i!==void 0?i:m,x=i!==void 0,y=v.useId(),S=l??`disclosure-${y}`,w=v.useCallback(()=>{x||p(!1),d?.()},[x,d]),C=v.useCallback(()=>{x||p(!0),u?.()},[x,u]),_=v.useCallback(()=>{g?w():C()},[g,C,w]);function T(D={}){return{...D,"aria-expanded":g,"aria-controls":S,onClick(k){D.onClick?.(k),_()}}}function R(D={}){return{...D,hidden:!g,id:S}}return{isOpen:g,onOpen:C,onClose:w,onToggle:_,isControlled:x,getButtonProps:T,getDisclosureProps:R}}const Al=globalThis?.document?v.useLayoutEffect:v.useEffect,Nu=(t,n)=>{const r=v.useRef(!1),i=v.useRef(!1);v.useEffect(()=>{if(r.current&&i.current)return t();i.current=!0},n),v.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function oL(t){const n=t.current;if(!n)return!1;const r=MN(n);return!r||n.contains(r)?!1:!!FN(r)}function lL(t,n){const{visible:r,focusRef:i}=n,l=!r;Nu(()=>{if(!l||oL(t))return;const u=i?.current||t.current;let d;if(u)return d=requestAnimationFrame(()=>{u.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(d)}},[l,t,i])}function cL(t,n){const r=v.useId();return v.useMemo(()=>t||[n,r].filter(Boolean).join("-"),[t,n,r])}function uL(t,...n){const r=cL(t);return v.useMemo(()=>n.map(i=>`${i}-${r}`),[r,n])}function dL(t,n){const r=ms(t);v.useEffect(()=>{let i=null;const l=()=>r();return n!==null&&(i=window.setInterval(l,n)),()=>{i&&window.clearInterval(i)}},[n,r])}function hL(t,n){if(t!=null){if(typeof t=="function"){t(n);return}try{t.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${t}'`)}}}function Xr(...t){return n=>{t.forEach(r=>{hL(r,n)})}}function fL(...t){return v.useMemo(()=>Xr(...t),t)}function pL(t){const{ref:n,handler:r,enabled:i=!0}=t,l=ms(r),d=v.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;v.useEffect(()=>{if(!i)return;const m=y=>{cy(y,n)&&(d.isPointerDown=!0)},p=y=>{if(d.ignoreEmulatedMouseEvents){d.ignoreEmulatedMouseEvents=!1;return}d.isPointerDown&&r&&cy(y,n)&&(d.isPointerDown=!1,l(y))},g=y=>{d.ignoreEmulatedMouseEvents=!0,r&&d.isPointerDown&&cy(y,n)&&(d.isPointerDown=!1,l(y))},x=IA(n.current);return x.addEventListener("mousedown",m,!0),x.addEventListener("mouseup",p,!0),x.addEventListener("touchstart",m,!0),x.addEventListener("touchend",g,!0),()=>{x.removeEventListener("mousedown",m,!0),x.removeEventListener("mouseup",p,!0),x.removeEventListener("touchstart",m,!0),x.removeEventListener("touchend",g,!0)}},[r,n,l,d,i])}function cy(t,n){const r=t.composedPath?.()[0]??t.target;return r&&!IA(r).contains(r)?!1:!n.current?.contains(r)}function IA(t){return t?.ownerDocument??document}function mL(t,n){const r=ms(t);v.useEffect(()=>{if(n==null)return;let i=null;return i=window.setTimeout(()=>{r()},n),()=>{i&&window.clearTimeout(i)}},[n,r])}const ps={open:(t,n)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${n}`,closed:(t,n)=>`${t}[data-closed], ${t}[data-state=closed] ${n}`,hover:(t,n)=>`${t}:hover ${n}, ${t}[data-hover] ${n}`,focus:(t,n)=>`${t}:focus ${n}, ${t}[data-focus] ${n}`,focusVisible:(t,n)=>`${t}:focus-visible ${n}`,focusWithin:(t,n)=>`${t}:focus-within ${n}`,active:(t,n)=>`${t}:active ${n}, ${t}[data-active] ${n}`,disabled:(t,n)=>`${t}:disabled ${n}, ${t}[data-disabled] ${n}`,invalid:(t,n)=>`${t}:invalid ${n}, ${t}[data-invalid] ${n}`,checked:(t,n)=>`${t}:checked ${n}, ${t}[data-checked] ${n}`,placeholderShown:(t,n)=>`${t}:placeholder-shown ${n}`},Ao=t=>NA(n=>t(n,"&"),"[role=group]","[data-group]",".group"),gl=t=>NA(n=>t(n,"~ &"),"[data-peer]",".peer"),NA=(t,...n)=>n.map(t).join(", "),qx={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Ao(ps.open),_groupClosed:Ao(ps.closed),_groupHover:Ao(ps.hover),_peerHover:gl(ps.hover),_groupFocus:Ao(ps.focus),_peerFocus:gl(ps.focus),_groupFocusVisible:Ao(ps.focusVisible),_peerFocusVisible:gl(ps.focusVisible),_groupActive:Ao(ps.active),_peerActive:gl(ps.active),_groupDisabled:Ao(ps.disabled),_peerDisabled:gl(ps.disabled),_groupInvalid:Ao(ps.invalid),_peerInvalid:gl(ps.invalid),_groupChecked:Ao(ps.checked),_peerChecked:gl(ps.checked),_groupFocusWithin:Ao(ps.focusWithin),_peerFocusWithin:gl(ps.focusWithin),_peerPlaceholderShown:gl(ps.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},LA=Object.keys(qx),gL=t=>/!(important)?$/.test(t),YE=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,xL=(t,n)=>r=>{const i=String(n),l=gL(i),u=YE(i),d=t?`${t}.${u}`:u;let m=gs(r.__cssMap)&&d in r.__cssMap?r.__cssMap[d].varRef:n;return m=YE(m),l?`${m} !important`:m};function Wb(t){const{scale:n,transform:r,compose:i}=t;return(u,d)=>{const m=xL(n,u)(d);let p=r?.(m,d)??m;return i&&(p=i(p,d)),p}}const vg=(...t)=>n=>t.reduce((r,i)=>i(r),n);function Ea(t,n){return r=>{const i={property:r,scale:t};return i.transform=Wb({scale:t,transform:n}),i}}const vL=({rtl:t,ltr:n})=>r=>r.direction==="rtl"?t:n;function yL(t){const{property:n,scale:r,transform:i}=t;return{scale:r,property:vL(n),transform:r?Wb({scale:r,compose:i}):i}}const OA=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function jL(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...OA].join(" ")}function bL(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...OA].join(" ")}const SL={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},wL={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function CL(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const EL={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Cj={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},_L=new Set(Object.values(Cj)),Ej=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),TL=t=>t.trim();function AL(t,n){if(t==null||Ej.has(t))return t;if(!(_j(t)||Ej.has(t)))return`url('${t}')`;const l=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),u=l?.[1],d=l?.[2];if(!u||!d)return t;const m=u.includes("-gradient")?u:`${u}-gradient`,[p,...g]=d.split(",").map(TL).filter(Boolean);if(g?.length===0)return t;const x=p in Cj?Cj[p]:p;g.unshift(x);const y=g.map(S=>{if(_L.has(S))return S;const w=S.indexOf(" "),[C,_]=w!==-1?[S.substr(0,w),S.substr(w+1)]:[S],T=_j(_)?_:_&&_.split(" "),R=`colors.${C}`,D=R in n.__cssMap?n.__cssMap[R].varRef:C;return T?[D,...Array.isArray(T)?T:[T]].join(" "):D});return`${m}(${y.join(", ")})`}const _j=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),RL=(t,n)=>AL(t,n??{});function kL(t){return/^var\(--.+\)$/.test(t)}const DL=t=>{const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}},Ro=t=>n=>`${t}(${n})`,$n={filter(t){return t!=="auto"?t:SL},backdropFilter(t){return t!=="auto"?t:wL},ring(t){return CL($n.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?jL():t==="auto-gpu"?bL():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:n}=DL(t);return n||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,n){const r={left:"right",right:"left"};return n.direction==="rtl"?r[t]:t},degree(t){if(kL(t)||t==null)return t;const n=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||n?`${t}deg`:t},gradient:RL,blur:Ro("blur"),opacity:Ro("opacity"),brightness:Ro("brightness"),contrast:Ro("contrast"),dropShadow:Ro("drop-shadow"),grayscale:Ro("grayscale"),hueRotate:t=>Ro("hue-rotate")($n.degree(t)),invert:Ro("invert"),saturate:Ro("saturate"),sepia:Ro("sepia"),bgImage(t){return t==null||_j(t)||Ej.has(t)?t:`url(${t})`},outline(t){const n=String(t)==="0"||String(t)==="none";return t!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:n,divide:r}=EL[t]??{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},Te={borderWidths:Ea("borderWidths"),borderStyles:Ea("borderStyles"),colors:Ea("colors"),borders:Ea("borders"),gradients:Ea("gradients",$n.gradient),radii:Ea("radii",$n.px),space:Ea("space",vg($n.vh,$n.px)),spaceT:Ea("space",vg($n.vh,$n.px)),degreeT(t){return{property:t,transform:$n.degree}},prop(t,n,r){return{property:t,scale:n,...n&&{transform:Wb({scale:n,transform:r})}}},propT(t,n){return{property:t,transform:n}},sizes:Ea("sizes",vg($n.vh,$n.px)),sizesT:Ea("sizes",vg($n.vh,$n.fraction)),shadows:Ea("shadows"),logical:yL,blur:Ea("blur",$n.blur)},Zg={background:Te.colors("background"),backgroundColor:Te.colors("backgroundColor"),backgroundImage:Te.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:$n.bgClip},bgSize:Te.prop("backgroundSize"),bgPosition:Te.prop("backgroundPosition"),bg:Te.colors("background"),bgColor:Te.colors("backgroundColor"),bgPos:Te.prop("backgroundPosition"),bgRepeat:Te.prop("backgroundRepeat"),bgAttachment:Te.prop("backgroundAttachment"),bgGradient:Te.gradients("backgroundImage"),bgClip:{transform:$n.bgClip}};Object.assign(Zg,{bgImage:Zg.backgroundImage,bgImg:Zg.backgroundImage});const Qn={border:Te.borders("border"),borderWidth:Te.borderWidths("borderWidth"),borderStyle:Te.borderStyles("borderStyle"),borderColor:Te.colors("borderColor"),borderRadius:Te.radii("borderRadius"),borderTop:Te.borders("borderTop"),borderBlockStart:Te.borders("borderBlockStart"),borderTopLeftRadius:Te.radii("borderTopLeftRadius"),borderStartStartRadius:Te.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Te.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Te.radii("borderTopRightRadius"),borderStartEndRadius:Te.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Te.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Te.borders("borderRight"),borderInlineEnd:Te.borders("borderInlineEnd"),borderBottom:Te.borders("borderBottom"),borderBlockEnd:Te.borders("borderBlockEnd"),borderBottomLeftRadius:Te.radii("borderBottomLeftRadius"),borderBottomRightRadius:Te.radii("borderBottomRightRadius"),borderLeft:Te.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Te.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Te.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Te.borders(["borderLeft","borderRight"]),borderInline:Te.borders("borderInline"),borderY:Te.borders(["borderTop","borderBottom"]),borderBlock:Te.borders("borderBlock"),borderTopWidth:Te.borderWidths("borderTopWidth"),borderBlockStartWidth:Te.borderWidths("borderBlockStartWidth"),borderTopColor:Te.colors("borderTopColor"),borderBlockStartColor:Te.colors("borderBlockStartColor"),borderTopStyle:Te.borderStyles("borderTopStyle"),borderBlockStartStyle:Te.borderStyles("borderBlockStartStyle"),borderBottomWidth:Te.borderWidths("borderBottomWidth"),borderBlockEndWidth:Te.borderWidths("borderBlockEndWidth"),borderBottomColor:Te.colors("borderBottomColor"),borderBlockEndColor:Te.colors("borderBlockEndColor"),borderBottomStyle:Te.borderStyles("borderBottomStyle"),borderBlockEndStyle:Te.borderStyles("borderBlockEndStyle"),borderLeftWidth:Te.borderWidths("borderLeftWidth"),borderInlineStartWidth:Te.borderWidths("borderInlineStartWidth"),borderLeftColor:Te.colors("borderLeftColor"),borderInlineStartColor:Te.colors("borderInlineStartColor"),borderLeftStyle:Te.borderStyles("borderLeftStyle"),borderInlineStartStyle:Te.borderStyles("borderInlineStartStyle"),borderRightWidth:Te.borderWidths("borderRightWidth"),borderInlineEndWidth:Te.borderWidths("borderInlineEndWidth"),borderRightColor:Te.colors("borderRightColor"),borderInlineEndColor:Te.colors("borderInlineEndColor"),borderRightStyle:Te.borderStyles("borderRightStyle"),borderInlineEndStyle:Te.borderStyles("borderInlineEndStyle"),borderTopRadius:Te.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Te.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Te.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Te.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Qn,{rounded:Qn.borderRadius,roundedTop:Qn.borderTopRadius,roundedTopLeft:Qn.borderTopLeftRadius,roundedTopRight:Qn.borderTopRightRadius,roundedTopStart:Qn.borderStartStartRadius,roundedTopEnd:Qn.borderStartEndRadius,roundedBottom:Qn.borderBottomRadius,roundedBottomLeft:Qn.borderBottomLeftRadius,roundedBottomRight:Qn.borderBottomRightRadius,roundedBottomStart:Qn.borderEndStartRadius,roundedBottomEnd:Qn.borderEndEndRadius,roundedLeft:Qn.borderLeftRadius,roundedRight:Qn.borderRightRadius,roundedStart:Qn.borderInlineStartRadius,roundedEnd:Qn.borderInlineEndRadius,borderStart:Qn.borderInlineStart,borderEnd:Qn.borderInlineEnd,borderTopStartRadius:Qn.borderStartStartRadius,borderTopEndRadius:Qn.borderStartEndRadius,borderBottomStartRadius:Qn.borderEndStartRadius,borderBottomEndRadius:Qn.borderEndEndRadius,borderStartRadius:Qn.borderInlineStartRadius,borderEndRadius:Qn.borderInlineEndRadius,borderStartWidth:Qn.borderInlineStartWidth,borderEndWidth:Qn.borderInlineEndWidth,borderStartColor:Qn.borderInlineStartColor,borderEndColor:Qn.borderInlineEndColor,borderStartStyle:Qn.borderInlineStartStyle,borderEndStyle:Qn.borderInlineEndStyle});const PL={color:Te.colors("color"),textColor:Te.colors("color"),fill:Te.colors("fill"),stroke:Te.colors("stroke"),accentColor:Te.colors("accentColor"),textFillColor:Te.colors("textFillColor")},xx={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:$n.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Te.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Te.space("gap"),rowGap:Te.space("rowGap"),columnGap:Te.space("columnGap")};Object.assign(xx,{flexDir:xx.flexDirection});const Ra={width:Te.sizesT("width"),inlineSize:Te.sizesT("inlineSize"),height:Te.sizes("height"),blockSize:Te.sizes("blockSize"),boxSize:Te.sizes(["width","height"]),minWidth:Te.sizes("minWidth"),minInlineSize:Te.sizes("minInlineSize"),minHeight:Te.sizes("minHeight"),minBlockSize:Te.sizes("minBlockSize"),maxWidth:Te.sizes("maxWidth"),maxInlineSize:Te.sizes("maxInlineSize"),maxHeight:Te.sizes("maxHeight"),maxBlockSize:Te.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(t)?.minW??t})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(t)?._minW??t})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Te.propT("float",$n.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Ra,{w:Ra.width,h:Ra.height,minW:Ra.minWidth,maxW:Ra.maxWidth,minH:Ra.minHeight,maxH:Ra.maxHeight,overscroll:Ra.overscrollBehavior,overscrollX:Ra.overscrollBehaviorX,overscrollY:Ra.overscrollBehaviorY});const ML={filter:{transform:$n.filter},blur:Te.blur("--chakra-blur"),brightness:Te.propT("--chakra-brightness",$n.brightness),contrast:Te.propT("--chakra-contrast",$n.contrast),hueRotate:Te.propT("--chakra-hue-rotate",$n.hueRotate),invert:Te.propT("--chakra-invert",$n.invert),saturate:Te.propT("--chakra-saturate",$n.saturate),dropShadow:Te.propT("--chakra-drop-shadow",$n.dropShadow),backdropFilter:{transform:$n.backdropFilter},backdropBlur:Te.blur("--chakra-backdrop-blur"),backdropBrightness:Te.propT("--chakra-backdrop-brightness",$n.brightness),backdropContrast:Te.propT("--chakra-backdrop-contrast",$n.contrast),backdropHueRotate:Te.propT("--chakra-backdrop-hue-rotate",$n.hueRotate),backdropInvert:Te.propT("--chakra-backdrop-invert",$n.invert),backdropSaturate:Te.propT("--chakra-backdrop-saturate",$n.saturate)},zL={ring:{transform:$n.ring},ringColor:Te.colors("--chakra-ring-color"),ringOffset:Te.prop("--chakra-ring-offset-width"),ringOffsetColor:Te.colors("--chakra-ring-offset-color"),ringInset:Te.prop("--chakra-ring-inset")},IL={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:$n.outline},outlineOffset:!0,outlineColor:Te.colors("outlineColor")},BA={gridGap:Te.space("gridGap"),gridColumnGap:Te.space("gridColumnGap"),gridRowGap:Te.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function NL(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const LL=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const m=n.get(i);if(m.has(l))return m.get(l);const p=t(i,l,u,d);return m.set(l,p),p}},OL=LL(NL),BL={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},$L={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},uy=(t,n,r)=>{const i={},l=OL(t,n,{});for(const u in l)u in r&&r[u]!=null||(i[u]=l[u]);return i},FL={srOnly:{transform(t){return t===!0?BL:t==="focusable"?$L:{}}},layerStyle:{processResult:!0,transform:(t,n,r)=>uy(n,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,n,r)=>uy(n,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,n,r)=>uy(n,t,r)}},up={position:!0,pos:Te.prop("position"),zIndex:Te.prop("zIndex","zIndices"),inset:Te.spaceT("inset"),insetX:Te.spaceT(["left","right"]),insetInline:Te.spaceT("insetInline"),insetY:Te.spaceT(["top","bottom"]),insetBlock:Te.spaceT("insetBlock"),top:Te.spaceT("top"),insetBlockStart:Te.spaceT("insetBlockStart"),bottom:Te.spaceT("bottom"),insetBlockEnd:Te.spaceT("insetBlockEnd"),left:Te.spaceT("left"),insetInlineStart:Te.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Te.spaceT("right"),insetInlineEnd:Te.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(up,{insetStart:up.insetInlineStart,insetEnd:up.insetInlineEnd});const Tj={boxShadow:Te.shadows("boxShadow"),mixBlendMode:!0,blendMode:Te.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Te.prop("backgroundBlendMode"),opacity:!0};Object.assign(Tj,{shadow:Tj.boxShadow});const wr={margin:Te.spaceT("margin"),marginTop:Te.spaceT("marginTop"),marginBlockStart:Te.spaceT("marginBlockStart"),marginRight:Te.spaceT("marginRight"),marginInlineEnd:Te.spaceT("marginInlineEnd"),marginBottom:Te.spaceT("marginBottom"),marginBlockEnd:Te.spaceT("marginBlockEnd"),marginLeft:Te.spaceT("marginLeft"),marginInlineStart:Te.spaceT("marginInlineStart"),marginX:Te.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Te.spaceT("marginInline"),marginY:Te.spaceT(["marginTop","marginBottom"]),marginBlock:Te.spaceT("marginBlock"),padding:Te.space("padding"),paddingTop:Te.space("paddingTop"),paddingBlockStart:Te.space("paddingBlockStart"),paddingRight:Te.space("paddingRight"),paddingBottom:Te.space("paddingBottom"),paddingBlockEnd:Te.space("paddingBlockEnd"),paddingLeft:Te.space("paddingLeft"),paddingInlineStart:Te.space("paddingInlineStart"),paddingInlineEnd:Te.space("paddingInlineEnd"),paddingX:Te.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Te.space("paddingInline"),paddingY:Te.space(["paddingTop","paddingBottom"]),paddingBlock:Te.space("paddingBlock")};Object.assign(wr,{m:wr.margin,mt:wr.marginTop,mr:wr.marginRight,me:wr.marginInlineEnd,marginEnd:wr.marginInlineEnd,mb:wr.marginBottom,ml:wr.marginLeft,ms:wr.marginInlineStart,marginStart:wr.marginInlineStart,mx:wr.marginX,my:wr.marginY,p:wr.padding,pt:wr.paddingTop,py:wr.paddingY,px:wr.paddingX,pb:wr.paddingBottom,pl:wr.paddingLeft,ps:wr.paddingInlineStart,paddingStart:wr.paddingInlineStart,pr:wr.paddingRight,pe:wr.paddingInlineEnd,paddingEnd:wr.paddingInlineEnd});const VL={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Te.spaceT("scrollMargin"),scrollMarginTop:Te.spaceT("scrollMarginTop"),scrollMarginBottom:Te.spaceT("scrollMarginBottom"),scrollMarginLeft:Te.spaceT("scrollMarginLeft"),scrollMarginRight:Te.spaceT("scrollMarginRight"),scrollMarginX:Te.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Te.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Te.spaceT("scrollPadding"),scrollPaddingTop:Te.spaceT("scrollPaddingTop"),scrollPaddingBottom:Te.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Te.spaceT("scrollPaddingLeft"),scrollPaddingRight:Te.spaceT("scrollPaddingRight"),scrollPaddingX:Te.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Te.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},UL={fontFamily:Te.prop("fontFamily","fonts"),fontSize:Te.prop("fontSize","fontSizes",$n.px),fontWeight:Te.prop("fontWeight","fontWeights"),lineHeight:Te.prop("lineHeight","lineHeights"),letterSpacing:Te.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},HL={textDecorationColor:Te.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Te.shadows("textShadow")},WL={clipPath:!0,transform:Te.propT("transform",$n.transform),transformOrigin:!0,translateX:Te.spaceT("--chakra-translate-x"),translateY:Te.spaceT("--chakra-translate-y"),skewX:Te.degreeT("--chakra-skew-x"),skewY:Te.degreeT("--chakra-skew-y"),scaleX:Te.prop("--chakra-scale-x"),scaleY:Te.prop("--chakra-scale-y"),scale:Te.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Te.degreeT("--chakra-rotate")},qL={listStyleType:!0,listStylePosition:!0,listStylePos:Te.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Te.prop("listStyleImage")},GL={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Te.prop("transitionDuration","transition.duration"),transitionProperty:Te.prop("transitionProperty","transition.property"),transitionTimingFunction:Te.prop("transitionTimingFunction","transition.easing")},qb=Ma({},Zg,Qn,PL,xx,Ra,ML,zL,IL,BA,FL,up,Tj,wr,VL,UL,HL,WL,qL,GL),YL=Object.assign({},wr,Ra,xx,BA,up),ZL=Object.keys(YL),XL=[...Object.keys(qb),...LA],KL={...qb,...qx},QL=t=>t in KL,JL=t=>n=>{if(!n.__breakpoints)return t;const{isResponsive:r,toArrayValue:i,media:l}=n.__breakpoints,u={};for(const d in t){let m=ua(t[d],n);if(m==null)continue;if(m=gs(m)&&r(m)?i(m):m,!Array.isArray(m)){u[d]=m;continue}const p=m.slice(0,l.length).length;for(let g=0;g<p;g+=1){const x=l?.[g];if(!x){u[d]=m[g];continue}u[x]=u[x]||{},m[g]!=null&&(u[x][d]=m[g])}}return u};function eO(t){const n=[];let r="",i=!1;for(let l=0;l<t.length;l++){const u=t[l];u==="("?(i=!0,r+=u):u===")"?(i=!1,r+=u):u===","&&!i?(n.push(r),r=""):r+=u}return r=r.trim(),r&&n.push(r),n}function tO(t){return/^var\(--.+\)$/.test(t)}const nO=(t,n)=>t.startsWith("--")&&typeof n=="string"&&!tO(n),rO=(t,n)=>{if(n==null)return n;const r=d=>t.__cssMap?.[d]?.varRef,i=d=>r(d)??d,[l,u]=eO(n);return n=r(l)??i(u)??i(n),n};function sO(t){const{configs:n={},pseudos:r={},theme:i}=t,l=(u,d=!1)=>{const m=ua(u,i),p=JL(m)(i);let g={};for(let x in p){const y=p[x];let S=ua(y,i);x in r&&(x=r[x]),nO(x,S)&&(S=rO(i,S));let w=n[x];if(w===!0&&(w={property:x}),gs(S)){g[x]=g[x]??{},g[x]=Ma({},g[x],l(S,!0));continue}let C=w?.transform?.(S,i,m)??S;C=w?.processResult?l(C,!0):C;const _=ua(w?.property,i);if(!d&&w?.static){const T=ua(w.static,i);g=Ma({},g,T)}if(_&&Array.isArray(_)){for(const T of _)g[T]=C;continue}if(_){_==="&"&&gs(C)?g=Ma({},g,C):g[_]=C;continue}if(gs(C)){g=Ma({},g,C);continue}g[x]=C}return g};return l}const $A=t=>n=>sO({theme:n,pseudos:qx,configs:qb})(t);function br(t){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:t,...n}}}}function iO(t,n,r){return t.__cssMap?.[`${n}.${r}`]?.varRef??r}function aO(t,n){if(Array.isArray(t))return t;if(gs(t))return n(t);if(t!=null)return[t]}function oO(t,n){for(let r=n+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function lO(t){const n=t.__breakpoints;return function(i,l,u,d){if(!n)return;const m={},p=aO(u,n.toArrayValue);if(!p)return m;const g=p.length,x=g===1,y=!!i.parts;for(let S=0;S<g;S++){const w=n.details[S],C=n.details[oO(p,S)],_=Gf(w.minW,C?._minW),T=ua(i[l]?.[p[S]],d);if(T){if(y){i.parts?.forEach(R=>{Ma(m,{[R]:x?T[R]:{[_]:T[R]}})});continue}if(!y){x?Ma(m,T):m[_]=T;continue}m[_]=T}}return m}}function cO(t){return n=>{const{variant:r,size:i,theme:l}=n,u=lO(l);return Ma({},ua(t.baseStyle??{},n),u(t,"sizes",i,n),u(t,"variants",r,n))}}function Xn(t){return Zp(t,["styleConfig","size","variant","colorScheme"])}function FA(t){return gs(t)&&t.reference?t.reference:String(t)}const Gx=(t,...n)=>n.map(FA).join(` ${t} `).replace(/calc/g,""),ZE=(...t)=>`calc(${Gx("+",...t)})`,XE=(...t)=>`calc(${Gx("-",...t)})`,Aj=(...t)=>`calc(${Gx("*",...t)})`,KE=(...t)=>`calc(${Gx("/",...t)})`,QE=t=>{const n=FA(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:Aj(n,-1)},jl=Object.assign(t=>({add:(...n)=>jl(ZE(t,...n)),subtract:(...n)=>jl(XE(t,...n)),multiply:(...n)=>jl(Aj(t,...n)),divide:(...n)=>jl(KE(t,...n)),negate:()=>jl(QE(t)),toString:()=>t.toString()}),{add:ZE,subtract:XE,multiply:Aj,divide:KE,negate:QE});function uO(t,n="-"){return t.replace(/\s+/g,n)}function dO(t){const n=uO(t.toString());return fO(hO(n))}function hO(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function fO(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function pO(t,n=""){return[n,t].filter(Boolean).join("-")}function mO(t,n){return`var(${t}${n?`, ${n}`:""})`}function gO(t,n=""){return dO(`--${pO(t,n)}`)}function Yt(t,n,r){const i=gO(t,r);return{variable:i,reference:mO(i,n)}}function xO(t,n){const r={};for(const i of n){if(Array.isArray(i)){const[l,u]=i;r[l]=Yt(`${t}-${l}`,u);continue}r[i]=Yt(`${t}-${i}`)}return r}const vO=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function yO(t){return DA(t,vO)}function jO(t){return t.semanticTokens}function bO(t){const{__cssMap:n,__cssVars:r,__breakpoints:i,...l}=t;return l}function SO(t){const n=yO(t),r=jO(t),i=u=>LA.includes(u)||u==="default",l={};return qE(n,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!1,value:u})}),qE(r,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!0,value:u})},{stop:u=>Object.keys(u).every(i)}),l}function JE(t,n){return Yt(String(t).replace(/\./g,"-"),void 0,n)}function wO(t){const n=SO(t),r=t.config?.cssVarPrefix;let i={};const l={};function u(d,m){const g=[String(d).split(".")[0],m].join(".");if(!n[g])return m;const{reference:y}=JE(g,r);return y}for(const[d,m]of Object.entries(n)){const{isSemantic:p,value:g}=m,{variable:x,reference:y}=JE(d,r);if(!p){if(d.startsWith("space")){const w=d.split("."),[C,..._]=w,T=`${C}.-${_.join(".")}`,R=jl.negate(g),D=jl.negate(y);l[T]={value:R,var:x,varRef:D}}i[x]=g,l[d]={value:g,var:x,varRef:y};continue}const S=gs(g)?g:{default:g};i=Ma(i,Object.entries(S).reduce((w,[C,_])=>{if(!_)return w;const T=u(d,`${_}`);if(C==="default")return w[x]=T,w;const R=qx?.[C]??C;return w[R]={[x]:T},w},{})),l[d]={value:y,var:x,varRef:y}}return{cssVars:i,cssMap:l}}function CO(t){const n=bO(t),{cssMap:r,cssVars:i}=wO(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...i},__cssMap:r,__breakpoints:ON(n.breakpoints)}),n}function rr(t,n={}){let r=!1;function i(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function l(...x){i();for(const y of x)n[y]=p(y);return rr(t,n)}function u(...x){for(const y of x)y in n||(n[y]=p(y));return rr(t,n)}function d(){return Object.fromEntries(Object.entries(n).map(([y,S])=>[y,S.selector]))}function m(){return Object.fromEntries(Object.entries(n).map(([y,S])=>[y,S.className]))}function p(x){const w=`chakra-${(["container","root"].includes(x??"")?[t]:[t,x]).filter(Boolean).join("__")}`;return{className:w,selector:`.${w}`,toString:()=>x}}return{parts:l,toPart:p,extend:u,selectors:d,classnames:m,get keys(){return Object.keys(n)},__type:{}}}const EO=rr("accordion").parts("root","container","button","panel","icon"),_O=rr("alert").parts("title","description","container","icon","spinner"),TO=rr("avatar").parts("label","badge","container","excessLabel","group"),AO=rr("breadcrumb").parts("link","item","container","separator");rr("button").parts();const RO=rr("checkbox").parts("control","icon","container","label");rr("progress").parts("track","filledTrack","label");const kO=rr("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),DO=rr("editable").parts("preview","input","textarea"),PO=rr("form").parts("container","requiredIndicator","helperText"),MO=rr("formError").parts("text","icon"),zO=rr("input").parts("addon","field","element","group"),IO=rr("list").parts("container","item","icon"),NO=rr("menu").parts("button","list","item","groupTitle","icon","command","divider"),LO=rr("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),OO=rr("numberinput").parts("root","field","stepperGroup","stepper");rr("pininput").parts("field");const BO=rr("popover").parts("content","header","body","footer","popper","arrow","closeButton"),$O=rr("progress").parts("label","filledTrack","track"),FO=rr("radio").parts("container","control","label"),VO=rr("select").parts("field","icon"),UO=rr("slider").parts("container","track","thumb","filledTrack","mark"),HO=rr("stat").parts("container","label","helpText","number","icon"),WO=rr("switch").parts("container","track","thumb","label"),qO=rr("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),GO=rr("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),YO=rr("tag").parts("container","label","closeButton"),ZO=rr("card").parts("container","header","body","footer");rr("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:XO,defineMultiStyleConfig:KO}=br(EO.keys),QO={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},JO={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},e4={pt:"2",px:"4",pb:"5"},t4={fontSize:"1.25em"},n4=XO({container:QO,button:JO,panel:e4,icon:t4}),r4=KO({baseStyle:n4});function ju(t,n,r){return Math.min(Math.max(t,r),n)}class s4 extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var Zf=s4;function Gb(t){if(typeof t!="string")throw new Zf(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=t.trim();n=h4.test(t)?o4(t):t;const r=l4.exec(n);if(r){const d=Array.from(r).slice(1);return[...d.slice(0,3).map(m=>parseInt(_p(m,2),16)),parseInt(_p(d[3]||"f",2),16)/255]}const i=c4.exec(n);if(i){const d=Array.from(i).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,16)),parseInt(d[3]||"ff",16)/255]}const l=u4.exec(n);if(l){const d=Array.from(l).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,10)),parseFloat(d[3]||"1")]}const u=d4.exec(n);if(u){const[d,m,p,g]=Array.from(u).slice(1).map(parseFloat);if(ju(0,100,m)!==m)throw new Zf(t);if(ju(0,100,p)!==p)throw new Zf(t);return[...f4(d,m,p),Number.isNaN(g)?1:g]}throw new Zf(t)}function i4(t){let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return(n>>>0)%2341}const e_=t=>parseInt(t.replace(/_/g,""),36),a4="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,n)=>{const r=e_(n.substring(0,3)),i=e_(n.substring(3)).toString(16);let l="";for(let u=0;u<6-i.length;u++)l+="0";return t[r]=`${l}${i}`,t},{});function o4(t){const n=t.toLowerCase().trim(),r=a4[i4(n)];if(!r)throw new Zf(t);return`#${r}`}const _p=(t,n)=>Array.from(Array(n)).map(()=>t).join(""),l4=new RegExp(`^#${_p("([a-f0-9])",3)}([a-f0-9])?$`,"i"),c4=new RegExp(`^#${_p("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),u4=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${_p(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),d4=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,h4=/^[a-z]+$/i,t_=t=>Math.round(t*255),f4=(t,n,r)=>{let i=r/100;if(n===0)return[i,i,i].map(t_);const l=(t%360+360)%360/60,u=(1-Math.abs(2*i-1))*(n/100),d=u*(1-Math.abs(l%2-1));let m=0,p=0,g=0;l>=0&&l<1?(m=u,p=d):l>=1&&l<2?(m=d,p=u):l>=2&&l<3?(p=u,g=d):l>=3&&l<4?(p=d,g=u):l>=4&&l<5?(m=d,g=u):l>=5&&l<6&&(m=u,g=d);const x=i-u/2,y=m+x,S=p+x,w=g+x;return[y,S,w].map(t_)};function p4(t,n,r,i){return`rgba(${ju(0,255,t).toFixed()}, ${ju(0,255,n).toFixed()}, ${ju(0,255,r).toFixed()}, ${parseFloat(ju(0,1,i).toFixed(3))})`}function m4(t,n){const[r,i,l,u]=Gb(t);return p4(r,i,l,u-n)}function g4(t){const[n,r,i,l]=Gb(t);let u=d=>{const m=ju(0,255,d).toString(16);return m.length===1?`0${m}`:m};return`#${u(n)}${u(r)}${u(i)}${l<1?u(Math.round(l*255)):""}`}const x4=t=>Object.keys(t).length===0;function v4(t,n,r,i,l){for(n=n.split?n.split("."):n,i=0;i<n.length;i++)t=t?t[n[i]]:l;return t===l?r:t}const gi=(t,n,r)=>{const i=v4(t,`colors.${n}`,n);try{return g4(i),i}catch{return r??"#000000"}},y4=t=>{const[n,r,i]=Gb(t);return(n*299+r*587+i*114)/1e3},j4=t=>n=>{const r=gi(n,t);return y4(r)<128?"dark":"light"},b4=t=>n=>j4(t)(n)==="dark",dh=(t,n)=>r=>{const i=gi(r,t);return m4(i,1-n)};function n_(t="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const S4=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function w4(t){const n=S4();return!t||x4(t)?n:t.string&&t.colors?E4(t.string,t.colors):t.string&&!t.colors?C4(t.string):t.colors&&!t.string?_4(t.colors):n}function C4(t){let n=0;if(t.length===0)return n.toString();for(let i=0;i<t.length;i+=1)n=t.charCodeAt(i)+((n<<5)-n),n=n&n;let r="#";for(let i=0;i<3;i+=1){const l=n>>i*8&255;r+=`00${l.toString(16)}`.substr(-2)}return r}function E4(t,n){let r=0;if(t.length===0)return n[0];for(let i=0;i<t.length;i+=1)r=t.charCodeAt(i)+((r<<5)-r),r=r&r;return r=(r%n.length+n.length)%n.length,n[r]}function _4(t){return t[Math.floor(Math.random()*t.length)]}function Gt(t,n){return r=>r.colorMode==="dark"?n:t}function Yb(t){const{orientation:n,vertical:r,horizontal:i}=t;return n?n==="vertical"?r:i:{}}function VA(t){return gs(t)&&t.reference?t.reference:String(t)}const Yx=(t,...n)=>n.map(VA).join(` ${t} `).replace(/calc/g,""),r_=(...t)=>`calc(${Yx("+",...t)})`,s_=(...t)=>`calc(${Yx("-",...t)})`,Rj=(...t)=>`calc(${Yx("*",...t)})`,i_=(...t)=>`calc(${Yx("/",...t)})`,a_=t=>{const n=VA(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:Rj(n,-1)},bl=Object.assign(t=>({add:(...n)=>bl(r_(t,...n)),subtract:(...n)=>bl(s_(t,...n)),multiply:(...n)=>bl(Rj(t,...n)),divide:(...n)=>bl(i_(t,...n)),negate:()=>bl(a_(t)),toString:()=>t.toString()}),{add:r_,subtract:s_,multiply:Rj,divide:i_,negate:a_});function T4(t){return!Number.isInteger(parseFloat(t.toString()))}function A4(t,n="-"){return t.replace(/\s+/g,n)}function UA(t){const n=A4(t.toString());return n.includes("\\.")?t:T4(t)?n.replace(".","\\."):t}function R4(t,n=""){return[n,UA(t)].filter(Boolean).join("-")}function k4(t,n){return`var(${UA(t)}${n?`, ${n}`:""})`}function D4(t,n=""){return`--${R4(t,n)}`}function xs(t,n){const r=D4(t,n?.prefix);return{variable:r,reference:k4(r,P4(n?.fallback))}}function P4(t){return t?.reference}const{definePartsStyle:Qp,defineMultiStyleConfig:M4}=br(_O.keys),da=Yt("alert-fg"),zl=Yt("alert-bg"),z4=Qp({container:{bg:zl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:da.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:da.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Zb(t){const{theme:n,colorScheme:r}=t,i=dh(`${r}.200`,.16)(n);return{light:`colors.${r}.100`,dark:i}}const I4=Qp(t=>{const{colorScheme:n}=t,r=Zb(t);return{container:{[da.variable]:`colors.${n}.600`,[zl.variable]:r.light,_dark:{[da.variable]:`colors.${n}.200`,[zl.variable]:r.dark}}}}),N4=Qp(t=>{const{colorScheme:n}=t,r=Zb(t);return{container:{[da.variable]:`colors.${n}.600`,[zl.variable]:r.light,_dark:{[da.variable]:`colors.${n}.200`,[zl.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:da.reference}}}),L4=Qp(t=>{const{colorScheme:n}=t,r=Zb(t);return{container:{[da.variable]:`colors.${n}.600`,[zl.variable]:r.light,_dark:{[da.variable]:`colors.${n}.200`,[zl.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:da.reference}}}),O4=Qp(t=>{const{colorScheme:n}=t;return{container:{[da.variable]:"colors.white",[zl.variable]:`colors.${n}.600`,_dark:{[da.variable]:"colors.gray.900",[zl.variable]:`colors.${n}.200`},color:da.reference}}}),B4={subtle:I4,"left-accent":N4,"top-accent":L4,solid:O4},$4=M4({baseStyle:z4,variants:B4,defaultProps:{variant:"subtle",colorScheme:"blue"}}),HA={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},F4={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},V4={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},WA={...HA,...F4,container:V4},U4=t=>typeof t=="function";function xi(t,...n){return U4(t)?t(...n):t}const{definePartsStyle:qA,defineMultiStyleConfig:H4}=br(TO.keys),th=Yt("avatar-border-color"),dp=Yt("avatar-bg"),Tp=Yt("avatar-font-size"),hh=Yt("avatar-size"),W4={borderRadius:"full",border:"0.2em solid",borderColor:th.reference,[th.variable]:"white",_dark:{[th.variable]:"colors.gray.800"}},q4={bg:dp.reference,fontSize:Tp.reference,width:hh.reference,height:hh.reference,lineHeight:"1",[dp.variable]:"colors.gray.200",_dark:{[dp.variable]:"colors.whiteAlpha.400"}},G4=t=>{const{name:n,theme:r}=t,i=n?w4({string:n}):"colors.gray.400",l=b4(i)(r);let u="white";return l||(u="gray.800"),{bg:dp.reference,fontSize:Tp.reference,color:u,borderColor:th.reference,verticalAlign:"top",width:hh.reference,height:hh.reference,"&:not([data-loaded])":{[dp.variable]:i},[th.variable]:"colors.white",_dark:{[th.variable]:"colors.gray.800"}}},Y4={fontSize:Tp.reference,lineHeight:"1"},Z4=qA(t=>({badge:xi(W4,t),excessLabel:xi(q4,t),container:xi(G4,t),label:Y4}));function xc(t){const n=t!=="100%"?WA[t]:void 0;return qA({container:{[hh.variable]:n??t,[Tp.variable]:`calc(${n??t} / 2.5)`},excessLabel:{[hh.variable]:n??t,[Tp.variable]:`calc(${n??t} / 2.5)`}})}const X4={"2xs":xc(4),xs:xc(6),sm:xc(8),md:xc(12),lg:xc(16),xl:xc(24),"2xl":xc(32),full:xc("100%")},K4=H4({baseStyle:Z4,sizes:X4,defaultProps:{size:"md"}}),Zr=xO("badge",["bg","color","shadow"]),Q4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Zr.bg.reference,color:Zr.color.reference,boxShadow:Zr.shadow.reference},J4=t=>{const{colorScheme:n,theme:r}=t,i=dh(`${n}.500`,.6)(r);return{[Zr.bg.variable]:`colors.${n}.500`,[Zr.color.variable]:"colors.white",_dark:{[Zr.bg.variable]:i,[Zr.color.variable]:"colors.whiteAlpha.800"}}},e3=t=>{const{colorScheme:n,theme:r}=t,i=dh(`${n}.200`,.16)(r);return{[Zr.bg.variable]:`colors.${n}.100`,[Zr.color.variable]:`colors.${n}.800`,_dark:{[Zr.bg.variable]:i,[Zr.color.variable]:`colors.${n}.200`}}},t3=t=>{const{colorScheme:n,theme:r}=t,i=dh(`${n}.200`,.8)(r);return{[Zr.color.variable]:`colors.${n}.500`,_dark:{[Zr.color.variable]:i},[Zr.shadow.variable]:`inset 0 0 0px 1px ${Zr.color.reference}`}},n3={solid:J4,subtle:e3,outline:t3},hp={baseStyle:Q4,variants:n3,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:r3,definePartsStyle:s3}=br(AO.keys),dy=Yt("breadcrumb-link-decor"),i3={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:dy.reference,[dy.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[dy.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},a3=s3({link:i3}),o3=r3({baseStyle:a3}),l3={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},GA=t=>{const{colorScheme:n,theme:r}=t;if(n==="gray")return{color:Gt("gray.800","whiteAlpha.900")(t),_hover:{bg:Gt("gray.100","whiteAlpha.200")(t)},_active:{bg:Gt("gray.200","whiteAlpha.300")(t)}};const i=dh(`${n}.200`,.12)(r),l=dh(`${n}.200`,.24)(r);return{color:Gt(`${n}.600`,`${n}.200`)(t),bg:"transparent",_hover:{bg:Gt(`${n}.50`,i)(t)},_active:{bg:Gt(`${n}.100`,l)(t)}}},c3=t=>{const{colorScheme:n}=t,r=Gt("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:n==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...xi(GA,t)}},u3={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},d3=t=>{const{colorScheme:n}=t;if(n==="gray"){const m=Gt("gray.100","whiteAlpha.200")(t);return{bg:m,color:Gt("gray.800","whiteAlpha.900")(t),_hover:{bg:Gt("gray.200","whiteAlpha.300")(t),_disabled:{bg:m}},_active:{bg:Gt("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:l=`${n}.600`,activeBg:u=`${n}.700`}=u3[n]??{},d=Gt(r,`${n}.200`)(t);return{bg:d,color:Gt(i,"gray.800")(t),_hover:{bg:Gt(l,`${n}.300`)(t),_disabled:{bg:d}},_active:{bg:Gt(u,`${n}.400`)(t)}}},h3=t=>{const{colorScheme:n}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Gt(`${n}.500`,`${n}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Gt(`${n}.700`,`${n}.500`)(t)}}},f3={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},p3={ghost:GA,outline:c3,solid:d3,link:h3,unstyled:f3},m3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},g3={baseStyle:l3,variants:p3,sizes:m3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Tu,defineMultiStyleConfig:x3}=br(ZO.keys),vx=Yt("card-bg"),Rl=Yt("card-padding"),YA=Yt("card-shadow"),Xg=Yt("card-radius"),ZA=Yt("card-border-width","0"),XA=Yt("card-border-color"),v3=Tu({container:{[vx.variable]:"colors.chakra-body-bg",backgroundColor:vx.reference,boxShadow:YA.reference,borderRadius:Xg.reference,color:"chakra-body-text",borderWidth:ZA.reference,borderColor:XA.reference},body:{padding:Rl.reference,flex:"1 1 0%"},header:{padding:Rl.reference},footer:{padding:Rl.reference}}),y3={sm:Tu({container:{[Xg.variable]:"radii.base",[Rl.variable]:"space.3"}}),md:Tu({container:{[Xg.variable]:"radii.md",[Rl.variable]:"space.5"}}),lg:Tu({container:{[Xg.variable]:"radii.xl",[Rl.variable]:"space.7"}})},j3={elevated:Tu({container:{[YA.variable]:"shadows.base",_dark:{[vx.variable]:"colors.gray.700"}}}),outline:Tu({container:{[ZA.variable]:"1px",[XA.variable]:"colors.chakra-border-color"}}),filled:Tu({container:{[vx.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Rl.variable]:0},header:{[Rl.variable]:0},footer:{[Rl.variable]:0}}},b3=x3({baseStyle:v3,variants:j3,sizes:y3,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Kg,defineMultiStyleConfig:S3}=br(RO.keys),fp=Yt("checkbox-size"),w3=t=>{const{colorScheme:n}=t;return{w:fp.reference,h:fp.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Gt(`${n}.500`,`${n}.200`)(t),borderColor:Gt(`${n}.500`,`${n}.200`)(t),color:Gt("white","gray.900")(t),_hover:{bg:Gt(`${n}.600`,`${n}.300`)(t),borderColor:Gt(`${n}.600`,`${n}.300`)(t)},_disabled:{borderColor:Gt("gray.200","transparent")(t),bg:Gt("gray.200","whiteAlpha.300")(t),color:Gt("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Gt(`${n}.500`,`${n}.200`)(t),borderColor:Gt(`${n}.500`,`${n}.200`)(t),color:Gt("white","gray.900")(t)},_disabled:{bg:Gt("gray.100","whiteAlpha.100")(t),borderColor:Gt("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Gt("red.500","red.300")(t)}}},C3={_disabled:{cursor:"not-allowed"}},E3={userSelect:"none",_disabled:{opacity:.4}},_3={transitionProperty:"transform",transitionDuration:"normal"},T3=Kg(t=>({icon:_3,container:C3,control:xi(w3,t),label:E3})),A3={sm:Kg({control:{[fp.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Kg({control:{[fp.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Kg({control:{[fp.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},yx=S3({baseStyle:T3,sizes:A3,defaultProps:{size:"md",colorScheme:"blue"}}),pp=xs("close-button-size"),Df=xs("close-button-bg"),R3={w:[pp.reference],h:[pp.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Df.variable]:"colors.blackAlpha.100",_dark:{[Df.variable]:"colors.whiteAlpha.100"}},_active:{[Df.variable]:"colors.blackAlpha.200",_dark:{[Df.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Df.reference},k3={lg:{[pp.variable]:"sizes.10",fontSize:"md"},md:{[pp.variable]:"sizes.8",fontSize:"xs"},sm:{[pp.variable]:"sizes.6",fontSize:"2xs"}},D3={baseStyle:R3,sizes:k3,defaultProps:{size:"md"}},{variants:P3,defaultProps:M3}=hp,z3={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Zr.bg.reference,color:Zr.color.reference,boxShadow:Zr.shadow.reference},I3={baseStyle:z3,variants:P3,defaultProps:M3},N3={w:"100%",mx:"auto",maxW:"prose",px:"4"},L3={baseStyle:N3},O3={opacity:.6,borderColor:"inherit"},B3={borderStyle:"solid"},$3={borderStyle:"dashed"},F3={solid:B3,dashed:$3},V3={baseStyle:O3,variants:F3,defaultProps:{variant:"solid"}},{definePartsStyle:kj,defineMultiStyleConfig:U3}=br(kO.keys),hy=Yt("drawer-bg"),fy=Yt("drawer-box-shadow");function Md(t){return kj(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const H3={bg:"blackAlpha.600",zIndex:"modal"},W3={display:"flex",zIndex:"modal",justifyContent:"center"},q3=t=>{const{isFullHeight:n}=t;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[hy.variable]:"colors.white",[fy.variable]:"shadows.lg",_dark:{[hy.variable]:"colors.gray.700",[fy.variable]:"shadows.dark-lg"},bg:hy.reference,boxShadow:fy.reference}},G3={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Y3={position:"absolute",top:"2",insetEnd:"3"},Z3={px:"6",py:"2",flex:"1",overflow:"auto"},X3={px:"6",py:"4"},K3=kj(t=>({overlay:H3,dialogContainer:W3,dialog:xi(q3,t),header:G3,closeButton:Y3,body:Z3,footer:X3})),Q3={xs:Md("xs"),sm:Md("md"),md:Md("lg"),lg:Md("2xl"),xl:Md("4xl"),full:Md("full")},J3=U3({baseStyle:K3,sizes:Q3,defaultProps:{size:"xs"}}),{definePartsStyle:e5,defineMultiStyleConfig:t5}=br(DO.keys),n5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},r5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},s5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},i5=e5({preview:n5,input:r5,textarea:s5}),a5=t5({baseStyle:i5}),{definePartsStyle:o5,defineMultiStyleConfig:l5}=br(PO.keys),nh=Yt("form-control-color"),c5={marginStart:"1",[nh.variable]:"colors.red.500",_dark:{[nh.variable]:"colors.red.300"},color:nh.reference},u5={mt:"2",[nh.variable]:"colors.gray.600",_dark:{[nh.variable]:"colors.whiteAlpha.600"},color:nh.reference,lineHeight:"normal",fontSize:"sm"},d5=o5({container:{width:"100%",position:"relative"},requiredIndicator:c5,helperText:u5}),h5=l5({baseStyle:d5}),{definePartsStyle:f5,defineMultiStyleConfig:p5}=br(MO.keys),rh=Yt("form-error-color"),m5={[rh.variable]:"colors.red.500",_dark:{[rh.variable]:"colors.red.300"},color:rh.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},g5={marginEnd:"0.5em",[rh.variable]:"colors.red.500",_dark:{[rh.variable]:"colors.red.300"},color:rh.reference},x5=f5({text:m5,icon:g5}),v5=p5({baseStyle:x5}),y5={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},j5={baseStyle:y5},b5={fontFamily:"heading",fontWeight:"bold"},S5={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},w5={baseStyle:b5,sizes:S5,defaultProps:{size:"xl"}},{definePartsStyle:Cl,defineMultiStyleConfig:C5}=br(zO.keys),Fd=Yt("input-height"),Vd=Yt("input-font-size"),Ud=Yt("input-padding"),Hd=Yt("input-border-radius"),E5=Cl({addon:{height:Fd.reference,fontSize:Vd.reference,px:Ud.reference,borderRadius:Hd.reference},field:{width:"100%",height:Fd.reference,fontSize:Vd.reference,px:Ud.reference,borderRadius:Hd.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),vc={lg:{[Vd.variable]:"fontSizes.lg",[Ud.variable]:"space.4",[Hd.variable]:"radii.md",[Fd.variable]:"sizes.12"},md:{[Vd.variable]:"fontSizes.md",[Ud.variable]:"space.4",[Hd.variable]:"radii.md",[Fd.variable]:"sizes.10"},sm:{[Vd.variable]:"fontSizes.sm",[Ud.variable]:"space.3",[Hd.variable]:"radii.sm",[Fd.variable]:"sizes.8"},xs:{[Vd.variable]:"fontSizes.xs",[Ud.variable]:"space.2",[Hd.variable]:"radii.sm",[Fd.variable]:"sizes.6"}},_5={lg:Cl({field:vc.lg,group:vc.lg}),md:Cl({field:vc.md,group:vc.md}),sm:Cl({field:vc.sm,group:vc.sm}),xs:Cl({field:vc.xs,group:vc.xs})};function Xb(t){const{focusBorderColor:n,errorBorderColor:r}=t;return{focusBorderColor:n||Gt("blue.500","blue.300")(t),errorBorderColor:r||Gt("red.500","red.300")(t)}}const T5=Cl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Xb(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Gt("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:gi(n,i),boxShadow:`0 0 0 1px ${gi(n,i)}`},_focusVisible:{zIndex:1,borderColor:gi(n,r),boxShadow:`0 0 0 1px ${gi(n,r)}`}},addon:{border:"1px solid",borderColor:Gt("inherit","whiteAlpha.50")(t),bg:Gt("gray.100","whiteAlpha.300")(t)}}}),A5=Cl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Xb(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Gt("gray.100","whiteAlpha.50")(t),_hover:{bg:Gt("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:gi(n,i)},_focusVisible:{bg:"transparent",borderColor:gi(n,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Gt("gray.100","whiteAlpha.50")(t)}}}),R5=Cl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Xb(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:gi(n,i),boxShadow:`0px 1px 0px 0px ${gi(n,i)}`},_focusVisible:{borderColor:gi(n,r),boxShadow:`0px 1px 0px 0px ${gi(n,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),k5=Cl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),D5={outline:T5,filled:A5,flushed:R5,unstyled:k5},tr=C5({baseStyle:E5,sizes:_5,variants:D5,defaultProps:{size:"md",variant:"outline"}}),py=Yt("kbd-bg"),P5={[py.variable]:"colors.gray.100",_dark:{[py.variable]:"colors.whiteAlpha.100"},bg:py.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},M5={baseStyle:P5},z5={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},I5={baseStyle:z5},{defineMultiStyleConfig:N5,definePartsStyle:L5}=br(IO.keys),O5={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},B5=L5({icon:O5}),$5=N5({baseStyle:B5}),{defineMultiStyleConfig:F5,definePartsStyle:V5}=br(NO.keys),Po=Yt("menu-bg"),my=Yt("menu-shadow"),U5={[Po.variable]:"#fff",[my.variable]:"shadows.sm",_dark:{[Po.variable]:"colors.gray.700",[my.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Po.reference,boxShadow:my.reference},H5={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Po.variable]:"colors.gray.100",_dark:{[Po.variable]:"colors.whiteAlpha.100"}},_active:{[Po.variable]:"colors.gray.200",_dark:{[Po.variable]:"colors.whiteAlpha.200"}},_expanded:{[Po.variable]:"colors.gray.100",_dark:{[Po.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Po.reference},W5={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},q5={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},G5={opacity:.6},Y5={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},Z5={transitionProperty:"common",transitionDuration:"normal"},X5=V5({button:Z5,list:U5,item:H5,groupTitle:W5,icon:q5,command:G5,divider:Y5}),K5=F5({baseStyle:X5}),{defineMultiStyleConfig:Q5,definePartsStyle:Dj}=br(LO.keys),gy=Yt("modal-bg"),xy=Yt("modal-shadow"),J5={bg:"blackAlpha.600",zIndex:"modal"},e6=t=>{const{isCentered:n,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},t6=t=>{const{isCentered:n,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[gy.variable]:"colors.white",[xy.variable]:"shadows.lg",_dark:{[gy.variable]:"colors.gray.700",[xy.variable]:"shadows.dark-lg"},bg:gy.reference,boxShadow:xy.reference}},n6={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},r6={position:"absolute",top:"2",insetEnd:"3"},s6=t=>{const{scrollBehavior:n}=t;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},i6={px:"6",py:"4"},a6=Dj(t=>({overlay:J5,dialogContainer:xi(e6,t),dialog:xi(t6,t),header:n6,closeButton:r6,body:xi(s6,t),footer:i6}));function eo(t){return Dj(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const o6={xs:eo("xs"),sm:eo("sm"),md:eo("md"),lg:eo("lg"),xl:eo("xl"),"2xl":eo("2xl"),"3xl":eo("3xl"),"4xl":eo("4xl"),"5xl":eo("5xl"),"6xl":eo("6xl"),full:eo("full")},l6=Q5({baseStyle:a6,sizes:o6,defaultProps:{size:"md"}}),KA={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:c6,definePartsStyle:QA}=br(OO.keys),Kb=xs("number-input-stepper-width"),JA=xs("number-input-input-padding"),u6=bl(Kb).add("0.5rem").toString(),vy=xs("number-input-bg"),yy=xs("number-input-color"),jy=xs("number-input-border-color"),d6={[Kb.variable]:"sizes.6",[JA.variable]:u6},h6=t=>xi(tr.baseStyle,t)?.field??{},f6={width:Kb.reference},p6={borderStart:"1px solid",borderStartColor:jy.reference,color:yy.reference,bg:vy.reference,[yy.variable]:"colors.chakra-body-text",[jy.variable]:"colors.chakra-border-color",_dark:{[yy.variable]:"colors.whiteAlpha.800",[jy.variable]:"colors.whiteAlpha.300"},_active:{[vy.variable]:"colors.gray.200",_dark:{[vy.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},m6=QA(t=>({root:d6,field:xi(h6,t)??{},stepperGroup:f6,stepper:p6}));function yg(t){const n=tr.sizes?.[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},i=n.field?.fontSize??"md",l=KA.fontSizes[i];return QA({field:{...n.field,paddingInlineEnd:JA.reference,verticalAlign:"top"},stepper:{fontSize:bl(l).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const g6={xs:yg("xs"),sm:yg("sm"),md:yg("md"),lg:yg("lg")},x6=c6({baseStyle:m6,sizes:g6,variants:tr.variants,defaultProps:tr.defaultProps}),v6={...tr.baseStyle?.field,textAlign:"center"},y6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},j6={outline:t=>xi(tr.variants?.outline,t)?.field??{},flushed:t=>xi(tr.variants?.flushed,t)?.field??{},filled:t=>xi(tr.variants?.filled,t)?.field??{},unstyled:tr.variants?.unstyled.field??{}},b6={baseStyle:v6,sizes:y6,variants:j6,defaultProps:tr.defaultProps},{defineMultiStyleConfig:S6,definePartsStyle:w6}=br(BO.keys),jg=xs("popper-bg"),C6=xs("popper-arrow-bg"),o_=xs("popper-arrow-shadow-color"),E6={zIndex:"popover"},_6={[jg.variable]:"colors.white",bg:jg.reference,[C6.variable]:jg.reference,[o_.variable]:"colors.gray.200",_dark:{[jg.variable]:"colors.gray.700",[o_.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},T6={px:3,py:2,borderBottomWidth:"1px"},A6={px:3,py:2},R6={px:3,py:2,borderTopWidth:"1px"},k6={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},D6=w6({popper:E6,content:_6,header:T6,body:A6,footer:R6,closeButton:k6}),P6=S6({baseStyle:D6}),{defineMultiStyleConfig:M6,definePartsStyle:Xf}=br($O.keys),z6=t=>{const{colorScheme:n,theme:r,isIndeterminate:i,hasStripe:l}=t,u=Gt(n_(),n_("1rem","rgba(0,0,0,0.1)"))(t),d=Gt(`${n}.500`,`${n}.200`)(t),m=`linear-gradient(
    to right,
    transparent 0%,
    ${gi(r,d)} 50%,
    transparent 100%
  )`;return{...!i&&l&&u,...i?{bgImage:m}:{bgColor:d}}},I6={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},N6=t=>({bg:Gt("gray.100","whiteAlpha.300")(t)}),L6=t=>({transitionProperty:"common",transitionDuration:"slow",...z6(t)}),O6=Xf(t=>({label:I6,filledTrack:L6(t),track:N6(t)})),B6={xs:Xf({track:{h:"1"}}),sm:Xf({track:{h:"2"}}),md:Xf({track:{h:"3"}}),lg:Xf({track:{h:"4"}})},$6=M6({sizes:B6,baseStyle:O6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:F6,definePartsStyle:Qg}=br(FO.keys),V6=t=>{const n=xi(yx.baseStyle,t)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},U6=Qg(t=>({label:yx.baseStyle?.(t).label,container:yx.baseStyle?.(t).container,control:V6(t)})),H6={md:Qg({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Qg({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Qg({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},W6=F6({baseStyle:U6,sizes:H6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:q6,definePartsStyle:G6}=br(VO.keys),bg=Yt("select-bg"),Y6={...tr.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:bg.reference,[bg.variable]:"colors.white",_dark:{[bg.variable]:"colors.gray.700"},"> option, > optgroup":{bg:bg.reference}},Z6={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},X6=G6({field:Y6,icon:Z6}),Sg={paddingInlineEnd:"8"},K6={lg:{...tr.sizes?.lg,field:{...tr.sizes?.lg.field,...Sg}},md:{...tr.sizes?.md,field:{...tr.sizes?.md.field,...Sg}},sm:{...tr.sizes?.sm,field:{...tr.sizes?.sm.field,...Sg}},xs:{...tr.sizes?.xs,field:{...tr.sizes?.xs.field,...Sg},icon:{insetEnd:"1"}}},Q6=q6({baseStyle:X6,sizes:K6,variants:tr.variants,defaultProps:tr.defaultProps}),by=Yt("skeleton-start-color"),Sy=Yt("skeleton-end-color"),J6={[by.variable]:"colors.gray.100",[Sy.variable]:"colors.gray.400",_dark:{[by.variable]:"colors.gray.800",[Sy.variable]:"colors.gray.600"},background:by.reference,borderColor:Sy.reference,opacity:.7,borderRadius:"sm"},eB={baseStyle:J6},wy=Yt("skip-link-bg"),tB={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[wy.variable]:"colors.white",_dark:{[wy.variable]:"colors.gray.700"},bg:wy.reference}},nB={baseStyle:tB},{defineMultiStyleConfig:rB,definePartsStyle:Zx}=br(UO.keys),Lu=Yt("slider-thumb-size"),Ap=Yt("slider-track-size"),wc=Yt("slider-bg"),sB=t=>{const{orientation:n}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Yb({orientation:n,vertical:{h:"100%",px:jl(Lu.reference).divide(2).toString()},horizontal:{w:"100%",py:jl(Lu.reference).divide(2).toString()}})}},iB=t=>({...Yb({orientation:t.orientation,horizontal:{h:Ap.reference},vertical:{w:Ap.reference}}),overflow:"hidden",borderRadius:"sm",[wc.variable]:"colors.gray.200",_dark:{[wc.variable]:"colors.whiteAlpha.200"},_disabled:{[wc.variable]:"colors.gray.300",_dark:{[wc.variable]:"colors.whiteAlpha.300"}},bg:wc.reference}),aB=t=>{const{orientation:n}=t;return{...Yb({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:Lu.reference,h:Lu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},oB=t=>{const{colorScheme:n}=t;return{width:"inherit",height:"inherit",[wc.variable]:`colors.${n}.500`,_dark:{[wc.variable]:`colors.${n}.200`},bg:wc.reference}},lB=Zx(t=>({container:sB(t),track:iB(t),thumb:aB(t),filledTrack:oB(t)})),cB=Zx({container:{[Lu.variable]:"sizes.4",[Ap.variable]:"sizes.1"}}),uB=Zx({container:{[Lu.variable]:"sizes.3.5",[Ap.variable]:"sizes.1"}}),dB=Zx({container:{[Lu.variable]:"sizes.2.5",[Ap.variable]:"sizes.0.5"}}),hB={lg:cB,md:uB,sm:dB},fB=rB({baseStyle:lB,sizes:hB,defaultProps:{size:"md",colorScheme:"blue"}}),vu=xs("spinner-size"),pB={width:[vu.reference],height:[vu.reference]},mB={xs:{[vu.variable]:"sizes.3"},sm:{[vu.variable]:"sizes.4"},md:{[vu.variable]:"sizes.6"},lg:{[vu.variable]:"sizes.8"},xl:{[vu.variable]:"sizes.12"}},gB={baseStyle:pB,sizes:mB,defaultProps:{size:"md"}},{defineMultiStyleConfig:xB,definePartsStyle:eR}=br(HO.keys),vB={fontWeight:"medium"},yB={opacity:.8,marginBottom:"2"},jB={verticalAlign:"baseline",fontWeight:"semibold"},bB={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},SB=eR({container:{},label:vB,helpText:yB,number:jB,icon:bB}),wB={md:eR({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},CB=xB({baseStyle:SB,sizes:wB,defaultProps:{size:"md"}}),{defineMultiStyleConfig:EB,definePartsStyle:Kf}=br(["stepper","step","title","description","indicator","separator","icon","number"]),Sl=Yt("stepper-indicator-size"),Wd=Yt("stepper-icon-size"),qd=Yt("stepper-title-font-size"),Qf=Yt("stepper-description-font-size"),Pf=Yt("stepper-accent-color"),_B=Kf(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Pf.variable]:`colors.${t}.500`,_dark:{[Pf.variable]:`colors.${t}.200`}},title:{fontSize:qd.reference,fontWeight:"medium"},description:{fontSize:Qf.reference,color:"chakra-subtle-text"},number:{fontSize:qd.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Wd.reference,height:Wd.reference},indicator:{flexShrink:0,borderRadius:"full",width:Sl.reference,height:Sl.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Pf.reference},"&[data-status=complete]":{bg:Pf.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Pf.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Sl.reference} - 8px)`,top:`calc(${Sl.reference} + 4px)`,insetStart:`calc(${Sl.reference} / 2 - 1px)`}}})),TB=EB({baseStyle:_B,sizes:{xs:Kf({stepper:{[Sl.variable]:"sizes.4",[Wd.variable]:"sizes.3",[qd.variable]:"fontSizes.xs",[Qf.variable]:"fontSizes.xs"}}),sm:Kf({stepper:{[Sl.variable]:"sizes.6",[Wd.variable]:"sizes.4",[qd.variable]:"fontSizes.sm",[Qf.variable]:"fontSizes.xs"}}),md:Kf({stepper:{[Sl.variable]:"sizes.8",[Wd.variable]:"sizes.5",[qd.variable]:"fontSizes.md",[Qf.variable]:"fontSizes.sm"}}),lg:Kf({stepper:{[Sl.variable]:"sizes.10",[Wd.variable]:"sizes.6",[qd.variable]:"fontSizes.lg",[Qf.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:AB,definePartsStyle:Jg}=br(WO.keys),mp=xs("switch-track-width"),Au=xs("switch-track-height"),Cy=xs("switch-track-diff"),RB=bl.subtract(mp,Au),Pj=xs("switch-thumb-x"),Mf=xs("switch-bg"),kB=t=>{const{colorScheme:n}=t;return{borderRadius:"full",p:"0.5",width:[mp.reference],height:[Au.reference],transitionProperty:"common",transitionDuration:"fast",[Mf.variable]:"colors.gray.300",_dark:{[Mf.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Mf.variable]:`colors.${n}.500`,_dark:{[Mf.variable]:`colors.${n}.200`}},bg:Mf.reference}},DB={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Au.reference],height:[Au.reference],_checked:{transform:`translateX(${Pj.reference})`}},PB=Jg(t=>({container:{[Cy.variable]:RB,[Pj.variable]:Cy.reference,_rtl:{[Pj.variable]:bl(Cy).negate().toString()}},track:kB(t),thumb:DB})),MB={sm:Jg({container:{[mp.variable]:"1.375rem",[Au.variable]:"sizes.3"}}),md:Jg({container:{[mp.variable]:"1.875rem",[Au.variable]:"sizes.4"}}),lg:Jg({container:{[mp.variable]:"2.875rem",[Au.variable]:"sizes.6"}})},zB=AB({baseStyle:PB,sizes:MB,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:IB,definePartsStyle:sh}=br(qO.keys),NB=sh({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),jx={"&[data-is-numeric=true]":{textAlign:"end"}},LB=sh(t=>{const{colorScheme:n}=t;return{th:{color:Gt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Gt(`${n}.100`,`${n}.700`)(t),...jx},td:{borderBottom:"1px",borderColor:Gt(`${n}.100`,`${n}.700`)(t),...jx},caption:{color:Gt("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),OB=sh(t=>{const{colorScheme:n}=t;return{th:{color:Gt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Gt(`${n}.100`,`${n}.700`)(t),...jx},td:{borderBottom:"1px",borderColor:Gt(`${n}.100`,`${n}.700`)(t),...jx},caption:{color:Gt("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Gt(`${n}.100`,`${n}.700`)(t)},td:{background:Gt(`${n}.100`,`${n}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),BB={simple:LB,striped:OB,unstyled:{}},$B={sm:sh({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:sh({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:sh({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},FB=IB({baseStyle:NB,variants:BB,sizes:$B,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Di=Yt("tabs-color"),no=Yt("tabs-bg"),wg=Yt("tabs-border-color"),{defineMultiStyleConfig:VB,definePartsStyle:Oo}=br(GO.keys),UB=t=>{const{orientation:n}=t;return{display:n==="vertical"?"flex":"block"}},HB=t=>{const{isFitted:n}=t;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},WB=t=>{const{align:n="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:r==="vertical"?"column":"row"}},qB={p:4},GB=Oo(t=>({root:UB(t),tab:HB(t),tablist:WB(t),tabpanel:qB})),YB={sm:Oo({tab:{py:1,px:4,fontSize:"sm"}}),md:Oo({tab:{fontSize:"md",py:2,px:4}}),lg:Oo({tab:{fontSize:"lg",py:3,px:4}})},ZB=Oo(t=>{const{colorScheme:n,orientation:r}=t,i=r==="vertical",l=i?"borderStart":"borderBottom",u=i?"marginStart":"marginBottom";return{tablist:{[l]:"2px solid",borderColor:"inherit"},tab:{[l]:"2px solid",borderColor:"transparent",[u]:"-2px",_selected:{[Di.variable]:`colors.${n}.600`,_dark:{[Di.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[no.variable]:"colors.gray.200",_dark:{[no.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Di.reference,bg:no.reference}}}),XB=Oo(t=>{const{colorScheme:n}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[wg.variable]:"transparent",_selected:{[Di.variable]:`colors.${n}.600`,[wg.variable]:"colors.white",_dark:{[Di.variable]:`colors.${n}.300`,[wg.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:wg.reference},color:Di.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),KB=Oo(t=>{const{colorScheme:n}=t;return{tab:{border:"1px solid",borderColor:"inherit",[no.variable]:"colors.gray.50",_dark:{[no.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[no.variable]:"colors.white",[Di.variable]:`colors.${n}.600`,_dark:{[no.variable]:"colors.gray.800",[Di.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Di.reference,bg:no.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),QB=Oo(t=>{const{colorScheme:n,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:gi(r,`${n}.700`),bg:gi(r,`${n}.100`)}}}}),JB=Oo(t=>{const{colorScheme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Di.variable]:"colors.gray.600",_dark:{[Di.variable]:"inherit"},_selected:{[Di.variable]:"colors.white",[no.variable]:`colors.${n}.600`,_dark:{[Di.variable]:"colors.gray.800",[no.variable]:`colors.${n}.300`}},color:Di.reference,bg:no.reference}}}),e$=Oo({}),t$={line:ZB,enclosed:XB,"enclosed-colored":KB,"soft-rounded":QB,"solid-rounded":JB,unstyled:e$},n$=VB({baseStyle:GB,sizes:YB,variants:t$,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:r$,definePartsStyle:Ru}=br(YO.keys),l_=Yt("tag-bg"),c_=Yt("tag-color"),Ey=Yt("tag-shadow"),ex=Yt("tag-min-height"),tx=Yt("tag-min-width"),nx=Yt("tag-font-size"),rx=Yt("tag-padding-inline"),s$={fontWeight:"medium",lineHeight:1.2,outline:0,[c_.variable]:Zr.color.reference,[l_.variable]:Zr.bg.reference,[Ey.variable]:Zr.shadow.reference,color:c_.reference,bg:l_.reference,boxShadow:Ey.reference,borderRadius:"md",minH:ex.reference,minW:tx.reference,fontSize:nx.reference,px:rx.reference,_focusVisible:{[Ey.variable]:"shadows.outline"}},i$={lineHeight:1.2,overflow:"visible"},a$={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},o$=Ru({container:s$,label:i$,closeButton:a$}),l$={sm:Ru({container:{[ex.variable]:"sizes.5",[tx.variable]:"sizes.5",[nx.variable]:"fontSizes.xs",[rx.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Ru({container:{[ex.variable]:"sizes.6",[tx.variable]:"sizes.6",[nx.variable]:"fontSizes.sm",[rx.variable]:"space.2"}}),lg:Ru({container:{[ex.variable]:"sizes.8",[tx.variable]:"sizes.8",[nx.variable]:"fontSizes.md",[rx.variable]:"space.3"}})},c$={subtle:Ru(t=>({container:hp.variants?.subtle(t)})),solid:Ru(t=>({container:hp.variants?.solid(t)})),outline:Ru(t=>({container:hp.variants?.outline(t)}))},u$=r$({variants:c$,baseStyle:o$,sizes:l$,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),d$={...tr.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},h$={outline:t=>tr.variants?.outline(t).field??{},flushed:t=>tr.variants?.flushed(t).field??{},filled:t=>tr.variants?.filled(t).field??{},unstyled:tr.variants?.unstyled.field??{}},f$={xs:tr.sizes?.xs.field??{},sm:tr.sizes?.sm.field??{},md:tr.sizes?.md.field??{},lg:tr.sizes?.lg.field??{}},p$={baseStyle:d$,sizes:f$,variants:h$,defaultProps:{size:"md",variant:"outline"}},Cg=xs("tooltip-bg"),_y=xs("tooltip-fg"),m$=xs("popper-arrow-bg"),g$={bg:Cg.reference,color:_y.reference,[Cg.variable]:"colors.gray.700",[_y.variable]:"colors.whiteAlpha.900",_dark:{[Cg.variable]:"colors.gray.300",[_y.variable]:"colors.gray.900"},[m$.variable]:Cg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},x$={baseStyle:g$},v$={Accordion:r4,Alert:$4,Avatar:K4,Badge:hp,Breadcrumb:o3,Button:g3,Checkbox:yx,CloseButton:D3,Code:I3,Container:L3,Divider:V3,Drawer:J3,Editable:a5,Form:h5,FormError:v5,FormLabel:j5,Heading:w5,Input:tr,Kbd:M5,Link:I5,List:$5,Menu:K5,Modal:l6,NumberInput:x6,PinInput:b6,Popover:P6,Progress:$6,Radio:W6,Select:Q6,Skeleton:eB,SkipLink:nB,Slider:fB,Spinner:gB,Stat:CB,Switch:zB,Table:FB,Tabs:n$,Tag:u$,Textarea:p$,Tooltip:x$,Card:b3,Stepper:TB},y$={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},j$={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},b$={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},S$={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},w$={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},C$={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},E$={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},_$={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},T$={property:C$,easing:E$,duration:_$},A$={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},R$={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},k$={breakpoints:j$,zIndices:A$,radii:S$,blur:R$,colors:b$,...KA,sizes:WA,shadows:w$,space:HA,borders:y$,transition:T$},D$={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},P$={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},M$=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function z$(t){return gs(t)?M$.every(n=>Object.prototype.hasOwnProperty.call(t,n)):!1}const I$="ltr",N$={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},tR={semanticTokens:D$,direction:I$,...k$,components:v$,styles:P$,config:N$};function L$(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function O$(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var B$=(function(){function t(r){var i=this;this._insertTag=function(l){var u;i.tags.length===0?i.insertionPoint?u=i.insertionPoint.nextSibling:i.prepend?u=i.container.firstChild:u=i.before:u=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(l,u),i.tags.push(l)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(i){i.forEach(this._insertTag)},n.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(O$(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=L$(l);try{u.insertRule(i,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(i));this.ctr++},n.flush=function(){this.tags.forEach(function(i){var l;return(l=i.parentNode)==null?void 0:l.removeChild(i)}),this.tags=[],this.ctr=0},t})(),Xs="-ms-",bx="-moz-",Jn="-webkit-",nR="comm",Qb="rule",Jb="decl",$$="@import",rR="@keyframes",F$="@layer",V$=Math.abs,Xx=String.fromCharCode,U$=Object.assign;function H$(t,n){return Os(t,0)^45?(((n<<2^Os(t,0))<<2^Os(t,1))<<2^Os(t,2))<<2^Os(t,3):0}function sR(t){return t.trim()}function W$(t,n){return(t=n.exec(t))?t[0]:t}function er(t,n,r){return t.replace(n,r)}function Mj(t,n){return t.indexOf(n)}function Os(t,n){return t.charCodeAt(n)|0}function Rp(t,n,r){return t.slice(n,r)}function Mo(t){return t.length}function eS(t){return t.length}function Eg(t,n){return n.push(t),t}function q$(t,n){return t.map(n).join("")}var Kx=1,fh=1,iR=0,Li=0,os=0,Th="";function Qx(t,n,r,i,l,u,d){return{value:t,root:n,parent:r,type:i,props:l,children:u,line:Kx,column:fh,length:d,return:""}}function zf(t,n){return U$(Qx("",null,null,"",null,null,0),t,{length:-t.length},n)}function G$(){return os}function Y$(){return os=Li>0?Os(Th,--Li):0,fh--,os===10&&(fh=1,Kx--),os}function ha(){return os=Li<iR?Os(Th,Li++):0,fh++,os===10&&(fh=1,Kx++),os}function Bo(){return Os(Th,Li)}function sx(){return Li}function Jp(t,n){return Rp(Th,t,n)}function kp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aR(t){return Kx=fh=1,iR=Mo(Th=t),Li=0,[]}function oR(t){return Th="",t}function ix(t){return sR(Jp(Li-1,zj(t===91?t+2:t===40?t+1:t)))}function Z$(t){for(;(os=Bo())&&os<33;)ha();return kp(t)>2||kp(os)>3?"":" "}function X$(t,n){for(;--n&&ha()&&!(os<48||os>102||os>57&&os<65||os>70&&os<97););return Jp(t,sx()+(n<6&&Bo()==32&&ha()==32))}function zj(t){for(;ha();)switch(os){case t:return Li;case 34:case 39:t!==34&&t!==39&&zj(os);break;case 40:t===41&&zj(t);break;case 92:ha();break}return Li}function K$(t,n){for(;ha()&&t+os!==57;)if(t+os===84&&Bo()===47)break;return"/*"+Jp(n,Li-1)+"*"+Xx(t===47?t:ha())}function Q$(t){for(;!kp(Bo());)ha();return Jp(t,Li)}function J$(t){return oR(ax("",null,null,null,[""],t=aR(t),0,[0],t))}function ax(t,n,r,i,l,u,d,m,p){for(var g=0,x=0,y=d,S=0,w=0,C=0,_=1,T=1,R=1,D=0,k="",N=l,M=u,O=i,H=k;T;)switch(C=D,D=ha()){case 40:if(C!=108&&Os(H,y-1)==58){Mj(H+=er(ix(D),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:H+=ix(D);break;case 9:case 10:case 13:case 32:H+=Z$(C);break;case 92:H+=X$(sx()-1,7);continue;case 47:switch(Bo()){case 42:case 47:Eg(eF(K$(ha(),sx()),n,r),p);break;default:H+="/"}break;case 123*_:m[g++]=Mo(H)*R;case 125*_:case 59:case 0:switch(D){case 0:case 125:T=0;case 59+x:R==-1&&(H=er(H,/\f/g,"")),w>0&&Mo(H)-y&&Eg(w>32?d_(H+";",i,r,y-1):d_(er(H," ","")+";",i,r,y-2),p);break;case 59:H+=";";default:if(Eg(O=u_(H,n,r,g,x,l,m,k,N=[],M=[],y),u),D===123)if(x===0)ax(H,n,O,O,N,u,y,m,M);else switch(S===99&&Os(H,3)===110?100:S){case 100:case 108:case 109:case 115:ax(t,O,O,i&&Eg(u_(t,O,O,0,0,l,m,k,l,N=[],y),M),l,M,y,m,i?N:M);break;default:ax(H,O,O,O,[""],M,0,m,M)}}g=x=w=0,_=R=1,k=H="",y=d;break;case 58:y=1+Mo(H),w=C;default:if(_<1){if(D==123)--_;else if(D==125&&_++==0&&Y$()==125)continue}switch(H+=Xx(D),D*_){case 38:R=x>0?1:(H+="\f",-1);break;case 44:m[g++]=(Mo(H)-1)*R,R=1;break;case 64:Bo()===45&&(H+=ix(ha())),S=Bo(),x=y=Mo(k=H+=Q$(sx())),D++;break;case 45:C===45&&Mo(H)==2&&(_=0)}}return u}function u_(t,n,r,i,l,u,d,m,p,g,x){for(var y=l-1,S=l===0?u:[""],w=eS(S),C=0,_=0,T=0;C<i;++C)for(var R=0,D=Rp(t,y+1,y=V$(_=d[C])),k=t;R<w;++R)(k=sR(_>0?S[R]+" "+D:er(D,/&\f/g,S[R])))&&(p[T++]=k);return Qx(t,n,r,l===0?Qb:m,p,g,x)}function eF(t,n,r){return Qx(t,n,r,nR,Xx(G$()),Rp(t,2,-2),0)}function d_(t,n,r,i){return Qx(t,n,r,Jb,Rp(t,0,i),Rp(t,i+1,-1),i)}function ih(t,n){for(var r="",i=eS(t),l=0;l<i;l++)r+=n(t[l],l,t,n)||"";return r}function tF(t,n,r,i){switch(t.type){case F$:if(t.children.length)break;case $$:case Jb:return t.return=t.return||t.value;case nR:return"";case rR:return t.return=t.value+"{"+ih(t.children,i)+"}";case Qb:t.value=t.props.join(",")}return Mo(r=ih(t.children,i))?t.return=t.value+"{"+r+"}":""}function nF(t){var n=eS(t);return function(r,i,l,u){for(var d="",m=0;m<n;m++)d+=t[m](r,i,l,u)||"";return d}}function rF(t){return function(n){n.root||(n=n.return)&&t(n)}}var h_=function(n){var r=new WeakMap;return function(i){if(r.has(i))return r.get(i);var l=n(i);return r.set(i,l),l}};function lR(t){var n=Object.create(null);return function(r){return n[r]===void 0&&(n[r]=t(r)),n[r]}}var sF=function(n,r,i){for(var l=0,u=0;l=u,u=Bo(),l===38&&u===12&&(r[i]=1),!kp(u);)ha();return Jp(n,Li)},iF=function(n,r){var i=-1,l=44;do switch(kp(l)){case 0:l===38&&Bo()===12&&(r[i]=1),n[i]+=sF(Li-1,r,i);break;case 2:n[i]+=ix(l);break;case 4:if(l===44){n[++i]=Bo()===58?"&\f":"",r[i]=n[i].length;break}default:n[i]+=Xx(l)}while(l=ha());return n},aF=function(n,r){return oR(iF(aR(n),r))},f_=new WeakMap,oF=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,i=n.parent,l=n.column===i.column&&n.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!f_.get(i))&&!l){f_.set(n,!0);for(var u=[],d=aF(r,u),m=i.props,p=0,g=0;p<d.length;p++)for(var x=0;x<m.length;x++,g++)n.props[g]=u[p]?d[p].replace(/&\f/g,m[x]):m[x]+" "+d[p]}}},lF=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function cR(t,n){switch(H$(t,n)){case 5103:return Jn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+t+bx+t+Xs+t+t;case 6828:case 4268:return Jn+t+Xs+t+t;case 6165:return Jn+t+Xs+"flex-"+t+t;case 5187:return Jn+t+er(t,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+Xs+"flex-$1$2")+t;case 5443:return Jn+t+Xs+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Jn+t+Xs+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Jn+t+Xs+er(t,"shrink","negative")+t;case 5292:return Jn+t+Xs+er(t,"basis","preferred-size")+t;case 6060:return Jn+"box-"+er(t,"-grow","")+Jn+t+Xs+er(t,"grow","positive")+t;case 4554:return Jn+er(t,/([^-])(transform)/g,"$1"+Jn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+Xs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Jn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mo(t)-1-n>6)switch(Os(t,n+1)){case 109:if(Os(t,n+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+bx+(Os(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~Mj(t,"stretch")?cR(er(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(Os(t,n+1)!==115)break;case 6444:switch(Os(t,Mo(t)-3-(~Mj(t,"!important")&&10))){case 107:return er(t,":",":"+Jn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jn+(Os(t,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+Xs+"$2box$3")+t}break;case 5936:switch(Os(t,n+11)){case 114:return Jn+t+Xs+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Jn+t+Xs+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Jn+t+Xs+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Jn+t+Xs+t+t}return t}var cF=function(n,r,i,l){if(n.length>-1&&!n.return)switch(n.type){case Jb:n.return=cR(n.value,n.length);break;case rR:return ih([zf(n,{value:er(n.value,"@","@"+Jn)})],l);case Qb:if(n.length)return q$(n.props,function(u){switch(W$(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ih([zf(n,{props:[er(u,/:(read-\w+)/,":"+bx+"$1")]})],l);case"::placeholder":return ih([zf(n,{props:[er(u,/:(plac\w+)/,":"+Jn+"input-$1")]}),zf(n,{props:[er(u,/:(plac\w+)/,":"+bx+"$1")]}),zf(n,{props:[er(u,/:(plac\w+)/,Xs+"input-$1")]})],l)}return""})}},uF=[cF],dF=function(n){var r=n.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(_){var T=_.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var l=n.stylisPlugins||uF,u={},d,m=[];d=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var T=_.getAttribute("data-emotion").split(" "),R=1;R<T.length;R++)u[T[R]]=!0;m.push(_)});var p,g=[oF,lF];{var x,y=[tF,rF(function(_){x.insert(_)})],S=nF(g.concat(l,y)),w=function(T){return ih(J$(T),S)};p=function(T,R,D,k){x=D,w(T?T+"{"+R.styles+"}":R.styles),k&&(C.inserted[R.name]=!0)}}var C={key:r,sheet:new B$({key:r,container:d,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:u,registered:{},insert:p};return C.sheet.hydrate(m),C};function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ou.apply(null,arguments)}var Ty={exports:{}},ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function hF(){if(p_)return ar;p_=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,m=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,R=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function k(M){if(typeof M=="object"&&M!==null){var O=M.$$typeof;switch(O){case n:switch(M=M.type,M){case p:case g:case i:case u:case l:case y:return M;default:switch(M=M&&M.$$typeof,M){case m:case x:case C:case w:case d:return M;default:return O}}case r:return O}}}function N(M){return k(M)===g}return ar.AsyncMode=p,ar.ConcurrentMode=g,ar.ContextConsumer=m,ar.ContextProvider=d,ar.Element=n,ar.ForwardRef=x,ar.Fragment=i,ar.Lazy=C,ar.Memo=w,ar.Portal=r,ar.Profiler=u,ar.StrictMode=l,ar.Suspense=y,ar.isAsyncMode=function(M){return N(M)||k(M)===p},ar.isConcurrentMode=N,ar.isContextConsumer=function(M){return k(M)===m},ar.isContextProvider=function(M){return k(M)===d},ar.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===n},ar.isForwardRef=function(M){return k(M)===x},ar.isFragment=function(M){return k(M)===i},ar.isLazy=function(M){return k(M)===C},ar.isMemo=function(M){return k(M)===w},ar.isPortal=function(M){return k(M)===r},ar.isProfiler=function(M){return k(M)===u},ar.isStrictMode=function(M){return k(M)===l},ar.isSuspense=function(M){return k(M)===y},ar.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===i||M===g||M===u||M===l||M===y||M===S||typeof M=="object"&&M!==null&&(M.$$typeof===C||M.$$typeof===w||M.$$typeof===d||M.$$typeof===m||M.$$typeof===x||M.$$typeof===T||M.$$typeof===R||M.$$typeof===D||M.$$typeof===_)},ar.typeOf=k,ar}var m_;function fF(){return m_||(m_=1,Ty.exports=hF()),Ty.exports}var Ay,g_;function pF(){if(g_)return Ay;g_=1;var t=fF(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=i,u[t.Memo]=l;function d(C){return t.isMemo(C)?l:u[C.$$typeof]||n}var m=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,S=Object.prototype;function w(C,_,T){if(typeof _!="string"){if(S){var R=y(_);R&&R!==S&&w(C,R,T)}var D=p(_);g&&(D=D.concat(g(_)));for(var k=d(C),N=d(_),M=0;M<D.length;++M){var O=D[M];if(!r[O]&&!(T&&T[O])&&!(N&&N[O])&&!(k&&k[O])){var H=x(_,O);try{m(C,O,H)}catch{}}}}return C}return Ay=w,Ay}pF();var mF=!0;function uR(t,n,r){var i="";return r.split(" ").forEach(function(l){t[l]!==void 0?n.push(t[l]+";"):l&&(i+=l+" ")}),i}var tS=function(n,r,i){var l=n.key+"-"+r.name;(i===!1||mF===!1)&&n.registered[l]===void 0&&(n.registered[l]=r.styles)},nS=function(n,r,i){tS(n,r,i);var l=n.key+"-"+r.name;if(n.inserted[r.name]===void 0){var u=r;do n.insert(r===u?"."+l:"",u,n.sheet,!0),u=u.next;while(u!==void 0)}};function gF(t){for(var n=0,r,i=0,l=t.length;l>=4;++i,l-=4)r=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,n=(r&65535)*1540483477+((r>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(t.charCodeAt(i+2)&255)<<16;case 2:n^=(t.charCodeAt(i+1)&255)<<8;case 1:n^=t.charCodeAt(i)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var xF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vF=/[A-Z]|^ms/g,yF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dR=function(n){return n.charCodeAt(1)===45},x_=function(n){return n!=null&&typeof n!="boolean"},Ry=lR(function(t){return dR(t)?t:t.replace(vF,"-$&").toLowerCase()}),v_=function(n,r){switch(n){case"animation":case"animationName":if(typeof r=="string")return r.replace(yF,function(i,l,u){return zo={name:l,styles:u,next:zo},l})}return xF[n]!==1&&!dR(n)&&typeof r=="number"&&r!==0?r+"px":r};function Dp(t,n,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var l=r;if(l.anim===1)return zo={name:l.name,styles:l.styles,next:zo},l.name;var u=r;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)zo={name:d.name,styles:d.styles,next:zo},d=d.next;var m=u.styles+";";return m}return jF(t,n,r)}case"function":{if(t!==void 0){var p=zo,g=r(t);return zo=p,Dp(t,n,g)}break}}var x=r;if(n==null)return x;var y=n[x];return y!==void 0?y:x}function jF(t,n,r){var i="";if(Array.isArray(r))for(var l=0;l<r.length;l++)i+=Dp(t,n,r[l])+";";else for(var u in r){var d=r[u];if(typeof d!="object"){var m=d;n!=null&&n[m]!==void 0?i+=u+"{"+n[m]+"}":x_(m)&&(i+=Ry(u)+":"+v_(u,m)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(n==null||n[d[0]]===void 0))for(var p=0;p<d.length;p++)x_(d[p])&&(i+=Ry(u)+":"+v_(u,d[p])+";");else{var g=Dp(t,n,d);switch(u){case"animation":case"animationName":{i+=Ry(u)+":"+g+";";break}default:i+=u+"{"+g+"}"}}}return i}var y_=/label:\s*([^\s;{]+)\s*(;|$)/g,zo;function Jx(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,l="";zo=void 0;var u=t[0];if(u==null||u.raw===void 0)i=!1,l+=Dp(r,n,u);else{var d=u;l+=d[0]}for(var m=1;m<t.length;m++)if(l+=Dp(r,n,t[m]),i){var p=u;l+=p[m]}y_.lastIndex=0;for(var g="",x;(x=y_.exec(l))!==null;)g+="-"+x[1];var y=gF(l)+g;return{name:y,styles:l,next:zo}}var bF=function(n){return n()},hR=DE.useInsertionEffect?DE.useInsertionEffect:!1,fR=hR||bF,j_=hR||v.useLayoutEffect,rS=v.createContext(typeof HTMLElement<"u"?dF({key:"css"}):null);rS.Provider;var SF=function(){return v.useContext(rS)},sS=function(n){return v.forwardRef(function(r,i){var l=v.useContext(rS);return n(r,l,i)})},ph=v.createContext({}),wF=function(n,r){if(typeof r=="function"){var i=r(n);return i}return Ou({},n,r)},CF=h_(function(t){return h_(function(n){return wF(t,n)})}),EF=function(n){var r=v.useContext(ph);return n.theme!==r&&(r=CF(r)(n.theme)),v.createElement(ph.Provider,{value:r},n.children)},iS={}.hasOwnProperty,Ij="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_F=function(n,r){var i={};for(var l in r)iS.call(r,l)&&(i[l]=r[l]);return i[Ij]=n,i},TF=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return tS(r,i,l),fR(function(){return nS(r,i,l)}),null},AF=sS(function(t,n,r){var i=t.css;typeof i=="string"&&n.registered[i]!==void 0&&(i=n.registered[i]);var l=t[Ij],u=[i],d="";typeof t.className=="string"?d=uR(n.registered,u,t.className):t.className!=null&&(d=t.className+" ");var m=Jx(u,void 0,v.useContext(ph));d+=n.key+"-"+m.name;var p={};for(var g in t)iS.call(t,g)&&g!=="css"&&g!==Ij&&(p[g]=t[g]);return p.className=d,r&&(p.ref=r),v.createElement(v.Fragment,null,v.createElement(TF,{cache:n,serialized:m,isStringTag:typeof l=="string"}),v.createElement(l,p))}),RF=AF,b_=function(n,r){var i=arguments;if(r==null||!iS.call(r,"css"))return v.createElement.apply(void 0,i);var l=i.length,u=new Array(l);u[0]=RF,u[1]=_F(n,r);for(var d=2;d<l;d++)u[d]=i[d];return v.createElement.apply(null,u)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(b_||(b_={}));var ev=sS(function(t,n){var r=t.styles,i=Jx([r],void 0,v.useContext(ph)),l=v.useRef();return j_(function(){var u=n.key+"-global",d=new n.sheet.constructor({key:u,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),m=!1,p=document.querySelector('style[data-emotion="'+u+" "+i.name+'"]');return n.sheet.tags.length&&(d.before=n.sheet.tags[0]),p!==null&&(m=!0,p.setAttribute("data-emotion",u),d.hydrate([p])),l.current=[d,m],function(){d.flush()}},[n]),j_(function(){var u=l.current,d=u[0],m=u[1];if(m){u[1]=!1;return}if(i.next!==void 0&&nS(n,i.next,!0),d.tags.length){var p=d.tags[d.tags.length-1].nextElementSibling;d.before=p,d.flush()}n.insert("",i,d,!1)},[n,i.name]),null});function kF(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jx(n)}function Nc(){var t=kF.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const aS=v.createContext({});aS.displayName="ColorModeContext";function tv(){const t=v.useContext(aS);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Tn(t,n){const{colorMode:r}=tv();return r==="dark"?n:t}const _g={light:"chakra-ui-light",dark:"chakra-ui-dark"};function DF(t={}){const{preventTransition:n=!0,nonce:r}=t,i={setDataset:l=>{const u=n?i.preventTransition():void 0;document.documentElement.dataset.theme=l,document.documentElement.style.colorScheme=l,u?.()},setClassName(l){document.body.classList.add(l?_g.dark:_g.light),document.body.classList.remove(l?_g.light:_g.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(l){return i.query().matches??l==="dark"?"dark":"light"},addListener(l){const u=i.query(),d=m=>{l(m.matches?"dark":"light")};return typeof u.addListener=="function"?u.addListener(d):u.addEventListener("change",d),()=>{typeof u.removeListener=="function"?u.removeListener(d):u.removeEventListener("change",d)}},preventTransition(){const l=document.createElement("style");return l.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(l.nonce=r),document.head.appendChild(l),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(l)})})}}};return i}const PF="chakra-ui-color-mode";function MF(t){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let r;try{r=localStorage.getItem(t)||n}catch{}return r||n},set(n){try{localStorage.setItem(t,n)}catch{}}}}const zF=MF(PF),S_=()=>{},IF=RN()?v.useLayoutEffect:v.useEffect;function w_(t,n){return t.type==="cookie"&&t.ssr?t.get(n):n}const pR=function(n){const{value:r,children:i,options:{useSystemColorMode:l,initialColorMode:u,disableTransitionOnChange:d}={},colorModeManager:m=zF}=n,p=SF(),g=u==="dark"?"dark":"light",[x,y]=v.useState(()=>w_(m,g)),[S,w]=v.useState(()=>w_(m)),{getSystemTheme:C,setClassName:_,setDataset:T,addListener:R}=v.useMemo(()=>DF({preventTransition:d,nonce:p?.nonce}),[d,p?.nonce]),D=u==="system"&&!x?S:x,k=v.useCallback(O=>{const H=O==="system"?C():O;y(H),_(H==="dark"),T(H),m.set(H)},[m,C,_,T]);IF(()=>{u==="system"&&w(C())},[]),v.useEffect(()=>{const O=m.get();if(O){k(O);return}if(u==="system"){k("system");return}k(g)},[m,g,u,k]);const N=v.useCallback(()=>{k(D==="dark"?"light":"dark")},[D,k]);v.useEffect(()=>{if(l)return R(k)},[l,R,k]);const M=v.useMemo(()=>({colorMode:r??D,toggleColorMode:r?S_:N,setColorMode:r?S_:k,forced:r!==void 0}),[D,N,k,r]);return e.jsx(aS.Provider,{value:M,children:i})};pR.displayName="ColorModeProvider";const mR=String.raw,gR=mR`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,NF=()=>e.jsx(ev,{styles:gR}),LF=({scope:t=""})=>e.jsx(ev,{styles:mR`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${gR}
    `});function OF(t){const{cssVarsRoot:n,theme:r,children:i}=t,l=v.useMemo(()=>CO(r),[r]);return e.jsxs(EF,{theme:l,children:[e.jsx(BF,{root:n}),i]})}function BF({root:t=":host, :root"}){const n=[t,"[data-theme]"].join(",");return e.jsx(ev,{styles:r=>({[n]:r.__cssVars})})}Hn({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function $F(t){return Hn({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function FF(){const{colorMode:t}=tv();return e.jsx(ev,{styles:n=>{const r=AA(n,"styles.global"),i=ua(r,{theme:n,colorMode:t});return i?$A(i)(n):void 0}})}const[VF,UF]=Hn({strict:!1,name:"PortalManagerContext"});function xR(t){const{children:n,zIndex:r}=t;return e.jsx(VF,{value:{zIndex:r},children:n})}xR.displayName="PortalManager";const oS=v.createContext({getDocument(){return document},getWindow(){return window}});oS.displayName="EnvironmentContext";function HF({defer:t}={}){const[,n]=v.useReducer(r=>r+1,0);return Al(()=>{t&&n()},[t]),v.useContext(oS)}function vR(t){const{children:n,environment:r,disabled:i}=t,l=v.useRef(null),u=v.useMemo(()=>r||{getDocument:()=>l.current?.ownerDocument??document,getWindow:()=>l.current?.ownerDocument.defaultView??window},[r]),d=!i||!r;return e.jsxs(oS.Provider,{value:u,children:[n,d&&e.jsx("span",{id:"__chakra_env",hidden:!0,ref:l})]})}vR.displayName="EnvironmentProvider";const WF=t=>{const{children:n,colorModeManager:r,portalZIndex:i,resetScope:l,resetCSS:u=!0,theme:d={},environment:m,cssVarsRoot:p,disableEnvironment:g,disableGlobalStyle:x}=t,y=e.jsx(vR,{environment:m,disabled:g,children:n});return e.jsx(OF,{theme:d,cssVarsRoot:p,children:e.jsxs(pR,{colorModeManager:r,options:d.config,children:[u?e.jsx(LF,{scope:l}):e.jsx(NF,{}),!x&&e.jsx(FF,{}),i?e.jsx(xR,{zIndex:i,children:y}):y]})})},lS=v.createContext({});function cS(t){const n=v.useRef(null);return n.current===null&&(n.current=t()),n.current}const em=v.createContext(null),uS=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qF extends v.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GF({children:t,isPresent:n}){const r=v.useId(),i=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=v.useContext(uS);return v.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:g}=l.current;if(n||!i.current||!d||!m)return;i.current.dataset.motionPopId=r;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),e.jsx(qF,{isPresent:n,childRef:i,sizeRef:l,children:v.cloneElement(t,{ref:i})})}const YF=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d})=>{const m=cS(ZF),p=v.useId(),g=v.useCallback(y=>{m.set(y,!0);for(const S of m.values())if(!S)return;i&&i()},[m,i]),x=v.useMemo(()=>({id:p,initial:n,isPresent:r,custom:l,onExitComplete:g,register:y=>(m.set(y,!1),()=>m.delete(y))}),u?[Math.random(),g]:[r,g]);return v.useMemo(()=>{m.forEach((y,S)=>m.set(S,!1))},[r]),v.useEffect(()=>{!r&&!m.size&&i&&i()},[r]),d==="popLayout"&&(t=e.jsx(GF,{isPresent:r,children:t})),e.jsx(em.Provider,{value:x,children:t})};function ZF(){return new Map}function dS(t=!0){const n=v.useContext(em);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:l}=n,u=v.useId();v.useEffect(()=>{t&&l(u)},[t]);const d=v.useCallback(()=>t&&i&&i(u),[u,i,t]);return!r&&i?[!1,d]:[!0]}function XF(){return KF(v.useContext(em))}function KF(t){return t===null?!0:t.isPresent}const Tg=t=>t.key||"";function C_(t){const n=[];return v.Children.forEach(t,r=>{v.isValidElement(r)&&n.push(r)}),n}const hS=typeof window<"u",yR=hS?v.useLayoutEffect:v.useEffect,Lc=({children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1})=>{const[m,p]=dS(d),g=v.useMemo(()=>C_(t),[t]),x=d&&!m?[]:g.map(Tg),y=v.useRef(!0),S=v.useRef(g),w=cS(()=>new Map),[C,_]=v.useState(g),[T,R]=v.useState(g);yR(()=>{y.current=!1,S.current=g;for(let N=0;N<T.length;N++){const M=Tg(T[N]);x.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[T,x.length,x.join("-")]);const D=[];if(g!==C){let N=[...g];for(let M=0;M<T.length;M++){const O=T[M],H=Tg(O);x.includes(H)||(N.splice(M,0,O),D.push(O))}u==="wait"&&D.length&&(N=D),R(C_(N)),_(g);return}const{forceRender:k}=v.useContext(lS);return e.jsx(e.Fragment,{children:T.map(N=>{const M=Tg(N),O=d&&!m?!1:g===T||x.includes(M),H=()=>{if(w.has(M))w.set(M,!0);else return;let U=!0;w.forEach(ae=>{ae||(U=!1)}),U&&(k?.(),R(S.current),d&&p?.(),i&&i())};return e.jsx(YF,{isPresent:O,initial:!y.current||r?void 0:!1,custom:O?void 0:n,presenceAffectsLayout:l,mode:u,onExitComplete:O?void 0:H,children:N},M)})})},fa=t=>t;let jR=fa;function fS(t){let n;return()=>(n===void 0&&(n=t()),n)}const mh=(t,n,r)=>{const i=n-t;return i===0?1:(r-t)/i},kl=t=>t*1e3,Dl=t=>t/1e3,QF={useManualTiming:!1};function JF(t){let n=new Set,r=new Set,i=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,x=!1,y=!1)=>{const w=y&&i?n:r;return x&&u.add(g),w.has(g)||w.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,i){l=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),n.clear(),i=!1,l&&(l=!1,p.process(g))}};return p}const Ag=["read","resolveKeyframes","update","preRender","render","postRender"],e8=40;function bR(t,n){let r=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,d=Ag.reduce((R,D)=>(R[D]=JF(u),R),{}),{read:m,resolveKeyframes:p,update:g,preRender:x,render:y,postRender:S}=d,w=()=>{const R=performance.now();r=!1,l.delta=i?1e3/60:Math.max(Math.min(R-l.timestamp,e8),1),l.timestamp=R,l.isProcessing=!0,m.process(l),p.process(l),g.process(l),x.process(l),y.process(l),S.process(l),l.isProcessing=!1,r&&n&&(i=!1,t(w))},C=()=>{r=!0,i=!0,l.isProcessing||t(w)};return{schedule:Ag.reduce((R,D)=>{const k=d[D];return R[D]=(N,M=!1,O=!1)=>(r||C(),k.schedule(N,M,O)),R},{}),cancel:R=>{for(let D=0;D<Ag.length;D++)d[Ag[D]].cancel(R)},state:l,steps:d}}const{schedule:Cr,cancel:Ac,state:Ls,steps:ky}=bR(typeof requestAnimationFrame<"u"?requestAnimationFrame:fa,!0),SR=v.createContext({strict:!1}),E_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gh={};for(const t in E_)gh[t]={isEnabled:n=>E_[t].some(r=>!!n[r])};function t8(t){for(const n in t)gh[n]={...gh[n],...t[n]}}const n8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n8.has(t)}let wR=t=>!Sx(t);function r8(t){t&&(wR=n=>n.startsWith("on")?!Sx(n):t(n))}try{r8(require("@emotion/is-prop-valid").default)}catch{}function s8(t,n,r){const i={};for(const l in t)l==="values"&&typeof t.values=="object"||(wR(l)||r===!0&&Sx(l)||!n&&!Sx(l)||t.draggable&&l.startsWith("onDrag"))&&(i[l]=t[l]);return i}function i8(t){if(typeof Proxy>"u")return t;const n=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,l)=>l==="create"?t:(n.has(l)||n.set(l,t(l)),n.get(l))})}const nv=v.createContext({});function Pp(t){return typeof t=="string"||Array.isArray(t)}function rv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mS=["initial",...pS];function sv(t){return rv(t.animate)||mS.some(n=>Pp(t[n]))}function CR(t){return!!(sv(t)||t.variants)}function a8(t,n){if(sv(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Pp(r)?r:void 0,animate:Pp(i)?i:void 0}}return t.inherit!==!1?n:{}}function o8(t){const{initial:n,animate:r}=a8(t,v.useContext(nv));return v.useMemo(()=>({initial:n,animate:r}),[__(n),__(r)])}function __(t){return Array.isArray(t)?t.join(" "):t}const l8=Symbol.for("motionComponentSymbol");function Gd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c8(t,n,r){return v.useCallback(i=>{i&&t.onMount&&t.onMount(i),n&&(i?n.mount(i):n.unmount()),r&&(typeof r=="function"?r(i):Gd(r)&&(r.current=i))},[n])}const gS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u8="framerAppearId",ER="data-"+gS(u8),{schedule:xS}=bR(queueMicrotask,!1),_R=v.createContext({});function d8(t,n,r,i,l){var u,d;const{visualElement:m}=v.useContext(nv),p=v.useContext(SR),g=v.useContext(em),x=v.useContext(uS).reducedMotion,y=v.useRef(null);i=i||p.renderer,!y.current&&i&&(y.current=i(t,{visualState:n,parent:m,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:x}));const S=y.current,w=v.useContext(_R);S&&!S.projection&&l&&(S.type==="html"||S.type==="svg")&&h8(y.current,r,l,w);const C=v.useRef(!1);v.useInsertionEffect(()=>{S&&C.current&&S.update(r,g)});const _=r[ER],T=v.useRef(!!_&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,_))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,_)));return yR(()=>{S&&(C.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),xS.render(S.render),T.current&&S.animationState&&S.animationState.animateChanges())}),v.useEffect(()=>{S&&(!T.current&&S.animationState&&S.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,_)}),T.current=!1))}),S}function h8(t,n,r,i){const{layoutId:l,layout:u,drag:d,dragConstraints:m,layoutScroll:p,layoutRoot:g}=n;t.projection=new r(t.latestValues,n["data-framer-portal-id"]?void 0:TR(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||m&&Gd(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function TR(t){if(t)return t.options.allowProjection!==!1?t.projection:TR(t.parent)}function f8({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:l}){var u,d;t&&t8(t);function m(g,x){let y;const S={...v.useContext(uS),...g,layoutId:p8(g)},{isStatic:w}=S,C=o8(g),_=i(g,w);if(!w&&hS){m8();const T=g8(S);y=T.MeasureLayout,C.visualElement=d8(l,_,S,n,T.ProjectionNode)}return e.jsxs(nv.Provider,{value:C,children:[y&&C.visualElement?e.jsx(y,{visualElement:C.visualElement,...S}):null,r(l,g,c8(_,C.visualElement,x),_,w,C.visualElement)]})}m.displayName=`motion.${typeof l=="string"?l:`create(${(d=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&d!==void 0?d:""})`}`;const p=v.forwardRef(m);return p[l8]=l,p}function p8({layoutId:t}){const n=v.useContext(lS).id;return n&&t!==void 0?n+"-"+t:t}function m8(t,n){v.useContext(SR).strict}function g8(t){const{drag:n,layout:r}=gh;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const x8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vS(t){return typeof t!="string"||t.includes("-")?!1:!!(x8.indexOf(t)>-1||/[A-Z]/u.test(t))}function T_(t){const n=[{},{}];return t?.values.forEach((r,i)=>{n[0][i]=r.get(),n[1][i]=r.getVelocity()}),n}function yS(t,n,r,i){if(typeof n=="function"){const[l,u]=T_(i);n=n(r!==void 0?r:t.custom,l,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,u]=T_(i);n=n(r!==void 0?r:t.custom,l,u)}return n}const Nj=t=>Array.isArray(t),v8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),y8=t=>Nj(t)?t[t.length-1]||0:t,Qs=t=>!!(t&&t.getVelocity);function ox(t){const n=Qs(t)?t.get():t;return v8(n)?n.toValue():n}function j8({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:r},i,l,u){const d={latestValues:b8(i,l,u,t),renderState:n()};return r&&(d.onMount=m=>r({props:i,current:m,...d}),d.onUpdate=m=>r(m)),d}const AR=t=>(n,r)=>{const i=v.useContext(nv),l=v.useContext(em),u=()=>j8(t,n,i,l);return r?u():cS(u)};function b8(t,n,r,i){const l={},u=i(t,{});for(const S in u)l[S]=ox(u[S]);let{initial:d,animate:m}=t;const p=sv(t),g=CR(t);n&&g&&!p&&t.inherit!==!1&&(d===void 0&&(d=n.initial),m===void 0&&(m=n.animate));let x=r?r.initial===!1:!1;x=x||d===!1;const y=x?m:d;if(y&&typeof y!="boolean"&&!rv(y)){const S=Array.isArray(y)?y:[y];for(let w=0;w<S.length;w++){const C=yS(t,S[w]);if(C){const{transitionEnd:_,transition:T,...R}=C;for(const D in R){let k=R[D];if(Array.isArray(k)){const N=x?k.length-1:0;k=k[N]}k!==null&&(l[D]=k)}for(const D in _)l[D]=_[D]}}}return l}const Ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(Ah),RR=t=>n=>typeof n=="string"&&n.startsWith(t),kR=RR("--"),S8=RR("var(--"),jS=t=>S8(t)?w8.test(t.split("/*")[0].trim()):!1,w8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DR=(t,n)=>n&&typeof t=="number"?n.transform(t):t,Il=(t,n,r)=>r>n?n:r<t?t:r,Rh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mp={...Rh,transform:t=>Il(0,1,t)},Rg={...Rh,default:1},tm=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),Sc=tm("deg"),$o=tm("%"),Jt=tm("px"),C8=tm("vh"),E8=tm("vw"),A_={...$o,parse:t=>$o.parse(t)/100,transform:t=>$o.transform(t*100)},_8={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,backgroundPositionX:Jt,backgroundPositionY:Jt},T8={rotate:Sc,rotateX:Sc,rotateY:Sc,rotateZ:Sc,scale:Rg,scaleX:Rg,scaleY:Rg,scaleZ:Rg,skew:Sc,skewX:Sc,skewY:Sc,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Mp,originX:A_,originY:A_,originZ:Jt},R_={...Rh,transform:Math.round},bS={..._8,...T8,zIndex:R_,size:Jt,fillOpacity:Mp,strokeOpacity:Mp,numOctaves:R_},A8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R8=Ah.length;function k8(t,n,r){let i="",l=!0;for(let u=0;u<R8;u++){const d=Ah[u],m=t[d];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(d.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||r){const g=DR(m,bS[d]);if(!p){l=!1;const x=A8[d]||d;i+=`${x}(${g}) `}r&&(n[d]=g)}}return i=i.trim(),r?i=r(n,l?"":i):l&&(i="none"),i}function SS(t,n,r){const{style:i,vars:l,transformOrigin:u}=t;let d=!1,m=!1;for(const p in n){const g=n[p];if(Yu.has(p)){d=!0;continue}else if(kR(p)){l[p]=g;continue}else{const x=DR(g,bS[p]);p.startsWith("origin")?(m=!0,u[p]=x):i[p]=x}}if(n.transform||(d||r?i.transform=k8(n,t.transform,r):i.transform&&(i.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:x=0}=u;i.transformOrigin=`${p} ${g} ${x}`}}const D8={offset:"stroke-dashoffset",array:"stroke-dasharray"},P8={offset:"strokeDashoffset",array:"strokeDasharray"};function M8(t,n,r=1,i=0,l=!0){t.pathLength=1;const u=l?D8:P8;t[u.offset]=Jt.transform(-i);const d=Jt.transform(n),m=Jt.transform(r);t[u.array]=`${d} ${m}`}function k_(t,n,r){return typeof t=="string"?t:Jt.transform(n+r*t)}function z8(t,n,r){const i=k_(n,t.x,t.width),l=k_(r,t.y,t.height);return`${i} ${l}`}function wS(t,{attrX:n,attrY:r,attrScale:i,originX:l,originY:u,pathLength:d,pathSpacing:m=1,pathOffset:p=0,...g},x,y){if(SS(t,g,y),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:w,dimensions:C}=t;S.transform&&(C&&(w.transform=S.transform),delete S.transform),C&&(l!==void 0||u!==void 0||w.transform)&&(w.transformOrigin=z8(C,l!==void 0?l:.5,u!==void 0?u:.5)),n!==void 0&&(S.x=n),r!==void 0&&(S.y=r),i!==void 0&&(S.scale=i),d!==void 0&&M8(S,d,m,p,!1)}const CS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PR=()=>({...CS(),attrs:{}}),ES=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MR(t,{style:n,vars:r},i,l){Object.assign(t.style,n,l&&l.getProjectionStyles(i));for(const u in r)t.style.setProperty(u,r[u])}const zR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IR(t,n,r,i){MR(t,n,void 0,i);for(const l in n.attrs)t.setAttribute(zR.has(l)?l:gS(l),n.attrs[l])}const wx={};function I8(t){Object.assign(wx,t)}function NR(t,{layout:n,layoutId:r}){return Yu.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!wx[t]||t==="opacity")}function _S(t,n,r){var i;const{style:l}=t,u={};for(const d in l)(Qs(l[d])||n.style&&Qs(n.style[d])||NR(d,t)||((i=r?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=l[d]);return u}function LR(t,n,r){const i=_S(t,n,r);for(const l in t)if(Qs(t[l])||Qs(n[l])){const u=Ah.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=t[l]}return i}function N8(t,n){try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const D_=["x","y","width","height","cx","cy","r"],L8={useVisualState:AR({scrapeMotionValuesFromProps:LR,createRenderState:PR,onUpdate:({props:t,prevProps:n,current:r,renderState:i,latestValues:l})=>{if(!r)return;let u=!!t.drag;if(!u){for(const m in l)if(Yu.has(m)){u=!0;break}}if(!u)return;let d=!n;if(n)for(let m=0;m<D_.length;m++){const p=D_[m];t[p]!==n[p]&&(d=!0)}d&&Cr.read(()=>{N8(r,i),Cr.render(()=>{wS(i,l,ES(r.tagName),t.transformTemplate),IR(r,i)})})}})},O8={useVisualState:AR({scrapeMotionValuesFromProps:_S,createRenderState:CS})};function OR(t,n,r){for(const i in n)!Qs(n[i])&&!NR(i,r)&&(t[i]=n[i])}function B8({transformTemplate:t},n){return v.useMemo(()=>{const r=CS();return SS(r,n,t),Object.assign({},r.vars,r.style)},[n])}function $8(t,n){const r=t.style||{},i={};return OR(i,r,t),Object.assign(i,B8(t,n)),i}function F8(t,n){const r={},i=$8(t,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function V8(t,n,r,i){const l=v.useMemo(()=>{const u=PR();return wS(u,n,ES(i),t.transformTemplate),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};OR(u,t.style,t),l.style={...u,...l.style}}return l}function U8(t=!1){return(r,i,l,{latestValues:u},d)=>{const p=(vS(r)?V8:F8)(i,u,d,r),g=s8(i,typeof r=="string",t),x=r!==v.Fragment?{...g,...p,ref:l}:{},{children:y}=i,S=v.useMemo(()=>Qs(y)?y.get():y,[y]);return v.createElement(r,{...x,children:S})}}function H8(t,n){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const d={...vS(i)?L8:O8,preloadedFeatures:t,useRender:U8(l),createVisualElement:n,Component:i};return f8(d)}}function BR(t,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(n[i]!==t[i])return!1;return!0}function iv(t,n,r){const i=t.getProps();return yS(i,n,r!==void 0?r:i.custom,t)}const W8=fS(()=>window.ScrollTimeline!==void 0);class q8{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let i=0;i<this.animations.length;i++)this.animations[i][n]=r}attachTimeline(n,r){const i=this.animations.map(l=>{if(W8()&&l.attachTimeline)return l.attachTimeline(n);if(typeof r=="function")return r(l)});return()=>{i.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class G8 extends q8{then(n,r){return Promise.all(this.animations).then(n).catch(r)}}function TS(t,n){return t?t[n]||t.default||t:void 0}const Lj=2e4;function $R(t){let n=0;const r=50;let i=t.next(n);for(;!i.done&&n<Lj;)n+=r,i=t.next(n);return n>=Lj?1/0:n}function AS(t){return typeof t=="function"}function P_(t,n){t.timeline=n,t.onfinish=null}const RS=t=>Array.isArray(t)&&typeof t[0]=="number",Y8={linearEasing:void 0};function Z8(t,n){const r=fS(t);return()=>{var i;return(i=Y8[n])!==null&&i!==void 0?i:r()}}const Cx=Z8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FR=(t,n,r=10)=>{let i="";const l=Math.max(Math.round(n/r),2);for(let u=0;u<l;u++)i+=t(mh(0,l-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function VR(t){return!!(typeof t=="function"&&Cx()||!t||typeof t=="string"&&(t in Oj||Cx())||RS(t)||Array.isArray(t)&&t.every(VR))}const Jf=([t,n,r,i])=>`cubic-bezier(${t}, ${n}, ${r}, ${i})`,Oj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jf([0,.65,.55,1]),circOut:Jf([.55,0,1,.45]),backIn:Jf([.31,.01,.66,-.59]),backOut:Jf([.33,1.53,.69,.99])};function UR(t,n){if(t)return typeof t=="function"&&Cx()?FR(t,n):RS(t)?Jf(t):Array.isArray(t)?t.map(r=>UR(r,n)||Oj.easeOut):Oj[t]}const to={x:!1,y:!1};function HR(){return to.x||to.y}function X8(t,n,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let l=document;const u=(i=void 0)!==null&&i!==void 0?i:l.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function WR(t,n){const r=X8(t),i=new AbortController,l={passive:!0,...n,signal:i.signal};return[r,l,()=>i.abort()]}function M_(t){return n=>{n.pointerType==="touch"||HR()||t(n)}}function K8(t,n,r={}){const[i,l,u]=WR(t,r),d=M_(m=>{const{target:p}=m,g=n(m);if(typeof g!="function"||!p)return;const x=M_(y=>{g(y),p.removeEventListener("pointerleave",x)});p.addEventListener("pointerleave",x,l)});return i.forEach(m=>{m.addEventListener("pointerenter",d,l)}),u}const qR=(t,n)=>n?t===n?!0:qR(t,n.parentElement):!1,kS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Q8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J8(t){return Q8.has(t.tagName)||t.tabIndex!==-1}const ep=new WeakSet;function z_(t){return n=>{n.key==="Enter"&&t(n)}}function Dy(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const eV=(t,n)=>{const r=t.currentTarget;if(!r)return;const i=z_(()=>{if(ep.has(r))return;Dy(r,"down");const l=z_(()=>{Dy(r,"up")}),u=()=>Dy(r,"cancel");r.addEventListener("keyup",l,n),r.addEventListener("blur",u,n)});r.addEventListener("keydown",i,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),n)};function I_(t){return kS(t)&&!HR()}function tV(t,n,r={}){const[i,l,u]=WR(t,r),d=m=>{const p=m.currentTarget;if(!I_(m)||ep.has(p))return;ep.add(p);const g=n(m),x=(w,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",S),!(!I_(w)||!ep.has(p))&&(ep.delete(p),typeof g=="function"&&g(w,{success:C}))},y=w=>{x(w,r.useGlobalTarget||qR(p,w.target))},S=w=>{x(w,!1)};window.addEventListener("pointerup",y,l),window.addEventListener("pointercancel",S,l)};return i.forEach(m=>{!J8(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(r.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),m.addEventListener("focus",g=>eV(g,l),l)}),u}function nV(t){return t==="x"||t==="y"?to[t]?null:(to[t]=!0,()=>{to[t]=!1}):to.x||to.y?null:(to.x=to.y=!0,()=>{to.x=to.y=!1})}const GR=new Set(["width","height","top","left","right","bottom",...Ah]);let lx;function rV(){lx=void 0}const Fo={now:()=>(lx===void 0&&Fo.set(Ls.isProcessing||QF.useManualTiming?Ls.timestamp:performance.now()),lx),set:t=>{lx=t,queueMicrotask(rV)}};function DS(t,n){t.indexOf(n)===-1&&t.push(n)}function PS(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class MS{constructor(){this.subscriptions=[]}add(n){return DS(this.subscriptions,n),()=>PS(this.subscriptions,n)}notify(n,r,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,r,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(n,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YR(t,n){return n?t*(1e3/n):0}const N_=30,sV=t=>!isNaN(parseFloat(t));class iV{constructor(n,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const u=Fo.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=Fo.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=sV(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new MS);const i=this.events[n].add(r);return n==="change"?()=>{i(),Cr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>N_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,N_);return YR(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zp(t,n){return new iV(t,n)}function aV(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,zp(r))}function oV(t,n){const r=iv(t,n);let{transitionEnd:i={},transition:l={},...u}=r||{};u={...u,...i};for(const d in u){const m=y8(u[d]);aV(t,d,m)}}function lV(t){return!!(Qs(t)&&t.add)}function Bj(t,n){const r=t.getValue("willChange");if(lV(r))return r.add(n)}function ZR(t){return t.props[ER]}const XR=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,cV=1e-7,uV=12;function dV(t,n,r,i,l){let u,d,m=0;do d=n+(r-n)/2,u=XR(d,i,l)-t,u>0?r=d:n=d;while(Math.abs(u)>cV&&++m<uV);return d}function nm(t,n,r,i){if(t===n&&r===i)return fa;const l=u=>dV(u,0,1,t,r);return u=>u===0||u===1?u:XR(l(u),n,i)}const KR=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,QR=t=>n=>1-t(1-n),JR=nm(.33,1.53,.69,.99),zS=QR(JR),ek=KR(zS),tk=t=>(t*=2)<1?.5*zS(t):.5*(2-Math.pow(2,-10*(t-1))),IS=t=>1-Math.sin(Math.acos(t)),nk=QR(IS),rk=KR(IS),sk=t=>/^0[^.\s]+$/u.test(t);function hV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sk(t):!0}const gp=t=>Math.round(t*1e5)/1e5,NS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fV(t){return t==null}const pV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LS=(t,n)=>r=>!!(typeof r=="string"&&pV.test(r)&&r.startsWith(t)||n&&!fV(r)&&Object.prototype.hasOwnProperty.call(r,n)),ik=(t,n,r)=>i=>{if(typeof i!="string")return i;const[l,u,d,m]=i.match(NS);return{[t]:parseFloat(l),[n]:parseFloat(u),[r]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},mV=t=>Il(0,255,t),Py={...Rh,transform:t=>Math.round(mV(t))},bu={test:LS("rgb","red"),parse:ik("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:i=1})=>"rgba("+Py.transform(t)+", "+Py.transform(n)+", "+Py.transform(r)+", "+gp(Mp.transform(i))+")"};function gV(t){let n="",r="",i="",l="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),l=t.substring(4,5),n+=n,r+=r,i+=i,l+=l),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const $j={test:LS("#"),parse:gV,transform:bu.transform},Yd={test:LS("hsl","hue"),parse:ik("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+$o.transform(gp(n))+", "+$o.transform(gp(r))+", "+gp(Mp.transform(i))+")"},Ks={test:t=>bu.test(t)||$j.test(t)||Yd.test(t),parse:t=>bu.test(t)?bu.parse(t):Yd.test(t)?Yd.parse(t):$j.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bu.transform(t):Yd.transform(t)},xV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vV(t){var n,r;return isNaN(t)&&typeof t=="string"&&(((n=t.match(NS))===null||n===void 0?void 0:n.length)||0)+(((r=t.match(xV))===null||r===void 0?void 0:r.length)||0)>0}const ak="number",ok="color",yV="var",jV="var(",L_="${}",bV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ip(t){const n=t.toString(),r=[],i={color:[],number:[],var:[]},l=[];let u=0;const m=n.replace(bV,p=>(Ks.test(p)?(i.color.push(u),l.push(ok),r.push(Ks.parse(p))):p.startsWith(jV)?(i.var.push(u),l.push(yV),r.push(p)):(i.number.push(u),l.push(ak),r.push(parseFloat(p))),++u,L_)).split(L_);return{values:r,split:m,indexes:i,types:l}}function lk(t){return Ip(t).values}function ck(t){const{split:n,types:r}=Ip(t),i=n.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=n[d],l[d]!==void 0){const m=r[d];m===ak?u+=gp(l[d]):m===ok?u+=Ks.transform(l[d]):u+=l[d]}return u}}const SV=t=>typeof t=="number"?0:t;function wV(t){const n=lk(t);return ck(t)(n.map(SV))}const Rc={test:vV,parse:lk,createTransformer:ck,getAnimatableNone:wV},CV=new Set(["brightness","contrast","saturate","opacity"]);function EV(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[i]=r.match(NS)||[];if(!i)return t;const l=r.replace(i,"");let u=CV.has(n)?1:0;return i!==r&&(u*=100),n+"("+u+l+")"}const _V=/\b([a-z-]*)\(.*?\)/gu,Fj={...Rc,getAnimatableNone:t=>{const n=t.match(_V);return n?n.map(EV).join(" "):t}},TV={...bS,color:Ks,backgroundColor:Ks,outlineColor:Ks,fill:Ks,stroke:Ks,borderColor:Ks,borderTopColor:Ks,borderRightColor:Ks,borderBottomColor:Ks,borderLeftColor:Ks,filter:Fj,WebkitFilter:Fj},OS=t=>TV[t];function uk(t,n){let r=OS(t);return r!==Fj&&(r=Rc),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const AV=new Set(["auto","none","0"]);function RV(t,n,r){let i=0,l;for(;i<t.length&&!l;){const u=t[i];typeof u=="string"&&!AV.has(u)&&Ip(u).values.length&&(l=t[i]),i++}if(l&&r)for(const u of n)t[u]=uk(r,l)}const O_=t=>t===Rh||t===Jt,B_=(t,n)=>parseFloat(t.split(", ")[n]),$_=(t,n)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return B_(l[1],n);{const u=i.match(/^matrix\((.+)\)$/u);return u?B_(u[1],t):0}},kV=new Set(["x","y","z"]),DV=Ah.filter(t=>!kV.has(t));function PV(t){const n=[];return DV.forEach(r=>{const i=t.getValue(r);i!==void 0&&(n.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),n}const xh={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:$_(4,13),y:$_(5,14)};xh.translateX=xh.x;xh.translateY=xh.y;const ku=new Set;let Vj=!1,Uj=!1;function dk(){if(Uj){const t=Array.from(ku).filter(i=>i.needsMeasurement),n=new Set(t.map(i=>i.element)),r=new Map;n.forEach(i=>{const l=PV(i);l.length&&(r.set(i,l),i.render())}),t.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const l=r.get(i);l&&l.forEach(([u,d])=>{var m;(m=i.getValue(u))===null||m===void 0||m.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Uj=!1,Vj=!1,ku.forEach(t=>t.complete()),ku.clear()}function hk(){ku.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uj=!0)})}function MV(){hk(),dk()}class BS{constructor(n,r,i,l,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ku.add(this),Vj||(Vj=!0,Cr.read(hk),Cr.resolveKeyframes(dk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:i,motionValue:l}=this;for(let u=0;u<n.length;u++)if(n[u]===null)if(u===0){const d=l?.get(),m=n[n.length-1];if(d!==void 0)n[0]=d;else if(i&&r){const p=i.readValue(r,m);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=m),l&&d===void 0&&l.set(n[0])}else n[u]=n[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ku.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ku.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IV(t){const n=zV.exec(t);if(!n)return[,];const[,r,i,l]=n;return[`--${r??i}`,l]}function pk(t,n,r=1){const[i,l]=IV(t);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const d=u.trim();return fk(d)?parseFloat(d):d}return jS(l)?pk(l,n,r+1):l}const mk=t=>n=>n.test(t),NV={test:t=>t==="auto",parse:t=>t},gk=[Rh,Jt,$o,Sc,E8,C8,NV],F_=t=>gk.find(mk(t));class xk extends BS{constructor(n,r,i,l,u){super(n,r,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let g=n[p];if(typeof g=="string"&&(g=g.trim(),jS(g))){const x=pk(g,r.current);x!==void 0&&(n[p]=x),p===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!GR.has(i)||n.length!==2)return;const[l,u]=n,d=F_(l),m=F_(u);if(d!==m)if(O_(d)&&O_(m))for(let p=0;p<n.length;p++){const g=n[p];typeof g=="string"&&(n[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,i=[];for(let l=0;l<n.length;l++)hV(n[l])&&i.push(l);i.length&&RV(n,i,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xh[i](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&n.getValue(i,l).jump(l,!1)}measureEndState(){var n;const{element:r,name:i,unresolvedKeyframes:l}=this;if(!r||!r.current)return;const u=r.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=l.length-1,m=l[d];l[d]=xh[i](r.measureViewportBox(),window.getComputedStyle(r.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([p,g])=>{r.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const V_=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rc.test(t)||t==="0")&&!t.startsWith("url("));function LV(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function OV(t,n,r,i){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],d=V_(l,n),m=V_(u,n);return!d||!m?!1:LV(t)||(r==="spring"||AS(r))&&i}const BV=t=>t!==null;function av(t,{repeat:n,repeatType:r="loop"},i){const l=t.filter(BV),u=n&&r!=="loop"&&n%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const $V=40;class vk{constructor({autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fo.now(),this.options={autoplay:n,delay:r,type:i,repeat:l,repeatDelay:u,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$V?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MV(),this._resolved}onKeyframesResolved(n,r){this.resolvedAt=Fo.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:u,delay:d,onComplete:m,onUpdate:p,isGenerator:g}=this.options;if(!g&&!OV(n,i,l,u))if(d)this.options.duration=0;else{p&&p(av(n,this.options,r)),m&&m(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,r);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:r,...x},this.onPostResolved())}onPostResolved(){}then(n,r){return this.currentFinishedPromise.then(n,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const Nr=(t,n,r)=>t+(n-t)*r;function My(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function FV({hue:t,saturation:n,lightness:r,alpha:i}){t/=360,n/=100,r/=100;let l=0,u=0,d=0;if(!n)l=u=d=r;else{const m=r<.5?r*(1+n):r+n-r*n,p=2*r-m;l=My(p,m,t+1/3),u=My(p,m,t),d=My(p,m,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Ex(t,n){return r=>r>0?n:t}const zy=(t,n,r)=>{const i=t*t,l=r*(n*n-i)+i;return l<0?0:Math.sqrt(l)},VV=[$j,bu,Yd],UV=t=>VV.find(n=>n.test(t));function U_(t){const n=UV(t);if(!n)return!1;let r=n.parse(t);return n===Yd&&(r=FV(r)),r}const H_=(t,n)=>{const r=U_(t),i=U_(n);if(!r||!i)return Ex(t,n);const l={...r};return u=>(l.red=zy(r.red,i.red,u),l.green=zy(r.green,i.green,u),l.blue=zy(r.blue,i.blue,u),l.alpha=Nr(r.alpha,i.alpha,u),bu.transform(l))},HV=(t,n)=>r=>n(t(r)),rm=(...t)=>t.reduce(HV),Hj=new Set(["none","hidden"]);function WV(t,n){return Hj.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function qV(t,n){return r=>Nr(t,n,r)}function $S(t){return typeof t=="number"?qV:typeof t=="string"?jS(t)?Ex:Ks.test(t)?H_:ZV:Array.isArray(t)?yk:typeof t=="object"?Ks.test(t)?H_:GV:Ex}function yk(t,n){const r=[...t],i=r.length,l=t.map((u,d)=>$S(u)(u,n[d]));return u=>{for(let d=0;d<i;d++)r[d]=l[d](u);return r}}function GV(t,n){const r={...t,...n},i={};for(const l in r)t[l]!==void 0&&n[l]!==void 0&&(i[l]=$S(t[l])(t[l],n[l]));return l=>{for(const u in i)r[u]=i[u](l);return r}}function YV(t,n){var r;const i=[],l={color:0,var:0,number:0};for(let u=0;u<n.values.length;u++){const d=n.types[u],m=t.indexes[d][l[d]],p=(r=t.values[m])!==null&&r!==void 0?r:0;i[u]=p,l[d]++}return i}const ZV=(t,n)=>{const r=Rc.createTransformer(n),i=Ip(t),l=Ip(n);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Hj.has(t)&&!l.values.length||Hj.has(n)&&!i.values.length?WV(t,n):rm(yk(YV(i,l),l.values),r):Ex(t,n)};function jk(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?Nr(t,n,r):$S(t)(t,n)}const XV=5;function bk(t,n,r){const i=Math.max(n-XV,0);return YR(r-t(i),n-i)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iy=.001;function KV({duration:t=Wr.duration,bounce:n=Wr.bounce,velocity:r=Wr.velocity,mass:i=Wr.mass}){let l,u,d=1-n;d=Il(Wr.minDamping,Wr.maxDamping,d),t=Il(Wr.minDuration,Wr.maxDuration,Dl(t)),d<1?(l=g=>{const x=g*d,y=x*t,S=x-r,w=Wj(g,d),C=Math.exp(-y);return Iy-S/w*C},u=g=>{const y=g*d*t,S=y*r+r,w=Math.pow(d,2)*Math.pow(g,2)*t,C=Math.exp(-y),_=Wj(Math.pow(g,2),d);return(-l(g)+Iy>0?-1:1)*((S-w)*C)/_}):(l=g=>{const x=Math.exp(-g*t),y=(g-r)*t+1;return-Iy+x*y},u=g=>{const x=Math.exp(-g*t),y=(r-g)*(t*t);return x*y});const m=5/t,p=JV(l,u,m);if(t=kl(t),isNaN(p))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:t};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:t}}}const QV=12;function JV(t,n,r){let i=r;for(let l=1;l<QV;l++)i=i-t(i)/n(i);return i}function Wj(t,n){return t*Math.sqrt(1-n*n)}const e9=["duration","bounce"],t9=["stiffness","damping","mass"];function W_(t,n){return n.some(r=>t[r]!==void 0)}function n9(t){let n={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...t};if(!W_(t,t9)&&W_(t,e9))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),l=i*i,u=2*Il(.05,1,1-(t.bounce||0))*Math.sqrt(l);n={...n,mass:Wr.mass,stiffness:l,damping:u}}else{const r=KV(t);n={...n,...r,mass:Wr.mass},n.isResolvedFromDuration=!0}return n}function Sk(t=Wr.visualDuration,n=Wr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:i,restDelta:l}=r;const u=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:x,duration:y,velocity:S,isResolvedFromDuration:w}=n9({...r,velocity:-Dl(r.velocity||0)}),C=S||0,_=g/(2*Math.sqrt(p*x)),T=d-u,R=Dl(Math.sqrt(p/x)),D=Math.abs(T)<5;i||(i=D?Wr.restSpeed.granular:Wr.restSpeed.default),l||(l=D?Wr.restDelta.granular:Wr.restDelta.default);let k;if(_<1){const M=Wj(R,_);k=O=>{const H=Math.exp(-_*R*O);return d-H*((C+_*R*T)/M*Math.sin(M*O)+T*Math.cos(M*O))}}else if(_===1)k=M=>d-Math.exp(-R*M)*(T+(C+R*T)*M);else{const M=R*Math.sqrt(_*_-1);k=O=>{const H=Math.exp(-_*R*O),U=Math.min(M*O,300);return d-H*((C+_*R*T)*Math.sinh(U)+M*T*Math.cosh(U))/M}}const N={calculatedDuration:w&&y||null,next:M=>{const O=k(M);if(w)m.done=M>=y;else{let H=0;_<1&&(H=M===0?kl(C):bk(k,M,O));const U=Math.abs(H)<=i,ae=Math.abs(d-O)<=l;m.done=U&&ae}return m.value=m.done?d:O,m},toString:()=>{const M=Math.min($R(N),Lj),O=FR(H=>N.next(M*H).value,M,30);return M+"ms "+O}};return N}function q_({keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:p,restDelta:g=.5,restSpeed:x}){const y=t[0],S={done:!1,value:y},w=U=>m!==void 0&&U<m||p!==void 0&&U>p,C=U=>m===void 0?p:p===void 0||Math.abs(m-U)<Math.abs(p-U)?m:p;let _=r*n;const T=y+_,R=d===void 0?T:d(T);R!==T&&(_=R-y);const D=U=>-_*Math.exp(-U/i),k=U=>R+D(U),N=U=>{const ae=D(U),he=k(U);S.done=Math.abs(ae)<=g,S.value=S.done?R:he};let M,O;const H=U=>{w(S.value)&&(M=U,O=Sk({keyframes:[S.value,C(S.value)],velocity:bk(k,U,S.value),damping:l,stiffness:u,restDelta:g,restSpeed:x}))};return H(0),{calculatedDuration:null,next:U=>{let ae=!1;return!O&&M===void 0&&(ae=!0,N(U),H(U)),M!==void 0&&U>=M?O.next(U-M):(!ae&&N(U),S)}}}const r9=nm(.42,0,1,1),s9=nm(0,0,.58,1),wk=nm(.42,0,.58,1),i9=t=>Array.isArray(t)&&typeof t[0]!="number",a9={linear:fa,easeIn:r9,easeInOut:wk,easeOut:s9,circIn:IS,circInOut:rk,circOut:nk,backIn:zS,backInOut:ek,backOut:JR,anticipate:tk},G_=t=>{if(RS(t)){jR(t.length===4);const[n,r,i,l]=t;return nm(n,r,i,l)}else if(typeof t=="string")return a9[t];return t};function o9(t,n,r){const i=[],l=r||jk,u=t.length-1;for(let d=0;d<u;d++){let m=l(t[d],t[d+1]);if(n){const p=Array.isArray(n)?n[d]||fa:n;m=rm(p,m)}i.push(m)}return i}function l9(t,n,{clamp:r=!0,ease:i,mixer:l}={}){const u=t.length;if(jR(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const d=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const m=o9(n,i,l),p=m.length,g=x=>{if(d&&x<t[0])return n[0];let y=0;if(p>1)for(;y<t.length-2&&!(x<t[y+1]);y++);const S=mh(t[y],t[y+1],x);return m[y](S)};return r?x=>g(Il(t[0],t[u-1],x)):g}function c9(t,n){const r=t[t.length-1];for(let i=1;i<=n;i++){const l=mh(0,n,i);t.push(Nr(r,1,l))}}function u9(t){const n=[0];return c9(n,t.length-1),n}function d9(t,n){return t.map(r=>r*n)}function h9(t,n){return t.map(()=>n||wk).splice(0,t.length-1)}function _x({duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}){const l=i9(i)?i.map(G_):G_(i),u={done:!1,value:n[0]},d=d9(r&&r.length===n.length?r:u9(n),t),m=l9(d,n,{ease:Array.isArray(l)?l:h9(n,l)});return{calculatedDuration:t,next:p=>(u.value=m(p),u.done=p>=t,u)}}const f9=t=>{const n=({timestamp:r})=>t(r);return{start:()=>Cr.update(n,!0),stop:()=>Ac(n),now:()=>Ls.isProcessing?Ls.timestamp:Fo.now()}},p9={decay:q_,inertia:q_,tween:_x,keyframes:_x,spring:Sk},m9=t=>t/100;class FS extends vk{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:r,motionValue:i,element:l,keyframes:u}=this.options,d=l?.KeyframeResolver||BS,m=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new d(u,m,r,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=this.options,m=AS(r)?r:p9[r]||_x;let p,g;m!==_x&&typeof n[0]!="number"&&(p=rm(m9,jk(n[0],n[1])),n=[0,100]);const x=m({...this.options,keyframes:n});u==="mirror"&&(g=m({...this.options,keyframes:[...n].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=$R(x));const{calculatedDuration:y}=x,S=y+l,w=S*(i+1)-l;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:y,resolvedDuration:S,totalDuration:w}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,r=!1){const{resolved:i}=this;if(!i){const{keyframes:U}=this.options;return{done:!0,value:U[U.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:p,calculatedDuration:g,totalDuration:x,resolvedDuration:y}=i;if(this.startTime===null)return u.next(0);const{delay:S,repeat:w,repeatType:C,repeatDelay:_,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),r?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const R=this.currentTime-S*(this.speed>=0?1:-1),D=this.speed>=0?R<0:R>x;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let k=this.currentTime,N=u;if(w){const U=Math.min(this.currentTime,x)/y;let ae=Math.floor(U),he=U%1;!he&&U>=1&&(he=1),he===1&&ae--,ae=Math.min(ae,w+1),!!(ae%2)&&(C==="reverse"?(he=1-he,_&&(he-=_/y)):C==="mirror"&&(N=d)),k=Il(0,1,he)*y}const M=D?{done:!1,value:p[0]}:N.next(k);m&&(M.value=m(M.value));let{done:O}=M;!D&&g!==null&&(O=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return H&&l!==void 0&&(M.value=av(p,this.options,l)),T&&T(M.value),H&&this.finish(),M}get duration(){const{resolved:n}=this;return n?Dl(n.calculatedDuration):0}get time(){return Dl(this.currentTime)}set time(n){n=kl(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=Dl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=f9,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),r&&r();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const g9=new Set(["opacity","clipPath","filter","transform"]);function x9(t,n,r,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:m="easeInOut",times:p}={}){const g={[n]:r};p&&(g.offset=p);const x=UR(m,l);return Array.isArray(x)&&(g.easing=x),t.animate(g,{delay:i,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const v9=fS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tx=10,y9=2e4;function j9(t){return AS(t.type)||t.type==="spring"||!VR(t.ease)}function b9(t,n){const r=new FS({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const l=[];let u=0;for(;!i.done&&u<y9;)i=r.sample(u),l.push(i.value),u+=Tx;return{times:void 0,keyframes:l,duration:u-Tx,ease:"linear"}}const Ck={anticipate:tk,backInOut:ek,circInOut:rk};function S9(t){return t in Ck}class Y_ extends vk{constructor(n){super(n);const{name:r,motionValue:i,element:l,keyframes:u}=this.options;this.resolver=new xk(u,(d,m)=>this.onKeyframesResolved(d,m),r,i,l),this.resolver.scheduleResolve()}initPlayback(n,r){let{duration:i=300,times:l,ease:u,type:d,motionValue:m,name:p,startTime:g}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof u=="string"&&Cx()&&S9(u)&&(u=Ck[u]),j9(this.options)){const{onComplete:y,onUpdate:S,motionValue:w,element:C,..._}=this.options,T=b9(n,_);n=T.keyframes,n.length===1&&(n[1]=n[0]),i=T.duration,l=T.times,u=T.ease,d="keyframes"}const x=x9(m.owner.current,p,n,{...this.options,duration:i,times:l,ease:u});return x.startTime=g??this.calcStartTime(),this.pendingTimeline?(P_(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:y}=this.options;m.set(av(n,this.options,r)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:i,times:l,type:d,ease:u,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:r}=n;return Dl(r)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:r}=n;return Dl(r.currentTime||0)}set time(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=kl(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:r}=n;return r.playbackRate}set speed(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:r}=n;return r.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:r}=n;return r.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:r}=this;if(!r)return fa;const{animation:i}=r;P_(i,n)}return fa}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:r,keyframes:i,duration:l,type:u,ease:d,times:m}=n;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:y,element:S,...w}=this.options,C=new FS({...w,keyframes:i,duration:l,type:u,ease:d,times:m,isGenerator:!0}),_=kl(this.time);g.setWithVelocity(C.sample(_-Tx).value,C.sample(_).value,Tx)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:r,name:i,repeatDelay:l,repeatType:u,damping:d,type:m}=n;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=r.owner.getProps();return v9()&&i&&g9.has(i)&&!p&&!g&&!l&&u!=="mirror"&&d!==0&&m!=="inertia"}}const w9={type:"spring",stiffness:500,damping:25,restSpeed:10},C9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E9={type:"keyframes",duration:.8},_9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T9=(t,{keyframes:n})=>n.length>2?E9:Yu.has(t)?t.startsWith("scale")?C9(n[1]):w9:_9;function A9({when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:m,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const VS=(t,n,r,i={},l,u)=>d=>{const m=TS(i,t)||{},p=m.delay||i.delay||0;let{elapsed:g=0}=i;g=g-kl(p);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...m,delay:-g,onUpdate:S=>{n.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:t,motionValue:n,element:u?void 0:l};A9(m)||(x={...x,...T9(t,x)}),x.duration&&(x.duration=kl(x.duration)),x.repeatDelay&&(x.repeatDelay=kl(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let y=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(y=!0)),y&&!u&&n.get()!==void 0){const S=av(x.keyframes,m);if(S!==void 0)return Cr.update(()=>{x.onUpdate(S),x.onComplete()}),new G8([])}return!u&&Y_.supports(x)?new Y_(x):new FS(x)};function R9({protectedKeys:t,needsAnimating:n},r){const i=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,i}function Ek(t,n,{delay:r=0,transitionOverride:i,type:l}={}){var u;let{transition:d=t.getDefaultTransition(),transitionEnd:m,...p}=n;i&&(d=i);const g=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const y in p){const S=t.getValue(y,(u=t.latestValues[y])!==null&&u!==void 0?u:null),w=p[y];if(w===void 0||x&&R9(x,y))continue;const C={delay:r,...TS(d||{},y)};let _=!1;if(window.MotionHandoffAnimation){const R=ZR(t);if(R){const D=window.MotionHandoffAnimation(R,y,Cr);D!==null&&(C.startTime=D,_=!0)}}Bj(t,y),S.start(VS(y,S,w,t.shouldReduceMotion&&GR.has(y)?{type:!1}:C,t,_));const T=S.animation;T&&g.push(T)}return m&&Promise.all(g).then(()=>{Cr.update(()=>{m&&oV(t,m)})}),g}function qj(t,n,r={}){var i;const l=iv(t,n,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=l||{};r.transitionOverride&&(u=r.transitionOverride);const d=l?()=>Promise.all(Ek(t,l,r)):()=>Promise.resolve(),m=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:y,staggerDirection:S}=u;return k9(t,n,x+g,y,S,r)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,x]=p==="beforeChildren"?[d,m]:[m,d];return g().then(()=>x())}else return Promise.all([d(),m(r.delay)])}function k9(t,n,r=0,i=0,l=1,u){const d=[],m=(t.variantChildren.size-1)*i,p=l===1?(g=0)=>g*i:(g=0)=>m-g*i;return Array.from(t.variantChildren).sort(D9).forEach((g,x)=>{g.notify("AnimationStart",n),d.push(qj(g,n,{...u,delay:r+p(x)}).then(()=>g.notify("AnimationComplete",n)))}),Promise.all(d)}function D9(t,n){return t.sortNodePosition(n)}function P9(t,n,r={}){t.notify("AnimationStart",n);let i;if(Array.isArray(n)){const l=n.map(u=>qj(t,u,r));i=Promise.all(l)}else if(typeof n=="string")i=qj(t,n,r);else{const l=typeof n=="function"?iv(t,n,r.custom):n;i=Promise.all(Ek(t,l,r))}return i.then(()=>{t.notify("AnimationComplete",n)})}const M9=mS.length;function _k(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?_k(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const n={};for(let r=0;r<M9;r++){const i=mS[r],l=t.props[i];(Pp(l)||l===!1)&&(n[i]=l)}return n}const z9=[...pS].reverse(),I9=pS.length;function N9(t){return n=>Promise.all(n.map(({animation:r,options:i})=>P9(t,r,i)))}function L9(t){let n=N9(t),r=Z_(),i=!0;const l=p=>(g,x)=>{var y;const S=iv(t,x,p==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(S){const{transition:w,transitionEnd:C,..._}=S;g={...g,..._,...C}}return g};function u(p){n=p(t)}function d(p){const{props:g}=t,x=_k(t.parent)||{},y=[],S=new Set;let w={},C=1/0;for(let T=0;T<I9;T++){const R=z9[T],D=r[R],k=g[R]!==void 0?g[R]:x[R],N=Pp(k),M=R===p?D.isActive:null;M===!1&&(C=T);let O=k===x[R]&&k!==g[R]&&N;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),D.protectedKeys={...w},!D.isActive&&M===null||!k&&!D.prevProp||rv(k)||typeof k=="boolean")continue;const H=O9(D.prevProp,k);let U=H||R===p&&D.isActive&&!O&&N||T>C&&N,ae=!1;const he=Array.isArray(k)?k:[k];let le=he.reduce(l(R),{});M===!1&&(le={});const{prevResolvedValues:de={}}=D,Re={...de,...le},fe=q=>{U=!0,S.has(q)&&(ae=!0,S.delete(q)),D.needsAnimating[q]=!0;const W=t.getValue(q);W&&(W.liveStyle=!1)};for(const q in Re){const W=le[q],Ee=de[q];if(w.hasOwnProperty(q))continue;let B=!1;Nj(W)&&Nj(Ee)?B=!BR(W,Ee):B=W!==Ee,B?W!=null?fe(q):S.add(q):W!==void 0&&S.has(q)?fe(q):D.protectedKeys[q]=!0}D.prevProp=k,D.prevResolvedValues=le,D.isActive&&(w={...w,...le}),i&&t.blockInitialAnimation&&(U=!1),U&&(!(O&&H)||ae)&&y.push(...he.map(q=>({animation:q,options:{type:R}})))}if(S.size){const T={};S.forEach(R=>{const D=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),T[R]=D??null}),y.push({animation:T})}let _=!!y.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?n(y):Promise.resolve()}function m(p,g){var x;if(r[p].isActive===g)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var w;return(w=S.animationState)===null||w===void 0?void 0:w.setActive(p,g)}),r[p].isActive=g;const y=d(p);for(const S in r)r[S].protectedKeys={};return y}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>r,reset:()=>{r=Z_(),i=!0}}}function O9(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!BR(n,t):!1}function hu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z_(){return{animate:hu(!0),whileInView:hu(),whileHover:hu(),whileTap:hu(),whileDrag:hu(),whileFocus:hu(),exit:hu()}}class Oc{constructor(n){this.isMounted=!1,this.node=n}update(){}}class B9 extends Oc{constructor(n){super(n),n.animationState||(n.animationState=L9(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();rv(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let $9=0;class F9 extends Oc{constructor(){super(...arguments),this.id=$9++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const l=this.node.animationState.setActive("exit",!n);r&&!n&&l.then(()=>r(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const V9={animation:{Feature:B9},exit:{Feature:F9}};function Np(t,n,r,i={passive:!0}){return t.addEventListener(n,r,i),()=>t.removeEventListener(n,r)}function sm(t){return{point:{x:t.pageX,y:t.pageY}}}const U9=t=>n=>kS(n)&&t(n,sm(n));function xp(t,n,r,i){return Np(t,n,U9(r),i)}const X_=(t,n)=>Math.abs(t-n);function H9(t,n){const r=X_(t.x,n.x),i=X_(t.y,n.y);return Math.sqrt(r**2+i**2)}class Tk{constructor(n,r,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ly(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=H9(y.offset,{x:0,y:0})>=3;if(!S&&!w)return;const{point:C}=y,{timestamp:_}=Ls;this.history.push({...C,timestamp:_});const{onStart:T,onMove:R}=this.handlers;S||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,S)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Ny(S,this.transformPagePoint),Cr.update(this.updatePoint,!0)},this.handlePointerUp=(y,S)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ly(y.type==="pointercancel"?this.lastMoveEventInfo:Ny(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,T),C&&C(y,T)},!kS(n))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.contextWindow=l||window;const d=sm(n),m=Ny(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=Ls;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=r;x&&x(n,Ly(m,this.history)),this.removeListeners=rm(xp(this.contextWindow,"pointermove",this.handlePointerMove),xp(this.contextWindow,"pointerup",this.handlePointerUp),xp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Ac(this.updatePoint)}}function Ny(t,n){return n?{point:n(t.point)}:t}function K_(t,n){return{x:t.x-n.x,y:t.y-n.y}}function Ly({point:t},n){return{point:t,delta:K_(t,Ak(n)),offset:K_(t,W9(n)),velocity:q9(n,.1)}}function W9(t){return t[0]}function Ak(t){return t[t.length-1]}function q9(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const l=Ak(t);for(;r>=0&&(i=t[r],!(l.timestamp-i.timestamp>kl(n)));)r--;if(!i)return{x:0,y:0};const u=Dl(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const Rk=1e-4,G9=1-Rk,Y9=1+Rk,kk=.01,Z9=0-kk,X9=0+kk;function pa(t){return t.max-t.min}function K9(t,n,r){return Math.abs(t-n)<=r}function Q_(t,n,r,i=.5){t.origin=i,t.originPoint=Nr(n.min,n.max,t.origin),t.scale=pa(r)/pa(n),t.translate=Nr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=G9&&t.scale<=Y9||isNaN(t.scale))&&(t.scale=1),(t.translate>=Z9&&t.translate<=X9||isNaN(t.translate))&&(t.translate=0)}function vp(t,n,r,i){Q_(t.x,n.x,r.x,i?i.originX:void 0),Q_(t.y,n.y,r.y,i?i.originY:void 0)}function J_(t,n,r){t.min=r.min+n.min,t.max=t.min+pa(n)}function Q9(t,n,r){J_(t.x,n.x,r.x),J_(t.y,n.y,r.y)}function e2(t,n,r){t.min=n.min-r.min,t.max=t.min+pa(n)}function yp(t,n,r){e2(t.x,n.x,r.x),e2(t.y,n.y,r.y)}function J9(t,{min:n,max:r},i){return n!==void 0&&t<n?t=i?Nr(n,t,i.min):Math.max(t,n):r!==void 0&&t>r&&(t=i?Nr(r,t,i.max):Math.min(t,r)),t}function t2(t,n,r){return{min:n!==void 0?t.min+n:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function e7(t,{top:n,left:r,bottom:i,right:l}){return{x:t2(t.x,r,l),y:t2(t.y,n,i)}}function n2(t,n){let r=n.min-t.min,i=n.max-t.max;return n.max-n.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function t7(t,n){return{x:n2(t.x,n.x),y:n2(t.y,n.y)}}function n7(t,n){let r=.5;const i=pa(t),l=pa(n);return l>i?r=mh(n.min,n.max-i,t.min):i>l&&(r=mh(t.min,t.max-l,n.min)),Il(0,1,r)}function r7(t,n){const r={};return n.min!==void 0&&(r.min=n.min-t.min),n.max!==void 0&&(r.max=n.max-t.min),r}const Gj=.35;function s7(t=Gj){return t===!1?t=0:t===!0&&(t=Gj),{x:r2(t,"left","right"),y:r2(t,"top","bottom")}}function r2(t,n,r){return{min:s2(t,n),max:s2(t,r)}}function s2(t,n){return typeof t=="number"?t:t[n]||0}const i2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zd=()=>({x:i2(),y:i2()}),a2=()=>({min:0,max:0}),Yr=()=>({x:a2(),y:a2()});function ka(t){return[t("x"),t("y")]}function Dk({top:t,left:n,right:r,bottom:i}){return{x:{min:n,max:r},y:{min:t,max:i}}}function i7({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function a7(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),i=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Oy(t){return t===void 0||t===1}function Yj({scale:t,scaleX:n,scaleY:r}){return!Oy(t)||!Oy(n)||!Oy(r)}function gu(t){return Yj(t)||Pk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Pk(t){return o2(t.x)||o2(t.y)}function o2(t){return t&&t!=="0%"}function Ax(t,n,r){const i=t-r,l=n*i;return r+l}function l2(t,n,r,i,l){return l!==void 0&&(t=Ax(t,l,i)),Ax(t,r,i)+n}function Zj(t,n=0,r=1,i,l){t.min=l2(t.min,n,r,i,l),t.max=l2(t.max,n,r,i,l)}function Mk(t,{x:n,y:r}){Zj(t.x,n.translate,n.scale,n.originPoint),Zj(t.y,r.translate,r.scale,r.originPoint)}const c2=.999999999999,u2=1.0000000000001;function o7(t,n,r,i=!1){const l=r.length;if(!l)return;n.x=n.y=1;let u,d;for(let m=0;m<l;m++){u=r[m],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Kd(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,Mk(t,d)),i&&gu(u.latestValues)&&Kd(t,u.latestValues))}n.x<u2&&n.x>c2&&(n.x=1),n.y<u2&&n.y>c2&&(n.y=1)}function Xd(t,n){t.min=t.min+n,t.max=t.max+n}function d2(t,n,r,i,l=.5){const u=Nr(t.min,t.max,l);Zj(t,n,r,u,i)}function Kd(t,n){d2(t.x,n.x,n.scaleX,n.scale,n.originX),d2(t.y,n.y,n.scaleY,n.scale,n.originY)}function zk(t,n){return Dk(a7(t.getBoundingClientRect(),n))}function l7(t,n,r){const i=zk(t,r),{scroll:l}=n;return l&&(Xd(i.x,l.offset.x),Xd(i.y,l.offset.y)),i}const Ik=({current:t})=>t?t.ownerDocument.defaultView:null,c7=new WeakMap;class u7{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.visualElement=n}start(n,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sm(x).point)},u=(x,y)=>{const{drag:S,dragPropagation:w,onDragStart:C}=this.getProps();if(S&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nV(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ka(T=>{let R=this.getAxisMotionValue(T).get()||0;if($o.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const k=D.layout.layoutBox[T];k&&(R=pa(k)*(parseFloat(R)/100))}}this.originPoint[T]=R}),C&&Cr.postRender(()=>C(x,y)),Bj(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(x,y)=>{const{dragPropagation:S,dragDirectionLock:w,onDirectionLock:C,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=y;if(w&&this.currentDirection===null){this.currentDirection=d7(T),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),_&&_(x,y)},m=(x,y)=>this.stop(x,y),p=()=>ka(x=>{var y;return this.getAnimationState(x)==="paused"&&((y=this.getAxisMotionValue(x).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Tk(n,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Ik(this.visualElement)})}stop(n,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Cr.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,i){const{drag:l}=this.getProps();if(!i||!kg(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(d=J9(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){var n;const{dragConstraints:r,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,u=this.constraints;r&&Gd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&l?this.constraints=e7(l.layoutBox,r):this.constraints=!1,this.elastic=s7(i),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&ka(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=r7(l.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!Gd(n))return!1;const i=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=l7(i,l.root,this.visualElement.getTransformPagePoint());let d=t7(l.layout.layoutBox,u);if(r){const m=r(i7(d));this.hasMutatedConstraints=!!m,m&&(d=Dk(m))}return d}startAnimation(n){const{drag:r,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=ka(x=>{if(!kg(x,r,this.currentDirection))return;let y=p&&p[x]||{};d&&(y={min:0,max:0});const S=l?200:1e6,w=l?40:1e7,C={type:"inertia",velocity:i?n[x]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(x,C)});return Promise.all(g).then(m)}startAxisValueAnimation(n,r){const i=this.getAxisMotionValue(n);return Bj(this.visualElement,n),i.start(VS(n,i,0,r,this.visualElement,!1))}stopAnimation(){ka(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){ka(n=>{var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(n){var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),l=i[r];return l||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){ka(r=>{const{drag:i}=this.getProps();if(!kg(r,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[r];u.set(n[r]-Nr(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Gd(r)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};ka(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const p=m.get();l[d]=n7({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ka(d=>{if(!kg(d,n,null))return;const m=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];m.set(Nr(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;c7.set(this.visualElement,this);const n=this.visualElement.current,r=xp(n,"pointerdown",p=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Gd(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Cr.read(i);const d=Np(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(ka(x=>{const y=this.getAxisMotionValue(x);y&&(this.originPoint[x]+=p[x].translate,y.set(y.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),r(),u(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Gj,dragMomentum:m=!0}=n;return{...n,drag:r,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function kg(t,n,r){return(n===!0||n===t)&&(r===null||r===t)}function d7(t,n=10){let r=null;return Math.abs(t.y)>n?r="y":Math.abs(t.x)>n&&(r="x"),r}class h7 extends Oc{constructor(n){super(n),this.removeGroupControls=fa,this.removeListeners=fa,this.controls=new u7(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const h2=t=>(n,r)=>{t&&Cr.postRender(()=>t(n,r))};class f7 extends Oc{constructor(){super(...arguments),this.removePointerDownListener=fa}onPointerDown(n){this.session=new Tk(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ik(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:h2(n),onStart:h2(r),onMove:i,onEnd:(u,d)=>{delete this.session,l&&Cr.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=xp(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f2(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const If={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Jt.test(t))t=parseFloat(t);else return t;const r=f2(t,n.target.x),i=f2(t,n.target.y);return`${r}% ${i}%`}},p7={correct:(t,{treeScale:n,projectionDelta:r})=>{const i=t,l=Rc.parse(t);if(l.length>5)return i;const u=Rc.createTransformer(t),d=typeof l[0]!="number"?1:0,m=r.x.scale*n.x,p=r.y.scale*n.y;l[0+d]/=m,l[1+d]/=p;const g=Nr(m,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};class m7 extends v.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=n;I8(g7),u&&(r.group&&r.group.add(u),i&&i.register&&l&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),cx.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:i,drag:l,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,l||n.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||Cr.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),xS.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:l}=n;l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function Nk(t){const[n,r]=dS(),i=v.useContext(lS);return e.jsx(m7,{...t,layoutGroup:i,switchLayoutGroup:v.useContext(_R),isPresent:n,safeToRemove:r})}const g7={borderRadius:{...If,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:If,borderTopRightRadius:If,borderBottomLeftRadius:If,borderBottomRightRadius:If,boxShadow:p7};function x7(t,n,r){const i=Qs(t)?t:zp(t);return i.start(VS("",i,n,r)),i.animation}function v7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const y7=(t,n)=>t.depth-n.depth;class j7{constructor(){this.children=[],this.isDirty=!1}add(n){DS(this.children,n),this.isDirty=!0}remove(n){PS(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(y7),this.isDirty=!1,this.children.forEach(n)}}function b7(t,n){const r=Fo.now(),i=({timestamp:l})=>{const u=l-r;u>=n&&(Ac(i),t(u-n))};return Cr.read(i,!0),()=>Ac(i)}const Lk=["TopLeft","TopRight","BottomLeft","BottomRight"],S7=Lk.length,p2=t=>typeof t=="string"?parseFloat(t):t,m2=t=>typeof t=="number"||Jt.test(t);function w7(t,n,r,i,l,u){l?(t.opacity=Nr(0,r.opacity!==void 0?r.opacity:1,C7(i)),t.opacityExit=Nr(n.opacity!==void 0?n.opacity:1,0,E7(i))):u&&(t.opacity=Nr(n.opacity!==void 0?n.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let d=0;d<S7;d++){const m=`border${Lk[d]}Radius`;let p=g2(n,m),g=g2(r,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||m2(p)===m2(g)?(t[m]=Math.max(Nr(p2(p),p2(g),i),0),($o.test(g)||$o.test(p))&&(t[m]+="%")):t[m]=g}(n.rotate||r.rotate)&&(t.rotate=Nr(n.rotate||0,r.rotate||0,i))}function g2(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const C7=Ok(0,.5,nk),E7=Ok(.5,.95,fa);function Ok(t,n,r){return i=>i<t?0:i>n?1:r(mh(t,n,i))}function x2(t,n){t.min=n.min,t.max=n.max}function _a(t,n){x2(t.x,n.x),x2(t.y,n.y)}function v2(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function y2(t,n,r,i,l){return t-=n,t=Ax(t,1/r,i),l!==void 0&&(t=Ax(t,1/l,i)),t}function _7(t,n=0,r=1,i=.5,l,u=t,d=t){if($o.test(n)&&(n=parseFloat(n),n=Nr(d.min,d.max,n/100)-d.min),typeof n!="number")return;let m=Nr(u.min,u.max,i);t===u&&(m-=n),t.min=y2(t.min,n,r,m,l),t.max=y2(t.max,n,r,m,l)}function j2(t,n,[r,i,l],u,d){_7(t,n[r],n[i],n[l],n.scale,u,d)}const T7=["x","scaleX","originX"],A7=["y","scaleY","originY"];function b2(t,n,r,i){j2(t.x,n,T7,r?r.x:void 0,i?i.x:void 0),j2(t.y,n,A7,r?r.y:void 0,i?i.y:void 0)}function S2(t){return t.translate===0&&t.scale===1}function Bk(t){return S2(t.x)&&S2(t.y)}function w2(t,n){return t.min===n.min&&t.max===n.max}function R7(t,n){return w2(t.x,n.x)&&w2(t.y,n.y)}function C2(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function $k(t,n){return C2(t.x,n.x)&&C2(t.y,n.y)}function E2(t){return pa(t.x)/pa(t.y)}function _2(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class k7{constructor(){this.members=[]}add(n){DS(this.members,n),n.scheduleRender()}remove(n){if(PS(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(l=>n===l);if(r===0)return!1;let i;for(let l=r;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,r){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,r&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:i}=n;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D7(t,n,r){let i="";const l=t.x.translate/n.x,u=t.y.translate/n.y,d=r?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:g,rotate:x,rotateX:y,rotateY:S,skewX:w,skewY:C}=r;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),y&&(i+=`rotateX(${y}deg) `),S&&(i+=`rotateY(${S}deg) `),w&&(i+=`skewX(${w}deg) `),C&&(i+=`skewY(${C}deg) `)}const m=t.x.scale*n.x,p=t.y.scale*n.y;return(m!==1||p!==1)&&(i+=`scale(${m}, ${p})`),i||"none"}const xu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tp=typeof window<"u"&&window.MotionDebug!==void 0,By=["","X","Y","Z"],P7={visibility:"hidden"},T2=1e3;let M7=0;function $y(t,n,r,i){const{latestValues:l}=n;l[t]&&(r[t]=l[t],n.setStaticValue(t,0),i&&(i[t]=0))}function Fk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const r=ZR(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Cr,!(l||u))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Fk(i)}function Vk({attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},m=n?.()){this.id=M7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tp&&(xu.totalNodes=xu.resolvedTargetDeltas=xu.recalculatedProjection=0),this.nodes.forEach(N7),this.nodes.forEach(F7),this.nodes.forEach(V7),this.nodes.forEach(L7),tp&&window.MotionDebug.record(xu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new j7)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new MS),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const p=this.eventHandlers.get(d);p&&p.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v7(d),this.instance=d;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||p)&&(this.isLayoutDirty=!0),t){let y;const S=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=b7(S,250),cx.hasAnimatedSinceResize&&(cx.hasAnimatedSinceResize=!1,this.nodes.forEach(R2))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:S,hasRelativeTargetChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||x.getDefaultTransition()||G7,{onLayoutAnimationStart:T,onLayoutAnimationComplete:R}=x.getProps(),D=!this.targetLayout||!$k(this.targetLayout,C)||w,k=!S&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||S&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const N={...TS(_,"layout"),onPlay:T,onComplete:R};(x.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else S||R2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U7),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const y=this.path[x];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A2);return}this.isUpdating||this.nodes.forEach(B7),this.isUpdating=!1,this.nodes.forEach($7),this.nodes.forEach(z7),this.nodes.forEach(I7),this.clearAllSnapshots();const m=Fo.now();Ls.delta=Il(0,1e3/60,m-Ls.timestamp),Ls.timestamp=m,Ls.isProcessing=!0,ky.update.process(Ls),ky.preRender.process(Ls),ky.render.process(Ls),Ls.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O7),this.sharedNodes.forEach(H7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Bk(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&(m||gu(this.latestValues)||x)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return d&&(p=this.removeTransform(p)),Y7(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return Yr();const p=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(Z7))){const{scroll:x}=this.root;x&&(Xd(p.x,x.offset.x),Xd(p.y,x.offset.y))}return p}removeElementScroll(d){var m;const p=Yr();if(_a(p,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return p;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:y,options:S}=x;x!==this.root&&y&&S.layoutScroll&&(y.wasRoot&&_a(p,d),Xd(p.x,y.offset.x),Xd(p.y,y.offset.y))}return p}applyTransform(d,m=!1){const p=Yr();_a(p,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Kd(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),gu(x.latestValues)&&Kd(p,x.latestValues)}return gu(this.latestValues)&&Kd(p,this.latestValues),p}removeTransform(d){const m=Yr();_a(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!gu(g.latestValues))continue;Yj(g.latestValues)&&g.updateSnapshot();const x=Yr(),y=g.measurePageBox();_a(x,y),b2(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return gu(this.latestValues)&&b2(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ls.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:S}=this.options;if(!(!this.layout||!(y||S))){if(this.resolvedRelativeTargetAt=Ls.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),yp(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),Mk(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),yp(this.relativeTargetOrigin,this.target,w.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tp&&xu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yj(this.parent.latestValues)||Pk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ls.timestamp&&(g=!1),g)return;const{layout:x,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||y))return;_a(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,w=this.treeScale.y;o7(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Yr());const{target:C}=m;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v2(this.prevProjectionDelta.x,this.projectionDelta.x),v2(this.prevProjectionDelta.y,this.projectionDelta.y)),vp(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==w||!_2(this.projectionDelta.x,this.prevProjectionDelta.x)||!_2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),tp&&xu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zd(),this.projectionDelta=Zd(),this.projectionDeltaWithTransform=Zd()}setAnimationOrigin(d,m=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},y=Zd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Yr(),w=p?p.source:void 0,C=this.layout?this.layout.source:void 0,_=w!==C,T=this.getStack(),R=!T||T.members.length<=1,D=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(q7));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const M=N/1e3;k2(y.x,d.x,M),k2(y.y,d.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yp(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W7(this.relativeTarget,this.relativeTargetOrigin,S,M),k&&R7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Yr()),_a(k,this.relativeTarget)),_&&(this.animationValues=x,w7(x,g,this.latestValues,M,D,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cr.update(()=>{cx.hasAnimatedSinceResize=!0,this.currentAnimation=x7(0,T2,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:x}=d;if(!(!m||!p||!g)){if(this!==d&&this.layout&&g&&Uk(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Yr();const y=pa(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+y;const S=pa(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+S}_a(m,p),Kd(m,x),vp(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new k7),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&$y("z",d,g,this.animationValues);for(let x=0;x<By.length;x++)$y(`rotate${By[x]}`,d,g,this.animationValues),$y(`skew${By[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}getProjectionStyles(d){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return P7;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=ox(d?.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=ox(d?.pointerEvents)||""),this.hasProjected&&!gu(this.latestValues)&&(_.transform=x?x({},""):"none",this.hasProjected=!1),_}const S=y.animationValues||y.latestValues;this.applyTransformsToTarget(),g.transform=D7(this.projectionDeltaWithTransform,this.treeScale,S),x&&(g.transform=x(S,g.transform));const{x:w,y:C}=this.projectionDelta;g.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,y.animationValues?g.opacity=y===this?(p=(m=S.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=y===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const _ in wx){if(S[_]===void 0)continue;const{correct:T,applyTo:R}=wx[_],D=g.transform==="none"?S[_]:T(S[_],y);if(R){const k=R.length;for(let N=0;N<k;N++)g[R[N]]=D}else g[_]=D}return this.options.layoutId&&(g.pointerEvents=y===this?ox(d?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(A2),this.root.sharedNodes.clear()}}}function z7(t){t.updateLayout()}function I7(t){var n;const r=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=t.layout,{animationType:u}=t.options,d=r.source!==t.layout.source;u==="size"?ka(y=>{const S=d?r.measuredBox[y]:r.layoutBox[y],w=pa(S);S.min=i[y].min,S.max=S.min+w}):Uk(u,r.layoutBox,i)&&ka(y=>{const S=d?r.measuredBox[y]:r.layoutBox[y],w=pa(i[y]);S.max=S.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const m=Zd();vp(m,i,r.layoutBox);const p=Zd();d?vp(p,t.applyTransform(l,!0),r.measuredBox):vp(p,i,r.layoutBox);const g=!Bk(m);let x=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:S,layout:w}=y;if(S&&w){const C=Yr();yp(C,r.layoutBox,S.layoutBox);const _=Yr();yp(_,i,w.layoutBox),$k(C,_)||(x=!0),y.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function N7(t){tp&&xu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function L7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O7(t){t.clearSnapshot()}function A2(t){t.clearMeasurements()}function B7(t){t.isLayoutDirty=!1}function $7(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function R2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function F7(t){t.resolveTargetDelta()}function V7(t){t.calcProjection()}function U7(t){t.resetSkewAndRotation()}function H7(t){t.removeLeadSnapshot()}function k2(t,n,r){t.translate=Nr(n.translate,0,r),t.scale=Nr(n.scale,1,r),t.origin=n.origin,t.originPoint=n.originPoint}function D2(t,n,r,i){t.min=Nr(n.min,r.min,i),t.max=Nr(n.max,r.max,i)}function W7(t,n,r,i){D2(t.x,n.x,r.x,i),D2(t.y,n.y,r.y,i)}function q7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G7={duration:.45,ease:[.4,0,.1,1]},P2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),M2=P2("applewebkit/")&&!P2("chrome/")?Math.round:fa;function z2(t){t.min=M2(t.min),t.max=M2(t.max)}function Y7(t){z2(t.x),z2(t.y)}function Uk(t,n,r){return t==="position"||t==="preserve-aspect"&&!K9(E2(n),E2(r),.2)}function Z7(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const X7=Vk({attachResizeListener:(t,n)=>Np(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fy={current:void 0},Hk=Vk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fy.current){const t=new X7({});t.mount(window),t.setOptions({layoutScroll:!0}),Fy.current=t}return Fy.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K7={pan:{Feature:f7},drag:{Feature:h7,ProjectionNode:Hk,MeasureLayout:Nk}};function I2(t,n,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=i[l];u&&Cr.postRender(()=>u(n,sm(n)))}class Q7 extends Oc{mount(){const{current:n}=this.node;n&&(this.unmount=K8(n,r=>(I2(this.node,r,"Start"),i=>I2(this.node,i,"End"))))}unmount(){}}class J7 extends Oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rm(Np(this.node.current,"focus",()=>this.onFocus()),Np(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N2(t,n,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=i[l];u&&Cr.postRender(()=>u(n,sm(n)))}class eU extends Oc{mount(){const{current:n}=this.node;n&&(this.unmount=tV(n,r=>(N2(this.node,r,"Start"),(i,{success:l})=>N2(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xj=new WeakMap,Vy=new WeakMap,tU=t=>{const n=Xj.get(t.target);n&&n(t)},nU=t=>{t.forEach(tU)};function rU({root:t,...n}){const r=t||document;Vy.has(r)||Vy.set(r,{});const i=Vy.get(r),l=JSON.stringify(n);return i[l]||(i[l]=new IntersectionObserver(nU,{root:t,...n})),i[l]}function sU(t,n,r){const i=rU(n);return Xj.set(t,r),i.observe(t),()=>{Xj.delete(t),i.unobserve(t)}}const iU={some:0,all:1};class aU extends Oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:l="some",once:u}=n,d={root:r?r.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:iU[l]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:y}=this.node.getProps(),S=g?x:y;S&&S(p)};return sU(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(oU(n,r))&&this.startObserver()}unmount(){}}function oU({viewport:t={}},{viewport:n={}}={}){return r=>t[r]!==n[r]}const lU={inView:{Feature:aU},tap:{Feature:eU},focus:{Feature:J7},hover:{Feature:Q7}},cU={layout:{ProjectionNode:Hk,MeasureLayout:Nk}},Kj={current:null},Wk={current:!1};function uU(){if(Wk.current=!0,!!hS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Kj.current=t.matches;t.addListener(n),n()}else Kj.current=!1}const dU=[...gk,Ks,Rc],hU=t=>dU.find(mk(t)),L2=new WeakMap;function fU(t,n,r){for(const i in n){const l=n[i],u=r[i];if(Qs(l))t.addValue(i,l);else if(Qs(u))t.addValue(i,zp(l,{owner:t}));else if(u!==l)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=t.getStaticValue(i);t.addValue(i,zp(d!==void 0?d:l,{owner:t}))}}for(const i in r)n[i]===void 0&&t.removeValue(i);return n}const O2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pU{scrapeMotionValuesFromProps(n,r,i){return{}}constructor({parent:n,props:r,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Fo.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Cr.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:x}=d;this.onUpdate=x,this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=g,this.parent=n,this.props=r,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=sv(r),this.isVariantNode=CR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:y,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in S){const C=S[w];p[w]!==void 0&&Qs(C)&&C.set(p[w],!1)}}mount(n){this.current=n,L2.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Wk.current||uU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){L2.delete(this.current),this.projection&&this.projection.unmount(),Ac(this.notifyUpdate),Ac(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=Yu.has(n),l=r.on("change",m=>{this.latestValues[n]=m,this.props.onUpdate&&Cr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{l(),u(),d&&d(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in gh){const r=gh[n];if(!r)continue;const{isEnabled:i,Feature:l}=r;if(!this.features[n]&&l&&i(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<O2.length;i++){const l=O2[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=n[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=fU(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const i=this.values.get(n);r!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&r!==void 0&&(i=zp(r===null?void 0:r,{owner:this}),this.addValue(n,i)),i}readValue(n,r){var i;let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(i=this.getBaseTargetFromProps(this.props,n))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(fk(l)||sk(l))?l=parseFloat(l):!hU(l)&&Rc.test(r)&&(l=uk(n,r)),this.setBaseTarget(n,Qs(l)?l.get():l)),Qs(l)?l.get():l}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){var r;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const d=yS(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(l=d[n])}if(i&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,n);return u!==void 0&&!Qs(u)?u:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new MS),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}}class qk extends pU{constructor(){super(...arguments),this.KeyframeResolver=xk}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:i}){delete r[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Qs(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function mU(t){return window.getComputedStyle(t)}class gU extends qk{constructor(){super(...arguments),this.type="html",this.renderInstance=MR}readValueFromInstance(n,r){if(Yu.has(r)){const i=OS(r);return i&&i.default||0}else{const i=mU(n),l=(kR(r)?i.getPropertyValue(r):i[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:r}){return zk(n,r)}build(n,r,i){SS(n,r,i.transformTemplate)}scrapeMotionValuesFromProps(n,r,i){return _S(n,r,i)}}class xU extends qk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Yu.has(r)){const i=OS(r);return i&&i.default||0}return r=zR.has(r)?r:gS(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,i){return LR(n,r,i)}build(n,r,i){wS(n,r,this.isSVGTag,i.transformTemplate)}renderInstance(n,r,i,l){IR(n,r,i,l)}mount(n){this.isSVGTag=ES(n.tagName),super.mount(n)}}const vU=(t,n)=>vS(t)?new xU(n):new gU(n,{allowProjection:t!==v.Fragment}),yU=H8({...V9,...lU,...K7,...cU},vU),Yo=i8(yU),jU=(t,n)=>t.find(r=>r.id===n);function B2(t,n){const r=Gk(t,n),i=r?t[r].findIndex(l=>l.id===n):-1;return{position:r,index:i}}function Gk(t,n){for(const[r,i]of Object.entries(t))if(jU(i,n))return r}function bU(t){const n=t.includes("right"),r=t.includes("left");let i="center";return n&&(i="flex-end"),r&&(i="flex-start"),{display:"flex",flexDirection:"column",alignItems:i}}function SU(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,i=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,l=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,u=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",d=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:i,bottom:l,right:u,left:d}}var wU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,CU=lR(function(t){return wU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),EU=CU,_U=function(n){return n!=="theme"},$2=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?EU:_U},F2=function(n,r,i){var l;if(r){var u=r.shouldForwardProp;l=n.__emotion_forwardProp&&u?function(d){return n.__emotion_forwardProp(d)&&u(d)}:u}return typeof l!="function"&&i&&(l=n.__emotion_forwardProp),l},TU=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return tS(r,i,l),fR(function(){return nS(r,i,l)}),null},AU=function t(n,r){var i=n.__emotion_real===n,l=i&&n.__emotion_base||n,u,d;r!==void 0&&(u=r.label,d=r.target);var m=F2(n,r,i),p=m||$2(l),g=!p("as");return function(){var x=arguments,y=i&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(u!==void 0&&y.push("label:"+u+";"),x[0]==null||x[0].raw===void 0)y.push.apply(y,x);else{var S=x[0];y.push(S[0]);for(var w=x.length,C=1;C<w;C++)y.push(x[C],S[C])}var _=sS(function(T,R,D){var k=g&&T.as||l,N="",M=[],O=T;if(T.theme==null){O={};for(var H in T)O[H]=T[H];O.theme=v.useContext(ph)}typeof T.className=="string"?N=uR(R.registered,M,T.className):T.className!=null&&(N=T.className+" ");var U=Jx(y.concat(M),R.registered,O);N+=R.key+"-"+U.name,d!==void 0&&(N+=" "+d);var ae=g&&m===void 0?$2(k):p,he={};for(var le in T)g&&le==="as"||ae(le)&&(he[le]=T[le]);return he.className=N,D&&(he.ref=D),v.createElement(v.Fragment,null,v.createElement(TU,{cache:R,serialized:U,isStringTag:typeof k=="string"}),v.createElement(k,he))});return _.displayName=u!==void 0?u:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",_.defaultProps=n.defaultProps,_.__emotion_real=_,_.__emotion_base=l,_.__emotion_styles=y,_.__emotion_forwardProp=m,Object.defineProperty(_,"toString",{value:function(){return"."+d}}),_.withComponent=function(T,R){var D=t(T,Ou({},r,R,{shouldForwardProp:F2(_,R,!0)}));return D.apply(void 0,y)},_}},RU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qj=AU.bind(null);RU.forEach(function(t){Qj[t]=Qj(t)});const kU=new Set([...XL,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),DU=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function PU(t){return(DU.has(t)||!kU.has(t))&&t[0]!=="_"}const MU=YN(Qj),zU=({baseStyle:t})=>n=>{const{theme:r,css:i,__css:l,sx:u,...d}=n,[m]=nL(d,QL),p=ua(t,n),g=zN({},l,p,Yp(m),u),x=$A(g)(n.theme);return i?[x,i]:x};function Uy(t,n){const{baseStyle:r,...i}=n??{};i.shouldForwardProp||(i.shouldForwardProp=PU);const l=zU({baseStyle:r}),u=MU(t,i)(l);return v.forwardRef(function(p,g){const{children:x,...y}=p,{colorMode:S,forced:w}=tv(),C=w?S:void 0;return v.createElement(u,{ref:g,"data-theme":C,...y},x)})}function IU(){const t=new Map;return new Proxy(Uy,{apply(n,r,i){return Uy(...i)},get(n,r){return t.has(r)||t.set(r,Uy(r)),t.get(r)}})}const Ve=IU(),NU={initial:t=>{const{position:n}=t,r=["top","bottom"].includes(n)?"y":"x";let i=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(i=1),{opacity:0,[r]:i*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Yk=v.memo(t=>{const{id:n,message:r,onCloseComplete:i,onRequestRemove:l,requestClose:u=!1,position:d="bottom",duration:m=5e3,containerStyle:p,motionVariants:g=NU,toastSpacing:x="0.5rem"}=t,[y,S]=v.useState(m),w=XF();Nu(()=>{w||i?.()},[w]),Nu(()=>{S(m)},[m]);const C=()=>S(null),_=()=>S(m),T=()=>{w&&l()};v.useEffect(()=>{w&&u&&l()},[w,u,l]),mL(T,y);const R=v.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:x,...p}),[p,x]),D=v.useMemo(()=>bU(d),[d]);return e.jsx(Yo.div,{layout:!0,className:"chakra-toast",variants:g,initial:"initial",animate:"animate",exit:"exit",onHoverStart:C,onHoverEnd:_,custom:{position:d},style:D,children:e.jsx(Ve.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:R,children:ua(r,{id:n,onClose:T})})})});Yk.displayName="ToastComponent";function tt(t){return v.forwardRef(t)}var Hy,V2;function LU(){if(V2)return Hy;V2=1;var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var m,p,g;if(Array.isArray(u)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(!l(u[p],d[p]))return!1;return!0}var x;if(n&&u instanceof Map&&d instanceof Map){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;for(x=u.entries();!(p=x.next()).done;)if(!l(p.value[1],d.get(p.value[0])))return!1;return!0}if(r&&u instanceof Set&&d instanceof Set){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(d)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(u[p]!==d[p])return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof d.valueOf=="function")return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof d.toString=="function")return u.toString()===d.toString();if(g=Object.keys(u),m=g.length,m!==Object.keys(d).length)return!1;for(p=m;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(t&&u instanceof Element)return!1;for(p=m;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&u.$$typeof)&&!l(u[g[p]],d[g[p]]))return!1;return!0}return u!==u&&d!==d}return Hy=function(d,m){try{return l(d,m)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Hy}var OU=LU();const BU=Wp(OU);function Zu(){const t=v.useContext(ph);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function Zk(){const t=tv(),n=Zu();return{...t,theme:n}}function $U(t,n,r){if(n==null)return n;const i=l=>t.__cssMap?.[l]?.value;return i(n)??i(r)??r}function FU(t,n,r){const i=Array.isArray(n)?n:[n],l=Array.isArray(r)?r:[r];return u=>{const d=l.filter(Boolean),m=i.map((p,g)=>{const x=`${t}.${p}`;return $U(u,x,d[g]??p)});return Array.isArray(n)?m:m[0]}}function VU(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0&&n!=="children"&&!v.isValidElement(r)))}function Xk(t,n={}){const{styleConfig:r,...i}=n,{theme:l,colorMode:u}=Zk(),d=t?AA(l,`components.${t}`):void 0,m=r||d,p=Ma({theme:l,colorMode:u},m?.defaultProps??{},VU(i),(x,y)=>x?void 0:y),g=v.useRef({});if(m){const y=cO(m)(p);BU(g.current,y)||(g.current=y)}return g.current}function yi(t,n={}){return Xk(t,n)}function ls(t,n={}){return Xk(t,n)}const U2={path:e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Mn=tt((t,n)=>{const{as:r,viewBox:i,color:l="currentColor",focusable:u=!1,children:d,className:m,__css:p,...g}=t,x=ht("chakra-icon",m),y=yi("Icon",t),S={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:l,...p,...y},w={ref:n,focusable:u,className:x,__css:S},C=i??U2.viewBox;if(r&&typeof r!="string")return e.jsx(Ve.svg,{as:r,...w,...g});const _=d??U2.path;return e.jsx(Ve.svg,{verticalAlign:"middle",viewBox:C,...w,...g,children:_})});Mn.displayName="Icon";function UU(t){return e.jsx(Mn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function HU(t){return e.jsx(Mn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function H2(t){return e.jsx(Mn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const WU=Nc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),mn=tt((t,n)=>{const r=yi("Spinner",t),{label:i="Loading...",thickness:l="2px",speed:u="0.45s",emptyColor:d="transparent",className:m,...p}=Xn(t),g=ht("chakra-spinner",m),x={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:d,borderLeftColor:d,animation:`${WU} ${u} linear infinite`,...r};return e.jsx(Ve.div,{ref:n,__css:x,className:g,...p,children:i&&e.jsx(Ve.span,{srOnly:!0,children:i})})});mn.displayName="Spinner";const[qU,US]=Hn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[GU,HS]=Hn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),Kk={info:{icon:HU,colorScheme:"blue"},warning:{icon:H2,colorScheme:"orange"},success:{icon:UU,colorScheme:"green"},error:{icon:H2,colorScheme:"red"},loading:{icon:mn,colorScheme:"blue"}};function YU(t){return Kk[t].colorScheme}function ZU(t){return Kk[t].icon}const Wt=tt(function(n,r){const{status:i="info",addRole:l=!0,...u}=Xn(n),d=n.colorScheme??YU(i),m=ls("Alert",{...n,colorScheme:d}),p={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...m.container};return e.jsx(qU,{value:{status:i},children:e.jsx(GU,{value:m,children:e.jsx(Ve.div,{"data-status":i,role:l?"alert":void 0,ref:r,...u,className:ht("chakra-alert",n.className),__css:p})})})});Wt.displayName="Alert";function qt(t){const{status:n}=US(),r=ZU(n),i=HS(),l=n==="loading"?i.spinner:i.icon;return e.jsx(Ve.span,{display:"inherit","data-status":n,...t,className:ht("chakra-alert__icon",t.className),__css:l,children:t.children||e.jsx(r,{h:"100%",w:"100%"})})}qt.displayName="AlertIcon";const Qk=tt(function(n,r){const i=HS(),{status:l}=US();return e.jsx(Ve.div,{ref:r,"data-status":l,...n,className:ht("chakra-alert__title",n.className),__css:i.title})});Qk.displayName="AlertTitle";const Jk=tt(function(n,r){const{status:i}=US(),l=HS(),u={display:"inline",...l.description};return e.jsx(Ve.div,{ref:r,"data-status":i,...n,className:ht("chakra-alert__desc",n.className),__css:u})});Jk.displayName="AlertDescription";function XU(t){return e.jsx(Mn,{focusable:"false","aria-hidden":!0,...t,children:e.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const WS=tt(function(n,r){const i=yi("CloseButton",n),{children:l,isDisabled:u,__css:d,...m}=Xn(n),p={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return e.jsx(Ve.button,{type:"button","aria-label":"Close",ref:r,disabled:u,__css:{...p,...i,...d},...m,children:l||e.jsx(XU,{width:"1em",height:"1em"})})});WS.displayName="CloseButton";const KU=t=>{const{status:n,variant:r="solid",id:i,title:l,isClosable:u,onClose:d,description:m,colorScheme:p,icon:g}=t,x=i?{root:`toast-${i}`,title:`toast-${i}-title`,description:`toast-${i}-description`}:void 0;return e.jsxs(Wt,{addRole:!1,status:n,variant:r,id:x?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:p,children:[e.jsx(qt,{children:g}),e.jsxs(Ve.div,{flex:"1",maxWidth:"100%",children:[l&&e.jsx(Qk,{id:x?.title,children:l}),m&&e.jsx(Jk,{id:x?.description,display:"block",children:m})]}),u&&e.jsx(WS,{size:"sm",onClick:d,position:"absolute",insetEnd:1,top:1})]})};function eD(t={}){const{render:n,toastComponent:r=KU}=t;return l=>typeof n=="function"?n({...l,...t}):e.jsx(r,{...l,...t})}const QU={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Io=JU(QU);function JU(t){let n=t;const r=new Set,i=l=>{n=l(n),r.forEach(u=>u())};return{getState:()=>n,subscribe:l=>(r.add(l),()=>{i(()=>t),r.delete(l)}),removeToast:(l,u)=>{i(d=>({...d,[u]:d[u].filter(m=>m.id!=l)}))},notify:(l,u)=>{const d=eH(l,u),{position:m,id:p}=d;return i(g=>{const y=m.includes("top")?[d,...g[m]??[]]:[...g[m]??[],d];return{...g,[m]:y}}),p},update:(l,u)=>{l&&i(d=>{const m={...d},{position:p,index:g}=B2(m,l);return p&&g!==-1&&(m[p][g]={...m[p][g],...u,message:eD(u)}),m})},closeAll:({positions:l}={})=>{i(u=>(l??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((p,g)=>(p[g]=u[g].map(x=>({...x,requestClose:!0})),p),{...u}))},close:l=>{i(u=>{const d=Gk(u,l);return d?{...u,[d]:u[d].map(m=>m.id==l?{...m,requestClose:!0}:m)}:u})},isActive:l=>!!B2(Io.getState(),l).position}}let W2=0;function eH(t,n={}){W2+=1;const r=n.id??W2,i=n.position??"bottom";return{id:r,message:t,position:i,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>Io.removeToast(String(r),i),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}const[tD,tH]=Hn({strict:!1,name:"PortalContext"}),qS="chakra-portal",nH=".chakra-portal",rH=t=>e.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),sH=t=>{const{appendToParentPortal:n,children:r}=t,[i,l]=v.useState(null),u=v.useRef(null),[,d]=v.useState({});v.useEffect(()=>d({}),[]);const m=tH(),p=UF();Al(()=>{if(!i)return;const x=i.ownerDocument,y=n?m??x.body:x.body;if(!y)return;u.current=x.createElement("div"),u.current.className=qS,y.appendChild(u.current),d({});const S=u.current;return()=>{y.contains(S)&&y.removeChild(S)}},[i]);const g=p?.zIndex?e.jsx(rH,{zIndex:p?.zIndex,children:r}):r;return u.current?Ub.createPortal(e.jsx(tD,{value:u.current,children:g}),u.current):e.jsx("span",{ref:x=>{x&&l(x)}})},iH=t=>{const{children:n,containerRef:r,appendToParentPortal:i}=t,l=r.current,u=l??(typeof window<"u"?document.body:void 0),d=v.useMemo(()=>{const p=l?.ownerDocument.createElement("div");return p&&(p.className=qS),p},[l]),[,m]=v.useState({});return Al(()=>m({}),[]),Al(()=>{if(!(!d||!u))return u.appendChild(d),()=>{u.removeChild(d)}},[d,u]),u&&d?Ub.createPortal(e.jsx(tD,{value:i?d:null,children:n}),d):null};function kh(t){const n={appendToParentPortal:!0,...t},{containerRef:r,...i}=n;return r?e.jsx(iH,{containerRef:r,...i}):e.jsx(sH,{...i})}kh.className=qS;kh.selector=nH;kh.displayName="Portal";const[aH,oH]=Hn({name:"ToastOptionsContext",strict:!1}),lH=t=>{const n=v.useSyncExternalStore(Io.subscribe,Io.getState,Io.getState),{motionVariants:r,component:i=Yk,portalProps:l,animatePresenceProps:u}=t,m=Object.keys(n).map(p=>{const g=n[p];return e.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${p}`,id:`chakra-toast-manager-${p}`,style:SU(p),children:e.jsx(Lc,{...u,initial:!1,children:g.map(x=>e.jsx(i,{motionVariants:r,...x},x.id))})},p)});return e.jsx(kh,{...l,children:m})},cH=t=>function({children:r,theme:i=t,toastOptions:l,...u}){return e.jsxs(WF,{theme:i,...u,children:[e.jsx(aH,{value:l?.defaultOptions,children:r}),e.jsx(lH,{...l})]})},uH=cH(tR);function q2(t){return t.sort((n,r)=>{const i=n.compareDocumentPosition(r);if(i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(i&Node.DOCUMENT_POSITION_DISCONNECTED||i&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const dH=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function G2(t,n,r){let i=t+1;return r&&i>=n&&(i=0),i}function Y2(t,n,r){let i=t-1;return r&&i<0&&(i=n),i}const Wy=typeof window<"u"?v.useLayoutEffect:v.useEffect,Z2=t=>t;var hH=Object.defineProperty,fH=(t,n,r)=>n in t?hH(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Vr=(t,n,r)=>(fH(t,typeof n!="symbol"?n+"":n,r),r);class pH{constructor(){Vr(this,"descendants",new Map),Vr(this,"register",n=>{if(n!=null)return dH(n)?this.registerNode(n):r=>{this.registerNode(r,n)}}),Vr(this,"unregister",n=>{this.descendants.delete(n);const r=q2(Array.from(this.descendants.keys()));this.assignIndex(r)}),Vr(this,"destroy",()=>{this.descendants.clear()}),Vr(this,"assignIndex",n=>{this.descendants.forEach(r=>{const i=n.indexOf(r.node);r.index=i,r.node.dataset.index=r.index.toString()})}),Vr(this,"count",()=>this.descendants.size),Vr(this,"enabledCount",()=>this.enabledValues().length),Vr(this,"values",()=>Array.from(this.descendants.values()).sort((r,i)=>r.index-i.index)),Vr(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),Vr(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),Vr(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),Vr(this,"first",()=>this.item(0)),Vr(this,"firstEnabled",()=>this.enabledItem(0)),Vr(this,"last",()=>this.item(this.descendants.size-1)),Vr(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),Vr(this,"indexOf",n=>n?this.descendants.get(n)?.index??-1:-1),Vr(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n))),Vr(this,"next",(n,r=!0)=>{const i=G2(n,this.count(),r);return this.item(i)}),Vr(this,"nextEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=G2(l,this.enabledCount(),r);return this.enabledItem(u)}),Vr(this,"prev",(n,r=!0)=>{const i=Y2(n,this.count()-1,r);return this.item(i)}),Vr(this,"prevEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=Y2(l,this.enabledCount()-1,r);return this.enabledItem(u)}),Vr(this,"registerNode",(n,r)=>{if(!n||this.descendants.has(n))return;const i=Array.from(this.descendants.keys()).concat(n),l=q2(i);r?.disabled&&(r.disabled=!!r.disabled);const u={node:n,index:-1,...r};this.descendants.set(n,u),this.assignIndex(l)})}}function ov(){const[t,n]=Hn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,n,()=>{const l=v.useRef(new pH);return Wy(()=>()=>l.current.destroy()),l.current},l=>{const u=n(),[d,m]=v.useState(-1),p=v.useRef(null);Wy(()=>()=>{p.current&&u.unregister(p.current)},[]),Wy(()=>{if(!p.current)return;const x=Number(p.current.dataset.index);d!=x&&!Number.isNaN(x)&&m(x)});const g=Z2(l?u.register(l):u.register);return{descendants:u,index:d,enabledIndex:u.enabledIndexOf(p.current),register:Xr(g,p)}}]}const[mH,lv]=Hn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[gH,GS]=Hn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[xH,Bee,vH,yH]=ov();function jH(t){const{onChange:n,defaultIndex:r,index:i,allowMultiple:l,allowToggle:u,...d}=t;wH(t),CH(t);const m=vH(),[p,g]=v.useState(-1);v.useEffect(()=>()=>{g(-1)},[]);const[x,y]=Kp({value:i,defaultValue(){return l?r??[]:r??-1},onChange:n});return{index:x,setIndex:y,htmlProps:d,getAccordionItemProps:w=>{let C=!1;return w!==null&&(C=Array.isArray(x)?x.includes(w):x===w),{isOpen:C,onChange:T=>{if(w!==null)if(l&&Array.isArray(x)){const R=T?x.concat(w):x.filter(D=>D!==w);y(R)}else T?y(w):u&&y(-1)}}},focusedIndex:p,setFocusedIndex:g,descendants:m}}const[bH,YS]=Hn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function SH(t){const{isDisabled:n,isFocusable:r,id:i,...l}=t,{getAccordionItemProps:u,setFocusedIndex:d}=YS(),m=v.useRef(null),p=v.useId(),g=i??p,x=`accordion-button-${g}`,y=`accordion-panel-${g}`;EH(t);const{register:S,index:w,descendants:C}=yH({disabled:n&&!r}),{isOpen:_,onChange:T}=u(w===-1?null:w);_H({isOpen:_,isDisabled:n});const R=()=>{T?.(!0)},D=()=>{T?.(!1)},k=v.useCallback(()=>{T?.(!_),d(w)},[w,d,_,T]),N=v.useCallback(U=>{const he={ArrowDown:()=>{C.nextEnabled(w)?.node.focus()},ArrowUp:()=>{C.prevEnabled(w)?.node.focus()},Home:()=>{C.firstEnabled()?.node.focus()},End:()=>{C.lastEnabled()?.node.focus()}}[U.key];he&&(U.preventDefault(),he(U))},[C,w]),M=v.useCallback(()=>{d(w)},[d,w]),O=v.useCallback(function(ae={},he=null){return{...ae,type:"button",ref:Xr(S,m,he),id:x,disabled:!!n,"aria-expanded":!!_,"aria-controls":y,onClick:sn(ae.onClick,k),onFocus:sn(ae.onFocus,M),onKeyDown:sn(ae.onKeyDown,N)}},[x,n,_,k,M,N,y,S]),H=v.useCallback(function(ae={},he=null){return{...ae,ref:he,role:"region",id:y,"aria-labelledby":x,hidden:!_}},[x,_,y]);return{isOpen:_,isDisabled:n,isFocusable:r,onOpen:R,onClose:D,getButtonProps:O,getPanelProps:H,htmlProps:l}}function wH(t){const n=t.index||t.defaultIndex,r=n!=null&&!Array.isArray(n)&&t.allowMultiple;Xp({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function CH(t){Xp({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function EH(t){Xp({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function _H(t){Xp({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const nD=tt(function({children:n,reduceMotion:r,...i},l){const u=ls("Accordion",i),d=Xn(i),{htmlProps:m,descendants:p,...g}=jH(d),x=v.useMemo(()=>({...g,reduceMotion:!!r}),[g,r]);return e.jsx(xH,{value:p,children:e.jsx(bH,{value:x,children:e.jsx(mH,{value:u,children:e.jsx(Ve.div,{ref:l,...m,className:ht("chakra-accordion",i.className),__css:u.root,children:n})})})})});nD.displayName="Accordion";const rD=tt(function(n,r){const{getButtonProps:i}=GS(),l=i(n,r),d={display:"flex",alignItems:"center",width:"100%",outline:0,...lv().button};return e.jsx(Ve.button,{...l,className:ht("chakra-accordion__button",n.className),__css:d})});rD.displayName="AccordionButton";function sD(t){const{isOpen:n,isDisabled:r}=GS(),{reduceMotion:i}=YS(),l=ht("chakra-accordion__icon",t.className),u=lv(),d={opacity:r?.4:1,transform:n?"rotate(-180deg)":void 0,transition:i?void 0:"transform 0.2s",transformOrigin:"center",...u.icon};return e.jsx(Mn,{viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:d,...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}sD.displayName="AccordionIcon";const iD=tt(function(n,r){const{children:i,className:l}=n,{htmlProps:u,...d}=SH(n),m=lv(),p={...m.container,overflowAnchor:"none"},g=v.useMemo(()=>d,[d]);return e.jsx(gH,{value:g,children:e.jsx(Ve.div,{ref:r,...u,className:ht("chakra-accordion__item",l),__css:p,children:typeof i=="function"?i({isExpanded:!!d.isOpen,isDisabled:!!d.isDisabled}):i})})});iD.displayName="AccordionItem";const Su={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Nf={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function Jj(t){switch(t?.direction??"right"){case"right":return Nf.slideRight;case"left":return Nf.slideLeft;case"bottom":return Nf.slideDown;case"top":return Nf.slideUp;default:return Nf.slideRight}}const Du={enter:{duration:.2,ease:Su.easeOut},exit:{duration:.1,ease:Su.easeIn}},ro={enter:(t,n)=>({...t,delay:typeof n=="number"?n:n?.enter}),exit:(t,n)=>({...t,delay:typeof n=="number"?n:n?.exit})},TH=t=>t!=null&&parseInt(t.toString(),10)>0,X2={exit:{height:{duration:.2,ease:Su.ease},opacity:{duration:.3,ease:Su.ease}},enter:{height:{duration:.3,ease:Su.ease},opacity:{duration:.4,ease:Su.ease}}},AH={exit:({animateOpacity:t,startingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:TH(n)?1:0},height:n,transitionEnd:i?.exit,transition:r?.exit??ro.exit(X2.exit,l)}),enter:({animateOpacity:t,endingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:1},height:n,transitionEnd:i?.enter,transition:r?.enter??ro.enter(X2.enter,l)})},ZS=v.forwardRef((t,n)=>{const{in:r,unmountOnExit:i,animateOpacity:l=!0,startingHeight:u=0,endingHeight:d="auto",style:m,className:p,transition:g,transitionEnd:x,animatePresenceProps:y,...S}=t,[w,C]=v.useState(!1);v.useEffect(()=>{const k=setTimeout(()=>{C(!0)});return()=>clearTimeout(k)},[]),Xp({condition:Number(u)>0&&!!i,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const _=parseFloat(u.toString())>0,T={startingHeight:u,endingHeight:d,animateOpacity:l,transition:w?g:{enter:{duration:0}},transitionEnd:{enter:x?.enter,exit:i?x?.exit:{...x?.exit,display:_?"block":"none"}}},R=i?r:!0,D=r||i?"enter":"exit";return e.jsx(Lc,{...y,initial:!1,custom:T,children:R&&e.jsx(Yo.div,{ref:n,...S,className:ht("chakra-collapse",p),style:{overflow:"hidden",display:"block",...m},custom:T,variants:AH,initial:i?"exit":!1,animate:D,exit:"exit"})})});ZS.displayName="Collapse";const aD=tt(function(n,r){const{className:i,motionProps:l,...u}=n,{reduceMotion:d}=YS(),{getPanelProps:m,isOpen:p}=GS(),g=m(u,r),x=ht("chakra-accordion__panel",i),y=lv();d||delete g.hidden;const S=e.jsx(Ve.div,{...g,__css:y.panel,className:x});return d?S:e.jsx(ZS,{in:p,...l,children:S})});aD.displayName="AccordionPanel";const[RH,kH]=Hn({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function DH(t){const n=t.trim().split(" "),r=n[0]??"",i=n.length>1?n[n.length-1]:"";return r&&i?`${r.charAt(0)}${i.charAt(0)}`:r.charAt(0)}function oD(t){const{name:n,getInitials:r,...i}=t,l=kH();return e.jsx(Ve.div,{role:"img","aria-label":n,...i,__css:l.label,children:n?r?.(n):null})}oD.displayName="AvatarName";const lD=t=>e.jsxs(Ve.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function cD(t){const{loading:n,src:r,srcSet:i,onLoad:l,onError:u,crossOrigin:d,sizes:m,ignoreFallback:p}=t,[g,x]=v.useState("pending");v.useEffect(()=>{x(r?"loading":"pending")},[r]);const y=v.useRef(null),S=v.useCallback(()=>{if(!r)return;w();const C=new Image;C.src=r,d&&(C.crossOrigin=d),i&&(C.srcset=i),m&&(C.sizes=m),n&&(C.loading=n),C.onload=_=>{w(),x("loaded"),l?.(_)},C.onerror=_=>{w(),x("failed"),u?.(_)},y.current=C},[r,d,i,m,l,u,n]),w=()=>{y.current&&(y.current.onload=null,y.current.onerror=null,y.current=null)};return Al(()=>{if(!p)return g==="loading"&&S(),()=>{w()}},[g,S,p]),p?"loaded":g}const PH=(t,n)=>t!=="loaded"&&n==="beforeLoadOrError"||t==="failed"&&n==="onError";function uD(t){const{src:n,srcSet:r,onError:i,onLoad:l,getInitials:u,name:d,borderRadius:m,loading:p,iconLabel:g,icon:x=e.jsx(lD,{}),ignoreFallback:y,referrerPolicy:S,crossOrigin:w}=t,_=cD({src:n,onError:i,crossOrigin:w,ignoreFallback:y})==="loaded";return!n||!_?d?e.jsx(oD,{className:"chakra-avatar__initials",getInitials:u,name:d}):v.cloneElement(x,{role:"img","aria-label":g}):e.jsx(Ve.img,{src:n,srcSet:r,alt:d??g,onLoad:l,referrerPolicy:S,crossOrigin:w??void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:m}})}uD.displayName="AvatarImage";const MH={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},dD=tt((t,n)=>{const r=ls("Avatar",t),[i,l]=v.useState(!1),{src:u,srcSet:d,name:m,showBorder:p,borderRadius:g="full",onError:x,onLoad:y,getInitials:S=DH,icon:w=e.jsx(lD,{}),iconLabel:C=" avatar",loading:_,children:T,borderColor:R,ignoreFallback:D,crossOrigin:k,referrerPolicy:N,...M}=Xn(t),O={borderRadius:g,borderWidth:p?"2px":void 0,...MH,...r.container};return R&&(O.borderColor=R),e.jsx(Ve.span,{ref:n,...M,className:ht("chakra-avatar",t.className),"data-loaded":Cn(i),__css:O,children:e.jsxs(RH,{value:r,children:[e.jsx(uD,{src:u,srcSet:d,loading:_,onLoad:sn(y,()=>{l(!0)}),onError:x,getInitials:S,name:m,borderRadius:g,icon:w,iconLabel:C,ignoreFallback:D,crossOrigin:k,referrerPolicy:N}),T]})})});dD.displayName="Avatar";const et=tt(function(n,r){const i=yi("Badge",n),{className:l,...u}=Xn(n);return e.jsx(Ve.span,{ref:r,className:ht("chakra-badge",n.className),...u,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...i}})});et.displayName="Badge";const ue=Ve("div");ue.displayName="Box";const[zH,XS]=Hn({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),eb=tt(function(n,r){const i=ls("Breadcrumb",n),l=Xn(n),{children:u,spacing:d="0.5rem",separator:m="/",className:p,listProps:g,...x}=l,y=Ic(u),S=y.length,w=y.map((_,T)=>v.cloneElement(_,{separator:m,spacing:d,isLastChild:S===T+1})),C=ht("chakra-breadcrumb",p);return e.jsx(Ve.nav,{ref:r,"aria-label":"breadcrumb",className:C,__css:i.container,...x,children:e.jsx(zH,{value:i,children:e.jsx(Ve.ol,{className:"chakra-breadcrumb__list",...g,__css:{display:"flex",alignItems:"center",...i.list},children:w})})})});eb.displayName="Breadcrumb";const Rx=tt(function(n,r){const{isCurrentPage:i,as:l,className:u,href:d,...m}=n,p=XS(),g={ref:r,as:l,className:ht("chakra-breadcrumb__link",u),...m};return i?e.jsx(Ve.span,{"aria-current":"page",__css:p.link,...g}):e.jsx(Ve.a,{__css:p.link,href:d,...g})});Rx.displayName="BreadcrumbLink";const tb=tt(function(n,r){const{spacing:i,...l}=n,u=XS(),d={mx:i,...u.separator};return e.jsx(Ve.span,{ref:r,role:"presentation",...l,__css:d})});tb.displayName="BreadcrumbSeparator";const nb=tt(function(n,r){const{isCurrentPage:i,separator:l,isLastChild:u,spacing:d,children:m,className:p,...g}=n,y=Ic(m).map(_=>_.type===Rx?v.cloneElement(_,{isCurrentPage:i}):_.type===tb?v.cloneElement(_,{spacing:d,children:_.props.children||l}):_),S=XS(),w={display:"inline-flex",alignItems:"center",...S.item},C=ht("chakra-breadcrumb__list-item",p);return e.jsxs(Ve.li,{ref:r,className:C,...g,__css:w,children:[y,!u&&e.jsx(tb,{spacing:d,children:l})]})});nb.displayName="BreadcrumbItem";const[IH,NH]=Hn({strict:!1,name:"ButtonGroupContext"});function np(t){const{children:n,className:r,...i}=t,l=v.isValidElement(n)?v.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,u=ht("chakra-button__icon",r);return e.jsx(Ve.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:u,children:l})}np.displayName="ButtonIcon";function rb(t){const{label:n,placement:r,spacing:i="0.5rem",children:l=e.jsx(mn,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:d,...m}=t,p=ht("chakra-button__spinner",u),g=r==="start"?"marginEnd":"marginStart",x=v.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[g]:n?i:0,fontSize:"1em",lineHeight:"normal",...d}),[d,n,g,i]);return e.jsx(Ve.div,{className:p,...m,__css:x,children:l})}rb.displayName="ButtonSpinner";function LH(t){const[n,r]=v.useState(!t);return{ref:v.useCallback(u=>{u&&r(u.tagName==="BUTTON")},[]),type:n?"button":void 0}}const J=tt((t,n)=>{const r=NH(),i=yi("Button",{...r,...t}),{isDisabled:l=r?.isDisabled,isLoading:u,isActive:d,children:m,leftIcon:p,rightIcon:g,loadingText:x,iconSpacing:y="0.5rem",type:S,spinner:w,spinnerPlacement:C="start",className:_,as:T,shouldWrapChildren:R,...D}=Xn(t),k=v.useMemo(()=>{const H={...i?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!r&&{_focus:H}}},[i,r]),{ref:N,type:M}=LH(T),O={rightIcon:g,leftIcon:p,iconSpacing:y,children:m,shouldWrapChildren:R};return e.jsxs(Ve.button,{disabled:l||u,ref:fL(n,N),as:T,type:S??M,"data-active":Cn(d),"data-loading":Cn(u),__css:k,className:ht("chakra-button",_),...D,children:[u&&C==="start"&&e.jsx(rb,{className:"chakra-button__spinner--start",label:x,placement:"start",spacing:y,children:w}),u?x||e.jsx(Ve.span,{opacity:0,children:e.jsx(K2,{...O})}):e.jsx(K2,{...O}),u&&C==="end"&&e.jsx(rb,{className:"chakra-button__spinner--end",label:x,placement:"end",spacing:y,children:w})]})});J.displayName="Button";function K2(t){const{leftIcon:n,rightIcon:r,children:i,iconSpacing:l,shouldWrapChildren:u}=t;return u?e.jsxs("span",{style:{display:"contents"},children:[n&&e.jsx(np,{marginEnd:l,children:n}),i,r&&e.jsx(np,{marginStart:l,children:r})]}):e.jsxs(e.Fragment,{children:[n&&e.jsx(np,{marginEnd:l,children:n}),i,r&&e.jsx(np,{marginStart:l,children:r})]})}const OH={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},BH={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},sb=tt(function(n,r){const{size:i,colorScheme:l,variant:u,className:d,spacing:m="0.5rem",isAttached:p,isDisabled:g,orientation:x="horizontal",...y}=n,S=ht("chakra-button__group",d),w=v.useMemo(()=>({size:i,colorScheme:l,variant:u,isDisabled:g}),[i,l,u,g]);let C={display:"inline-flex",...p?OH[x]:BH[x](m)};const _=x==="vertical";return e.jsx(IH,{value:w,children:e.jsx(Ve.div,{ref:r,role:"group",__css:C,className:S,"data-attached":p?"":void 0,"data-orientation":x,flexDir:_?"column":void 0,...y})})});sb.displayName="ButtonGroup";const yt=tt((t,n)=>{const{icon:r,children:i,isRound:l,"aria-label":u,...d}=t,m=r||i,p=v.isValidElement(m)?v.cloneElement(m,{"aria-hidden":!0,focusable:!1}):null;return e.jsx(J,{px:"0",py:"0",borderRadius:l?"full":void 0,ref:n,"aria-label":u,...d,children:p})});yt.displayName="IconButton";const[$H,hD]=$F("Card"),Ne=tt(function(n,r){const{className:i,children:l,direction:u="column",justify:d,align:m,...p}=Xn(n),g=ls("Card",n);return e.jsx(Ve.div,{ref:r,className:ht("chakra-card",i),__css:{display:"flex",flexDirection:u,justifyContent:d,alignItems:m,position:"relative",minWidth:0,wordWrap:"break-word",...g.container},...p,children:e.jsx($H,{value:g,children:l})})}),Ie=tt(function(n,r){const{className:i,...l}=n,u=hD();return e.jsx(Ve.div,{ref:r,className:ht("chakra-card__body",i),__css:u.body,...l})}),St=tt(function(n,r){const{className:i,...l}=n,u=hD();return e.jsx(Ve.div,{ref:r,className:ht("chakra-card__header",i),__css:u.header,...l})}),vn=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});vn.displayName="Center";const FH={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};tt(function(n,r){const{axis:i="both",...l}=n;return e.jsx(Ve.div,{ref:r,__css:FH[i],...l,position:"absolute"})});const[VH,UH]=Hn({name:"CheckboxGroupContext",strict:!1});function HH(t){return e.jsx(Ve.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function WH(t){return e.jsx(Ve.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function qH(t){const{isIndeterminate:n,isChecked:r,...i}=t,l=n?WH:HH;return r||n?e.jsx(Ve.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(l,{...i})}):null}var GH=()=>typeof document<"u",Q2=!1,im=null,Bu=!1,ib=!1,ab=new Set;function KS(t,n){ab.forEach(r=>r(t,n))}var YH=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function ZH(t){return!(t.metaKey||!YH&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function J2(t){Bu=!0,ZH(t)&&(im="keyboard",KS("keyboard",t))}function zd(t){if(im="pointer",t.type==="mousedown"||t.type==="pointerdown"){Bu=!0;const n=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=n.matches(":focus-visible")}catch{}if(r)return;KS("pointer",t)}}function XH(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function KH(t){XH(t)&&(Bu=!0,im="virtual")}function QH(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Bu&&!ib&&(im="virtual",KS("virtual",t)),Bu=!1,ib=!1)}function JH(){Bu=!1,ib=!0}function eT(){return im!=="pointer"}function eW(){if(!GH()||Q2)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Bu=!0,t.apply(this,r)},document.addEventListener("keydown",J2,!0),document.addEventListener("keyup",J2,!0),document.addEventListener("click",KH,!0),window.addEventListener("focus",QH,!0),window.addEventListener("blur",JH,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",zd,!0),document.addEventListener("pointermove",zd,!0),document.addEventListener("pointerup",zd,!0)):(document.addEventListener("mousedown",zd,!0),document.addEventListener("mousemove",zd,!0),document.addEventListener("mouseup",zd,!0)),Q2=!0}function tW(t){eW(),t(eT());const n=()=>t(eT());return ab.add(n),()=>{ab.delete(n)}}const[nW,fD]=Hn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[rW,cv]=Hn({strict:!1,name:"FormControlContext"});function sW(t){const{id:n,isRequired:r,isInvalid:i,isDisabled:l,isReadOnly:u,...d}=t,m=v.useId(),p=n||`field-${m}`,g=`${p}-label`,x=`${p}-feedback`,y=`${p}-helptext`,[S,w]=v.useState(!1),[C,_]=v.useState(!1),[T,R]=v.useState(!1),D=v.useCallback((H={},U=null)=>({id:y,...H,ref:Xr(U,ae=>{ae&&_(!0)})}),[y]),k=v.useCallback((H={},U=null)=>({...H,ref:U,"data-focus":Cn(T),"data-disabled":Cn(l),"data-invalid":Cn(i),"data-readonly":Cn(u),id:H.id!==void 0?H.id:g,htmlFor:H.htmlFor!==void 0?H.htmlFor:p}),[p,l,T,i,u,g]),N=v.useCallback((H={},U=null)=>({id:x,...H,ref:Xr(U,ae=>{ae&&w(!0)}),"aria-live":"polite"}),[x]),M=v.useCallback((H={},U=null)=>({...H,...d,ref:U,role:"group","data-focus":Cn(T),"data-disabled":Cn(l),"data-invalid":Cn(i),"data-readonly":Cn(u)}),[d,l,T,i,u]),O=v.useCallback((H={},U=null)=>({...H,ref:U,role:"presentation","aria-hidden":!0,children:H.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!u,isDisabled:!!l,isFocused:!!T,onFocus:()=>R(!0),onBlur:()=>R(!1),hasFeedbackText:S,setHasFeedbackText:w,hasHelpText:C,setHasHelpText:_,id:p,labelId:g,feedbackId:x,helpTextId:y,htmlProps:d,getHelpTextProps:D,getErrorMessageProps:N,getRootProps:M,getLabelProps:k,getRequiredIndicatorProps:O}}const Q=tt(function(n,r){const i=ls("Form",n),l=Xn(n),{getRootProps:u,htmlProps:d,...m}=sW(l),p=ht("chakra-form-control",n.className);return e.jsx(rW,{value:m,children:e.jsx(nW,{value:i,children:e.jsx(Ve.div,{...u({},r),className:p,__css:i.container})})})});Q.displayName="FormControl";const ux=tt(function(n,r){const i=cv(),l=fD(),u=ht("chakra-form__helper-text",n.className);return e.jsx(Ve.div,{...i?.getHelpTextProps(n,r),__css:l.helperText,className:u})});ux.displayName="FormHelperText";function QS(t){const{isDisabled:n,isInvalid:r,isReadOnly:i,isRequired:l,...u}=JS(t);return{...u,disabled:n,readOnly:i,required:l,"aria-invalid":_u(r),"aria-required":_u(l),"aria-readonly":_u(i)}}function JS(t){const n=cv(),{id:r,disabled:i,readOnly:l,required:u,isRequired:d,isInvalid:m,isReadOnly:p,isDisabled:g,onFocus:x,onBlur:y,...S}=t,w=t["aria-describedby"]?[t["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&w.push(n.feedbackId),n?.hasHelpText&&w.push(n.helpTextId),{...S,"aria-describedby":w.join(" ")||void 0,id:r??n?.id,isDisabled:i??g??n?.isDisabled,isReadOnly:l??p??n?.isReadOnly,isRequired:u??d??n?.isRequired,isInvalid:m??n?.isInvalid,onFocus:sn(n?.onFocus,x),onBlur:sn(n?.onBlur,y)}}const e1={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function pD(t={}){const n=JS(t),{isDisabled:r,isReadOnly:i,isRequired:l,isInvalid:u,id:d,onBlur:m,onFocus:p,"aria-describedby":g}=n,{defaultChecked:x,isChecked:y,isFocusable:S,onChange:w,isIndeterminate:C,name:_,value:T,tabIndex:R=void 0,"aria-label":D,"aria-labelledby":k,"aria-invalid":N,...M}=t,O=Zp(M,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),H=ms(w),U=ms(m),ae=ms(p),[he,le]=v.useState(!1),[de,Re]=v.useState(!1),[fe,se]=v.useState(!1),Y=v.useRef(!1);v.useEffect(()=>tW(Ue=>{Y.current=Ue}),[]);const q=v.useRef(null),[W,Ee]=v.useState(!0),[B,ie]=v.useState(!!x),xe=y!==void 0,$=xe?y:B,F=v.useCallback(Ue=>{if(i||r){Ue.preventDefault();return}xe||ie($?Ue.currentTarget.checked:C?!0:Ue.currentTarget.checked),H?.(Ue)},[i,r,$,xe,C,H]);Al(()=>{q.current&&(q.current.indeterminate=!!C)},[C]),Nu(()=>{r&&le(!1)},[r,le]),Al(()=>{const Ue=q.current;if(!Ue?.form)return;const Ht=()=>{ie(!!x)};return Ue.form.addEventListener("reset",Ht),()=>Ue.form?.removeEventListener("reset",Ht)},[]);const G=r&&!S,X=v.useCallback(Ue=>{Ue.key===" "&&se(!0)},[se]),ye=v.useCallback(Ue=>{Ue.key===" "&&se(!1)},[se]);Al(()=>{if(!q.current)return;q.current.checked!==$&&ie(q.current.checked)},[q.current]);const ve=v.useCallback((Ue={},Ht=null)=>{const we=Ke=>{he&&Ke.preventDefault(),se(!0)};return{...Ue,ref:Ht,"data-active":Cn(fe),"data-hover":Cn(de),"data-checked":Cn($),"data-focus":Cn(he),"data-focus-visible":Cn(he&&Y.current),"data-indeterminate":Cn(C),"data-disabled":Cn(r),"data-invalid":Cn(u),"data-readonly":Cn(i),"aria-hidden":!0,onMouseDown:sn(Ue.onMouseDown,we),onMouseUp:sn(Ue.onMouseUp,()=>se(!1)),onMouseEnter:sn(Ue.onMouseEnter,()=>Re(!0)),onMouseLeave:sn(Ue.onMouseLeave,()=>Re(!1))}},[fe,$,r,he,de,C,u,i]),be=v.useCallback((Ue={},Ht=null)=>({...Ue,ref:Ht,"data-active":Cn(fe),"data-hover":Cn(de),"data-checked":Cn($),"data-focus":Cn(he),"data-focus-visible":Cn(he&&Y.current),"data-indeterminate":Cn(C),"data-disabled":Cn(r),"data-invalid":Cn(u),"data-readonly":Cn(i)}),[fe,$,r,he,de,C,u,i]),He=v.useCallback((Ue={},Ht=null)=>({...O,...Ue,ref:Xr(Ht,we=>{we&&Ee(we.tagName==="LABEL")}),onClick:sn(Ue.onClick,()=>{W||(q.current?.click(),requestAnimationFrame(()=>{q.current?.focus({preventScroll:!0})}))}),"data-disabled":Cn(r),"data-checked":Cn($),"data-invalid":Cn(u)}),[O,r,$,u,W]),ct=v.useCallback((Ue={},Ht=null)=>({...Ue,ref:Xr(q,Ht),type:"checkbox",name:_,value:T,id:d,tabIndex:R,onChange:sn(Ue.onChange,F),onBlur:sn(Ue.onBlur,U,()=>le(!1)),onFocus:sn(Ue.onFocus,ae,()=>le(!0)),onKeyDown:sn(Ue.onKeyDown,X),onKeyUp:sn(Ue.onKeyUp,ye),required:l,checked:$,disabled:G,readOnly:i,"aria-label":D,"aria-labelledby":k,"aria-invalid":N?!!N:u,"aria-describedby":g,"aria-disabled":r,"aria-checked":C?"mixed":$,style:e1}),[_,T,d,R,F,U,ae,X,ye,l,$,G,i,D,k,N,u,g,r,C]),Xe=v.useCallback((Ue={},Ht=null)=>({...Ue,ref:Ht,onMouseDown:sn(Ue.onMouseDown,iW),"data-disabled":Cn(r),"data-checked":Cn($),"data-invalid":Cn(u)}),[$,r,u]);return{state:{isInvalid:u,isFocused:he,isChecked:$,isActive:fe,isHovered:de,isIndeterminate:C,isDisabled:r,isReadOnly:i,isRequired:l},getRootProps:He,getCheckboxProps:ve,getIndicatorProps:be,getInputProps:ct,getLabelProps:Xe,htmlProps:O}}function iW(t){t.preventDefault(),t.stopPropagation()}function aW(t){const[n,r]=v.useState(t),[i,l]=v.useState(!1);return t!==n&&(l(!0),r(t)),i}const oW={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},lW={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},cW=Nc({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),uW=Nc({from:{opacity:0},to:{opacity:1}}),dW=Nc({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),so=tt(function(n,r){const i=UH(),l={...i,...n},u=ls("Checkbox",l),d=Xn(n),{spacing:m="0.5rem",className:p,children:g,iconColor:x,iconSize:y,icon:S=e.jsx(qH,{}),isChecked:w,isDisabled:C=i?.isDisabled,onChange:_,inputProps:T,...R}=d;let D=w;i?.value&&d.value&&(D=i.value.includes(d.value));let k=_;i?.onChange&&d.value&&(k=EA(i.onChange,_));const{state:N,getInputProps:M,getCheckboxProps:O,getLabelProps:H,getRootProps:U}=pD({...R,isDisabled:C,isChecked:D,onChange:k}),ae=aW(N.isChecked),he=v.useMemo(()=>({animation:ae?N.isIndeterminate?`${uW} 20ms linear, ${dW} 200ms linear`:`${cW} 200ms linear`:void 0,...u.icon,...Yp({fontSize:y,color:x})}),[x,y,ae,N.isIndeterminate,u.icon]),le=v.cloneElement(S,{__css:he,isIndeterminate:N.isIndeterminate,isChecked:N.isChecked});return e.jsxs(Ve.label,{__css:{...lW,...u.container},className:ht("chakra-checkbox",p),...U(),children:[e.jsx("input",{className:"chakra-checkbox__input",...M(T,r)}),e.jsx(Ve.span,{__css:{...oW,...u.control},className:"chakra-checkbox__control",...O(),children:le}),g&&e.jsx(Ve.span,{className:"chakra-checkbox__label",...H(),__css:{marginStart:m,...u.label},children:g})]})});so.displayName="Checkbox";function tT(t){return t&&gs(t)&&gs(t.target)}function hW(t={}){const{defaultValue:n,value:r,onChange:i,isDisabled:l,isNative:u}=t,d=ms(i),[m,p]=Kp({value:r,defaultValue:n||[],onChange:d}),g=v.useCallback(y=>{if(!m)return;const S=tT(y)?y.target.checked:!m.includes(y),w=tT(y)?y.target.value:y,C=S?[...m,w]:m.filter(_=>String(_)!==String(w));p(C)},[p,m]),x=v.useCallback((y={})=>({...y,[u?"checked":"isChecked"]:m.some(w=>String(y.value)===String(w)),onChange:g}),[g,u,m]);return{value:m,isDisabled:l,onChange:g,setValue:p,getCheckboxProps:x}}function mD(t){const{colorScheme:n,size:r,variant:i,children:l,isDisabled:u}=t,{value:d,onChange:m}=hW(t),p=v.useMemo(()=>({size:r,onChange:m,colorScheme:n,value:d,variant:i,isDisabled:u}),[r,m,n,d,i,u]);return e.jsx(VH,{value:p,children:l})}mD.displayName="CheckboxGroup";const vh=tt(function(n,r){const i=yi("Code",n),{className:l,...u}=Xn(n);return e.jsx(Ve.code,{ref:r,className:ht("chakra-code",n.className),...u,__css:{display:"inline-block",...i}})});vh.displayName="Code";const ks=tt(function(n,r){const{className:i,centerContent:l,...u}=Xn(n),d=yi("Container",n);return e.jsx(Ve.div,{ref:r,className:ht("chakra-container",i),...u,__css:{...d,...l&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});ks.displayName="Container";const bn=tt(function(n,r){const{borderLeftWidth:i,borderBottomWidth:l,borderTopWidth:u,borderRightWidth:d,borderWidth:m,borderStyle:p,borderColor:g,...x}=yi("Divider",n),{className:y,orientation:S="horizontal",__css:w,...C}=Xn(n),_={vertical:{borderLeftWidth:i||d||m||"1px",height:"100%"},horizontal:{borderBottomWidth:l||u||m||"1px",width:"100%"}};return e.jsx(Ve.hr,{ref:r,"aria-orientation":S,...C,__css:{...x,border:"0",borderColor:g,borderStyle:p,..._[S],...w},className:ht("chakra-divider",y)})});bn.displayName="Divider";function rp(t){return typeof t=="function"}function fW(...t){return n=>t.reduce((r,i)=>i(r),n)}const pW=t=>function(...r){let i=[...r],l=r[r.length-1];return z$(l)&&i.length>1?i=i.slice(0,i.length-1):l=t,fW(...i.map(u=>d=>rp(u)?u(d):gW(d,u)))(l)},mW=pW(tR);function gW(...t){return Ma({},...t,gD)}function gD(t,n,r,i){if((rp(t)||rp(n))&&Object.prototype.hasOwnProperty.call(i,r))return(...l)=>{const u=rp(t)?t(...l):t,d=rp(n)?n(...l):n;return Ma({},u,d,gD)};if(gs(t)&&Sj(n)||Sj(t)&&gs(n))return n}const nr=tt(function(n,r){const{direction:i,align:l,justify:u,wrap:d,basis:m,grow:p,shrink:g,...x}=n,y={display:"flex",flexDirection:i,alignItems:l,justifyContent:u,flexWrap:d,flexBasis:m,flexGrow:p,flexShrink:g};return e.jsx(Ve.div,{ref:r,__css:y,...x})});nr.displayName="Flex";function xW(t,n){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(n.indexOf(i)!==-1)continue;r[i]=t[i]}return r}var ob="data-focus-lock",xD="data-focus-lock-disabled",vW="data-no-focus-lock",yW="data-autofocus-inside",jW="data-no-autofocus";function qy(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function bW(t,n){var r=v.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(i){var l=r.value;l!==i&&(r.value=i,r.callback(i,l))}}}})[0];return r.callback=n,r.facade}var SW=typeof window<"u"?v.useLayoutEffect:v.useEffect,nT=new WeakMap;function vD(t,n){var r=bW(null,function(i){return t.forEach(function(l){return qy(l,i)})});return SW(function(){var i=nT.get(r);if(i){var l=new Set(i),u=new Set(t),d=r.current;l.forEach(function(m){u.has(m)||qy(m,null)}),u.forEach(function(m){l.has(m)||qy(m,d)})}nT.set(r,t)},[t]),r}var Gy={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},No=function(){return No=Object.assign||function(n){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},No.apply(this,arguments)};function yD(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r}function wW(t,n,r){if(r||arguments.length===2)for(var i=0,l=n.length,u;i<l;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return t.concat(u||Array.prototype.slice.call(n))}function jD(t){return t}function bD(t,n){n===void 0&&(n=jD);var r=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var d=n(u,i);return r.push(d),function(){r=r.filter(function(m){return m!==d})}},assignSyncMedium:function(u){for(i=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){i=!0;var d=[];if(r.length){var m=r;r=[],m.forEach(u),d=r}var p=function(){var x=d;d=[],x.forEach(u)},g=function(){return Promise.resolve().then(p)};g(),r={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),r}}}};return l}function t1(t,n){return n===void 0&&(n=jD),bD(t,n)}function SD(t){t===void 0&&(t={});var n=bD(null);return n.options=No({async:!0,ssr:!1},t),n}var wD=function(t){var n=t.sideCar,r=yD(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return v.createElement(i,No({},r))};wD.isSideCarExport=!0;function CW(t,n){return t.useMedium(n),wD}var CD=t1({},function(t){var n=t.target,r=t.currentTarget;return{target:n,currentTarget:r}}),ED=t1(),EW=t1(),_W=SD({async:!0,ssr:typeof document<"u"}),TW=v.createContext(void 0),AW=[],n1=v.forwardRef(function(n,r){var i,l=v.useState(),u=l[0],d=l[1],m=v.useRef(),p=v.useRef(!1),g=v.useRef(null),x=v.useState({}),y=x[1],S=n.children,w=n.disabled,C=w===void 0?!1:w,_=n.noFocusGuards,T=_===void 0?!1:_,R=n.persistentFocus,D=R===void 0?!1:R,k=n.crossFrame,N=k===void 0?!0:k,M=n.autoFocus,O=M===void 0?!0:M;n.allowTextSelection;var H=n.group,U=n.className,ae=n.whiteList,he=n.hasPositiveIndices,le=n.shards,de=le===void 0?AW:le,Re=n.as,fe=Re===void 0?"div":Re,se=n.lockProps,Y=se===void 0?{}:se,q=n.sideCar,W=n.returnFocus,Ee=W===void 0?!1:W,B=n.focusOptions,ie=n.onActivation,xe=n.onDeactivation,$=v.useState({}),F=$[0],G=v.useCallback(function(we){var Ke=we.captureFocusRestore;if(!g.current){var Bt,ce=(Bt=document)==null?void 0:Bt.activeElement;g.current=ce,ce!==document.body&&(g.current=Ke(ce))}m.current&&ie&&ie(m.current),p.current=!0,y()},[ie]),X=v.useCallback(function(){p.current=!1,xe&&xe(m.current),y()},[xe]),ye=v.useCallback(function(we){var Ke=g.current;if(Ke){var Bt=(typeof Ke=="function"?Ke():Ke)||document.body,ce=typeof Ee=="function"?Ee(Bt):Ee;if(ce){var je=typeof ce=="object"?ce:void 0;g.current=null,we?Promise.resolve().then(function(){return Bt.focus(je)}):Bt.focus(je)}}},[Ee]),ve=v.useCallback(function(we){p.current&&CD.useMedium(we)},[]),be=ED.useMedium,He=v.useCallback(function(we){m.current!==we&&(m.current=we,d(we))},[]),ct=Ou((i={},i[xD]=C&&"disabled",i[ob]=H,i),Y),Xe=T!==!0,dt=Xe&&T!=="tail",Ue=vD([r,He]),Ht=v.useMemo(function(){return{observed:m,shards:de,enabled:!C,active:p.current}},[C,p.current,de,u]);return un.createElement(v.Fragment,null,Xe&&[un.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:C?-1:0,style:Gy}),he?un.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:C?-1:1,style:Gy}):null],!C&&un.createElement(q,{id:F,sideCar:_W,observed:u,disabled:C,persistentFocus:D,crossFrame:N,autoFocus:O,whiteList:ae,shards:de,onActivation:G,onDeactivation:X,returnFocus:ye,focusOptions:B,noFocusGuards:T}),un.createElement(fe,Ou({ref:Ue},ct,{className:U,onBlur:be,onFocus:ve}),un.createElement(TW.Provider,{value:Ht},S)),dt&&un.createElement("div",{"data-focus-guard":!0,tabIndex:C?-1:0,style:Gy}))});n1.propTypes={};function lb(t,n){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,n)}function RW(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,lb(t,n)}function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lp(t)}function kW(t,n){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(Lp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function DW(t){var n=kW(t,"string");return Lp(n)=="symbol"?n:n+""}function PW(t,n,r){return(n=DW(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function MW(t,n){function r(i){return i.displayName||i.name||"Component"}return function(l){var u=[],d;function m(){d=t(u.map(function(g){return g.props})),n(d)}var p=(function(g){RW(x,g);function x(){return g.apply(this,arguments)||this}x.peek=function(){return d};var y=x.prototype;return y.componentDidMount=function(){u.push(this),m()},y.componentDidUpdate=function(){m()},y.componentWillUnmount=function(){var w=u.indexOf(this);u.splice(w,1),m()},y.render=function(){return un.createElement(l,this.props)},x})(v.PureComponent);return PW(p,"displayName","SideEffect("+r(l)+")"),p}}var Zo=function(t){for(var n=Array(t.length),r=0;r<t.length;++r)n[r]=t[r];return n},$u=function(t){return Array.isArray(t)?t:[t]},_D=function(t){return Array.isArray(t)?t[0]:t},zW=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},TD=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},AD=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},IW=function(t){return t.hasAttribute("inert")},NW=function(t,n){return!t||AD(t)||!zW(t)&&!IW(t)&&n(TD(t))},RD=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=NW(n,RD.bind(void 0,t));return t.set(n,i),i},LW=function(t,n){return t&&!AD(t)?$W(t)?n(TD(t)):!1:!0},kD=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=LW(n,kD.bind(void 0,t));return t.set(n,i),i},DD=function(t){return t.dataset},OW=function(t){return t.tagName==="BUTTON"},PD=function(t){return t.tagName==="INPUT"},MD=function(t){return PD(t)&&t.type==="radio"},BW=function(t){return!((PD(t)||OW(t))&&(t.type==="hidden"||t.disabled))},$W=function(t){var n=t.getAttribute(jW);return![!0,"true",""].includes(n)},r1=function(t){var n;return!!(t&&(!((n=DD(t))===null||n===void 0)&&n.focusGuard))},cb=function(t){return!r1(t)},FW=function(t){return!!t},VW=function(t,n){var r=Math.max(0,t.tabIndex),i=Math.max(0,n.tabIndex),l=r-i,u=t.index-n.index;if(l){if(!r)return 1;if(!i)return-1}return l||u},UW=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},s1=function(t,n,r){return Zo(t).map(function(i,l){var u=UW(i);return{node:i,index:l,tabIndex:r&&u===-1?(i.dataset||{}).focusGuard?0:-1:u}}).filter(function(i){return!n||i.tabIndex>=0}).sort(VW)},HW=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],i1=HW.join(","),WW="".concat(i1,", [data-focus-guard]"),zD=function(t,n){return Zo((t.shadowRoot||t).children).reduce(function(r,i){return r.concat(i.matches(n?WW:i1)?[i]:[],zD(i))},[])},qW=function(t,n){var r;return t instanceof HTMLIFrameElement&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?yh([t.contentDocument.body],n):[t]},yh=function(t,n){return t.reduce(function(r,i){var l,u=zD(i,n),d=(l=[]).concat.apply(l,u.map(function(m){return qW(m,n)}));return r.concat(d,i.parentNode?Zo(i.parentNode.querySelectorAll(i1)).filter(function(m){return m===i}):[])},[])},GW=function(t){var n=t.querySelectorAll("[".concat(yW,"]"));return Zo(n).map(function(r){return yh([r])}).reduce(function(r,i){return r.concat(i)},[])},a1=function(t,n){return Zo(t).filter(function(r){return RD(n,r)}).filter(function(r){return BW(r)})},rT=function(t,n){return n===void 0&&(n=new Map),Zo(t).filter(function(r){return kD(n,r)})},o1=function(t,n,r){return s1(a1(yh(t,r),n),!0,r)},Op=function(t,n){return s1(a1(yh(t),n),!1)},YW=function(t,n){return a1(GW(t),n)},Pu=function(t,n){return t.shadowRoot?Pu(t.shadowRoot,n):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,n)?!0:Zo(t.children).some(function(r){var i;if(r instanceof HTMLIFrameElement){var l=(i=r.contentDocument)===null||i===void 0?void 0:i.body;return l?Pu(l,n):!1}return Pu(r,n)})},ZW=function(t){for(var n=new Set,r=t.length,i=0;i<r;i+=1)for(var l=i+1;l<r;l+=1){var u=t[i].compareDocumentPosition(t[l]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(l),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(i)}return t.filter(function(d,m){return!n.has(m)})},ID=function(t){return t.parentNode?ID(t.parentNode):t},l1=function(t){var n=$u(t);return n.filter(Boolean).reduce(function(r,i){var l=i.getAttribute(ob);return r.push.apply(r,l?ZW(Zo(ID(i).querySelectorAll("[".concat(ob,'="').concat(l,'"]:not([').concat(xD,'="disabled"])')))):[i]),r},[])},XW=function(t){try{return t()}catch{return}},Bp=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var n=t.activeElement;return n.shadowRoot?Bp(n.shadowRoot):n instanceof HTMLIFrameElement&&XW(function(){return n.contentWindow.document})?Bp(n.contentWindow.document):n}},KW=function(t,n){return t===n},QW=function(t,n){return!!Zo(t.querySelectorAll("iframe")).some(function(r){return KW(r,n)})},ND=function(t,n){return n===void 0&&(n=Bp(_D(t).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:l1(t).some(function(r){return Pu(r,n)||QW(r,n)})},JW=function(t){t===void 0&&(t=document);var n=Bp(t);return n?Zo(t.querySelectorAll("[".concat(vW,"]"))).some(function(r){return Pu(r,n)}):!1},eq=function(t,n){return n.filter(MD).filter(function(r){return r.name===t.name}).filter(function(r){return r.checked})[0]||t},c1=function(t,n){return MD(t)&&t.name?eq(t,n):t},tq=function(t){var n=new Set;return t.forEach(function(r){return n.add(c1(r,t))}),t.filter(function(r){return n.has(r)})},sT=function(t){return t[0]&&t.length>1?c1(t[0],t):t[0]},iT=function(t,n){return t.indexOf(c1(n,t))},ub="NEW_FOCUS",nq=function(t,n,r,i,l){var u=t.length,d=t[0],m=t[u-1],p=r1(i);if(!(i&&t.indexOf(i)>=0)){var g=i!==void 0?r.indexOf(i):-1,x=l?r.indexOf(l):g,y=l?t.indexOf(l):-1;if(g===-1)return y!==-1?y:ub;if(y===-1)return ub;var S=g-x,w=r.indexOf(d),C=r.indexOf(m),_=tq(r),T=i!==void 0?_.indexOf(i):-1,R=l?_.indexOf(l):T,D=_.filter(function(U){return U.tabIndex>=0}),k=i!==void 0?D.indexOf(i):-1,N=l?D.indexOf(l):k,M=k>=0&&N>=0?N-k:R-T;if(!S&&y>=0||n.length===0)return y;var O=iT(t,n[0]),H=iT(t,n[n.length-1]);if(g<=w&&p&&Math.abs(S)>1)return H;if(g>=C&&p&&Math.abs(S)>1)return O;if(S&&Math.abs(M)>1)return y;if(g<=w)return H;if(g>C)return O;if(S)return Math.abs(S)>1?y:(u+y+S)%u}},rq=function(t){return function(n){var r,i=(r=DD(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||i!==void 0&&i!=="false"||t.indexOf(n)>=0}},aT=function(t,n,r){var i=t.map(function(u){var d=u.node;return d}),l=rT(i.filter(rq(r)));return l&&l.length?sT(l):sT(rT(n))},db=function(t,n){return n===void 0&&(n=[]),n.push(t),t.parentNode&&db(t.parentNode.host||t.parentNode,n),n},Yy=function(t,n){for(var r=db(t),i=db(n),l=0;l<r.length;l+=1){var u=r[l];if(i.indexOf(u)>=0)return u}return!1},LD=function(t,n,r){var i=$u(t),l=$u(n),u=i[0],d=!1;return l.filter(Boolean).forEach(function(m){d=Yy(d||m,m)||d,r.filter(Boolean).forEach(function(p){var g=Yy(u,p);g&&(!d||Pu(g,d)?d=g:d=Yy(g,d))})}),d},oT=function(t,n){return t.reduce(function(r,i){return r.concat(YW(i,n))},[])},sq=function(t,n){var r=new Map;return n.forEach(function(i){return r.set(i.node,i)}),t.map(function(i){return r.get(i)}).filter(FW)},iq=function(t,n){var r=Bp($u(t).length>0?document:_D(t).ownerDocument),i=l1(t).filter(cb),l=LD(r||t,t,i),u=new Map,d=Op(i,u),m=d.filter(function(C){var _=C.node;return cb(_)});if(m[0]){var p=Op([l],u).map(function(C){var _=C.node;return _}),g=sq(p,m),x=g.map(function(C){var _=C.node;return _}),y=g.filter(function(C){var _=C.tabIndex;return _>=0}).map(function(C){var _=C.node;return _}),S=nq(x,y,p,r,n);if(S===ub){var w=aT(d,y,oT(i,u))||aT(d,x,oT(i,u));if(w)return{node:w};console.warn("focus-lock: cannot find any node to move focus into");return}return S===void 0?S:g[S]}},aq=function(t){var n=l1(t).filter(cb),r=LD(t,t,n),i=s1(yh([r],!0),!0,!0),l=yh(n,!1);return i.map(function(u){var d=u.node,m=u.index;return{node:d,index:m,lockItem:l.indexOf(d)>=0,guard:r1(d)}})},u1=function(t,n){t&&("focus"in t&&t.focus(n),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Zy=0,Xy=!1,OD=function(t,n,r){r===void 0&&(r={});var i=iq(t,n);if(!Xy&&i){if(Zy>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Xy=!0,setTimeout(function(){Xy=!1},1);return}Zy++,u1(i.node,r.focusOptions),Zy--}};function Lf(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var n=t?new WeakRef(t):null;return function(){return n?.deref()||null}}var oq=function(t){if(!t)return null;for(var n=[],r=t;r&&r!==document.body;)n.push({current:Lf(r),parent:Lf(r.parentElement),left:Lf(r.previousElementSibling),right:Lf(r.nextElementSibling)}),r=r.parentElement;return{element:Lf(t),stack:n,ownerDocument:t.ownerDocument}},lq=function(t){var n,r,i,l,u;if(t)for(var d=t.stack,m=t.ownerDocument,p=new Map,g=0,x=d;g<x.length;g++){var y=x[g],S=(n=y.parent)===null||n===void 0?void 0:n.call(y);if(S&&m.contains(S)){for(var w=(r=y.left)===null||r===void 0?void 0:r.call(y),C=y.current(),_=S.contains(C)?C:void 0,T=(i=y.right)===null||i===void 0?void 0:i.call(y),R=o1([S],p),D=(u=(l=_??w?.nextElementSibling)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:w;D;){for(var k=0,N=R;k<N.length;k++){var M=N[k];if(D?.contains(M.node))return M.node}D=D.nextElementSibling}if(R.length)return R[0].node}}},BD=function(t){var n=oq(t);return function(){return lq(n)}},cq=function(t,n,r){if(!t||!n)return console.error("no element or scope given"),{};var i=$u(n);if(i.every(function(d){return!Pu(d,t)}))return console.error("Active element is not contained in the scope"),{};var l=r?o1(i,new Map):Op(i,new Map),u=l.findIndex(function(d){var m=d.node;return m===t});if(u!==-1)return{prev:l[u-1],next:l[u+1],first:l[0],last:l[l.length-1]}},uq=function(t,n){var r=n?o1($u(t),new Map):Op($u(t),new Map);return{first:r[0],last:r[r.length-1]}},dq=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},$D=function(t,n,r){n===void 0&&(n={});var i=dq(n),l=cq(t,i.scope,i.onlyTabbable);if(l){var u=r(l,i.cycle);u&&u1(u.node,i.focusOptions)}},hq=function(t,n){n===void 0&&(n={}),$D(t,n,function(r,i){var l=r.next,u=r.first;return l||i&&u})},fq=function(t,n){n===void 0&&(n={}),$D(t,n,function(r,i){var l=r.prev,u=r.last;return l||i&&u})},FD=function(t,n,r){var i,l=uq(t,(i=n.onlyTabbable)!==null&&i!==void 0?i:!0),u=l[r];u&&u1(u.node,n.focusOptions)},pq=function(t,n){n===void 0&&(n={}),FD(t,n,"first")},mq=function(t,n){n===void 0&&(n={}),FD(t,n,"last")};function d1(t){setTimeout(t,1)}var gq=function(n){return n&&"current"in n?n.current:n},VD=function(){return document&&document.activeElement===document.body},xq=function(){return VD()||JW()},ah=null,ki=null,lT=function(){return null},oh=null,$p=!1,h1=!1,vq=function(){return!0},yq=function(n){return(ah.whiteList||vq)(n)},jq=function(n,r){oh={observerNode:n,portaledElement:r}},bq=function(n){return oh&&oh.portaledElement===n};function cT(t,n,r,i){var l=null,u=t;do{var d=i[u];if(d.guard)d.node.dataset.focusAutoGuard&&(l=d);else if(d.lockItem){if(u!==t)return;l=null}else break}while((u+=r)!==n);l&&(l.node.tabIndex=0)}var Sq=function(n){return n?!!$p:$p==="meanwhile"},wq=function t(n,r,i){return r&&(r.host===n&&(!r.activeElement||i.contains(r.activeElement))||r.parentNode&&t(n,r.parentNode,i))},Cq=function(n,r){return r.some(function(i){return wq(n,i,i)})},UD=function(n){return Op(n,new Map)},Eq=function(n){return!UD([n.parentNode]).some(function(r){return r.node===n})},kx=function(){var n=!1;if(ah){var r=ah,i=r.observed,l=r.persistentFocus,u=r.autoFocus,d=r.shards,m=r.crossFrame,p=r.focusOptions,g=r.noFocusGuards,x=i||oh&&oh.portaledElement;if(VD()&&ki&&ki!==document.body&&(!document.body.contains(ki)||Eq(ki))){var y=lT();y&&y.focus()}var S=document&&document.activeElement;if(x){var w=[x].concat(d.map(gq).filter(Boolean)),C=function(){if(!Sq(m)||!g||!ki||h1)return!1;var k=UD(w),N=k.findIndex(function(M){var O=M.node;return O===ki});return N===0||N===k.length-1};if((!S||yq(S))&&(l||C()||!xq()||!ki&&u)&&(x&&!(ND(w)||S&&Cq(S,w)||bq(S))&&(document&&!ki&&S&&!u?(S.blur&&S.blur(),document.body.focus()):(n=OD(w,ki,{focusOptions:p}),oh={})),ki=document&&document.activeElement,ki!==document.body&&(lT=BD(ki)),$p=!1),document&&S!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var _=document&&document.activeElement,T=aq(w),R=T.map(function(D){var k=D.node;return k}).indexOf(_);R>-1&&(T.filter(function(D){var k=D.guard,N=D.node;return k&&N.dataset.focusAutoGuard}).forEach(function(D){var k=D.node;return k.removeAttribute("tabIndex")}),cT(R,T.length,1,T),cT(R,-1,-1,T))}}}return n},HD=function(n){kx()&&n&&(n.stopPropagation(),n.preventDefault())},f1=function(){return d1(kx)},_q=function(n){var r=n.target,i=n.currentTarget;i.contains(r)||jq(i,r)},Tq=function(){return null},WD=function(){h1=!0},qD=function(){h1=!1,$p="just",d1(function(){$p="meanwhile"})},Aq=function(){document.addEventListener("focusin",HD),document.addEventListener("focusout",f1),window.addEventListener("focus",WD),window.addEventListener("blur",qD)},Rq=function(){document.removeEventListener("focusin",HD),document.removeEventListener("focusout",f1),window.removeEventListener("focus",WD),window.removeEventListener("blur",qD)};function kq(t){return t.filter(function(n){var r=n.disabled;return!r})}var GD={moveFocusInside:OD,focusInside:ND,focusNextElement:hq,focusPrevElement:fq,focusFirstElement:pq,focusLastElement:mq,captureFocusRestore:BD};function Dq(t){var n=t.slice(-1)[0];n&&!ah&&Aq();var r=ah,i=r&&n&&n.id===r.id;ah=n,r&&!i&&(r.onDeactivation(),t.filter(function(l){var u=l.id;return u===r.id}).length||r.returnFocus(!n)),n?(ki=null,(!i||r.observed!==n.observed)&&n.onActivation(GD),kx(),d1(kx)):(Rq(),ki=null)}CD.assignSyncMedium(_q);ED.assignMedium(f1);EW.assignMedium(function(t){return t(GD)});const Pq=MW(kq,Dq)(Tq);var hb=v.forwardRef(function(n,r){return un.createElement(n1,Ou({sideCar:Pq,ref:r},n))}),YD=n1.propTypes||{};YD.sideCar;xW(YD,["sideCar"]);hb.propTypes={};const Mq=hb.default??hb,ZD=t=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:i,restoreFocus:l,children:u,isDisabled:d,autoFocus:m,persistentFocus:p,lockFocusAcrossFrames:g}=t,x=v.useCallback(()=>{n?.current?n.current.focus():i?.current&&WN(i.current).length===0&&requestAnimationFrame(()=>{i.current?.focus()})},[n,i]),y=v.useCallback(()=>{r?.current?.focus()},[r]),S=l&&!r;return e.jsx(Mq,{crossFrame:g,persistentFocus:p,autoFocus:m,disabled:d,onActivation:x,onDeactivation:y,returnFocus:S,children:u})};ZD.displayName="FocusLock";const K=tt(function(n,r){const i=yi("FormLabel",n),l=Xn(n),{className:u,children:d,requiredIndicator:m=e.jsx(XD,{}),optionalIndicator:p=null,...g}=l,x=cv(),y=x?.getLabelProps(g,r)??{ref:r,...g};return e.jsxs(Ve.label,{...y,className:ht("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...i},children:[d,x?.isRequired?m:p]})});K.displayName="FormLabel";const XD=tt(function(n,r){const i=cv(),l=fD();if(!i?.isRequired)return null;const u=ht("chakra-form__required-indicator",n.className);return e.jsx(Ve.span,{...i?.getRequiredIndicatorProps(n,r),__css:l.requiredIndicator,className:u})});XD.displayName="RequiredIndicator";const vi=tt(function(n,r){const{templateAreas:i,gap:l,rowGap:u,columnGap:d,column:m,row:p,autoFlow:g,autoRows:x,templateRows:y,autoColumns:S,templateColumns:w,...C}=n,_={display:"grid",gridTemplateAreas:i,gridGap:l,gridRowGap:u,gridColumnGap:d,gridAutoColumns:S,gridColumn:m,gridRow:p,gridAutoFlow:g,gridAutoRows:x,gridTemplateRows:y,gridTemplateColumns:w};return e.jsx(Ve.div,{ref:r,__css:_,...C})});vi.displayName="Grid";function uT(t){return Wx(t,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const Fu=tt(function(n,r){const{area:i,colSpan:l,colStart:u,colEnd:d,rowEnd:m,rowSpan:p,rowStart:g,...x}=n,y=Yp({gridArea:i,gridColumn:uT(l),gridRow:uT(p),gridColumnStart:u,gridColumnEnd:d,gridRowStart:g,gridRowEnd:m});return e.jsx(Ve.div,{ref:r,__css:y,...x})});Fu.displayName="GridItem";const ft=tt(function(n,r){const{columns:i,spacingX:l,spacingY:u,spacing:d,minChildWidth:m,...p}=n,g=Zu(),x=m?Iq(m,g):Nq(i);return e.jsx(vi,{ref:r,gap:d,columnGap:l,rowGap:u,templateColumns:x,...p})});ft.displayName="SimpleGrid";function zq(t){return typeof t=="number"?`${t}px`:t}function Iq(t,n){return Wx(t,r=>{const i=FU("sizes",r,zq(r))(n);return r===null?null:`repeat(auto-fit, minmax(${i}, 1fr))`})}function Nq(t){return Wx(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function Bc(t){const{viewBox:n="0 0 24 24",d:r,displayName:i,defaultProps:l={}}=t,u=v.Children.toArray(t.path),d=tt((m,p)=>e.jsx(Mn,{ref:p,viewBox:n,...l,...m,children:u.length?u:e.jsx("path",{fill:"currentColor",d:r})}));return d.displayName=i,d}const fb=tt(function(n,r){const{htmlWidth:i,htmlHeight:l,alt:u,...d}=n;return e.jsx("img",{width:i,height:l,ref:r,alt:u,...d})});fb.displayName="NativeImage";const Oi=tt(function(n,r){const{fallbackSrc:i,fallback:l,src:u,srcSet:d,align:m,fit:p,loading:g,ignoreFallback:x,crossOrigin:y,fallbackStrategy:S="beforeLoadOrError",referrerPolicy:w,...C}=n,_=i!==void 0||l!==void 0,T=g!=null||x||!_,R=cD({...n,crossOrigin:y,ignoreFallback:T}),D=PH(R,S),k={ref:r,objectFit:p,objectPosition:m,...T?C:Zp(C,["onError","onLoad"])};return D?l||e.jsx(Ve.img,{as:fb,className:"chakra-image__placeholder",src:i,...k}):e.jsx(Ve.img,{as:fb,src:u,srcSet:d,crossOrigin:y,loading:g,referrerPolicy:w,className:"chakra-image",...k})});Oi.displayName="Image";const ge=tt(function(n,r){const{htmlSize:i,...l}=n,u=ls("Input",l),d=Xn(l),m=QS(d),p=ht("chakra-input",n.className);return e.jsx(Ve.input,{size:i,...m,__css:u.field,ref:r,className:p})});ge.displayName="Input";ge.id="Input";const[Lq,Oq]=Hn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),kc=tt(function(n,r){const i=ls("Input",n),{children:l,className:u,...d}=Xn(n),m=ht("chakra-input__group",u),p={},g=Ic(l),x=i.field;g.forEach(S=>{i&&(x&&S.type.id==="InputLeftElement"&&(p.paddingStart=x.height??x.h),x&&S.type.id==="InputRightElement"&&(p.paddingEnd=x.height??x.h),S.type.id==="InputRightAddon"&&(p.borderEndRadius=0),S.type.id==="InputLeftAddon"&&(p.borderStartRadius=0))});const y=g.map(S=>{const w=Yp({size:S.props?.size||n.size,variant:S.props?.variant||n.variant});return S.type.id!=="Input"?v.cloneElement(S,w):v.cloneElement(S,Object.assign(w,p,S.props))});return e.jsx(Ve.div,{className:m,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...i.group},"data-group":!0,...d,children:e.jsx(Lq,{value:i,children:y})})});kc.displayName="InputGroup";const Bq=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),uv=tt(function(n,r){const{placement:i="left",...l}=n,u=Oq(),d=u.field,p={[i==="left"?"insetStart":"insetEnd"]:"0",width:d?.height??d?.h,height:d?.height??d?.h,fontSize:d?.fontSize,...u.element};return e.jsx(Bq,{ref:r,__css:p,...l})});uv.id="InputElement";uv.displayName="InputElement";const Dc=tt(function(n,r){const{className:i,...l}=n,u=ht("chakra-input__left-element",i);return e.jsx(uv,{ref:r,placement:"left",className:u,...l})});Dc.id="InputLeftElement";Dc.displayName="InputLeftElement";const p1=tt(function(n,r){const{className:i,...l}=n,u=ht("chakra-input__right-element",i);return e.jsx(uv,{ref:r,placement:"right",className:u,...l})});p1.id="InputRightElement";p1.displayName="InputRightElement";const m1=tt(function(n,r){const i=yi("Link",n),{className:l,isExternal:u,...d}=Xn(n);return e.jsx(Ve.a,{target:u?"_blank":void 0,rel:u?"noopener":void 0,ref:r,className:ht("chakra-link",l),...d,__css:i})});m1.displayName="Link";const[$q,KD]=Hn({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),dv=tt(function(n,r){const i=ls("List",n),{children:l,styleType:u="none",stylePosition:d,spacing:m,...p}=Xn(n),g=Ic(l),y=m?{"& > *:not(style) ~ *:not(style)":{mt:m}}:{};return e.jsx($q,{value:i,children:e.jsx(Ve.ul,{ref:r,listStyleType:u,listStylePosition:d,role:"list",__css:{...i.container,...y},...p,children:g})})});dv.displayName="List";const Fq=tt((t,n)=>{const{as:r,...i}=t;return e.jsx(dv,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...i})});Fq.displayName="OrderedList";const Vq=tt(function(n,r){const{as:i,...l}=n;return e.jsx(dv,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...l})});Vq.displayName="UnorderedList";const QD=tt(function(n,r){const i=KD();return e.jsx(Ve.li,{ref:r,...n,__css:i.item})});QD.displayName="ListItem";const Uq=tt(function(n,r){const i=KD();return e.jsx(Mn,{ref:r,role:"presentation",...n,__css:i.icon})});Uq.displayName="ListIcon";function JD(t,n={}){const{ssr:r=!0,fallback:i}=n,{getWindow:l}=HF(),u=Array.isArray(t)?t:[t];let d=Array.isArray(i)?i:[i];d=d.filter(g=>g!=null);const[m,p]=v.useState(()=>u.map((g,x)=>({media:g,matches:r?!!d[x]:l().matchMedia(g).matches})));return v.useEffect(()=>{const g=l();p(u.map(S=>({media:S,matches:g.matchMedia(S).matches})));const x=u.map(S=>g.matchMedia(S)),y=S=>{p(w=>w.slice().map(C=>C.media===S.media?{...C,matches:S.matches}:C))};return x.forEach(S=>{typeof S.addListener=="function"?S.addListener(y):S.addEventListener("change",y)}),()=>{x.forEach(S=>{typeof S.removeListener=="function"?S.removeListener(y):S.removeEventListener("change",y)})}},[l]),m.map(g=>g.matches)}function Hq(t){const n=gs(t)?t:{fallback:t??"base"},i=Zu().__breakpoints.details.map(({minMaxQuery:m,breakpoint:p})=>({breakpoint:p,query:m.replace("@media screen and ","")})),l=i.map(m=>m.breakpoint===n.fallback),d=JD(i.map(m=>m.query),{fallback:l,ssr:n.ssr}).findIndex(m=>m==!0);return i[d]?.breakpoint??n.fallback}function Wq(t,n,r=PA){let i=Object.keys(t).indexOf(n);if(i!==-1)return t[n];let l=r.indexOf(n);for(;l>=0;){const u=r[l];if(t.hasOwnProperty(u)){i=l;break}l-=1}if(i!==-1){const u=r[i];return t[u]}}function qq(t,n){const r=gs(n)?n:{fallback:"base"},i=Hq(r),l=Zu();if(!i)return;const u=Array.from(l.__breakpoints?.keys||[]),d=Array.isArray(t)?Object.fromEntries(Object.entries(KN(t,u)).map(([m,p])=>[m,p])):t;return Wq(d,i,u)}function Gq(t,n,r,i){if(n==null)return i;if(!i)return t.find(d=>r(d).toLowerCase().startsWith(n.toLowerCase()));const l=t.filter(u=>r(u).toLowerCase().startsWith(n.toLowerCase()));if(l.length>0){let u;return l.includes(i)?(u=l.indexOf(i)+1,u===l.length&&(u=0),l[u]):(u=t.indexOf(l[0]),t[u])}return i}function Yq(t){const{key:n}=t;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function Zq(t={}){const{timeout:n=300,preventDefault:r=()=>!0}=t,[i,l]=v.useState([]),u=v.useRef(void 0),d=()=>{u.current&&(clearTimeout(u.current),u.current=null)},m=()=>{d(),u.current=setTimeout(()=>{l([]),u.current=null},n)};v.useEffect(()=>d,[]);function p(g){return x=>{if(x.key==="Backspace"){const y=[...i];y.pop(),l(y);return}if(Yq(x)){const y=i.concat(x.key);r(x)&&(x.preventDefault(),x.stopPropagation()),l(y),g(y.join("")),m()}}}return p}var Ii="top",Na="bottom",La="right",Ni="left",g1="auto",am=[Ii,Na,La,Ni],jh="start",Fp="end",Xq="clippingParents",eP="viewport",Of="popper",Kq="reference",dT=am.reduce(function(t,n){return t.concat([n+"-"+jh,n+"-"+Fp])},[]),tP=[].concat(am,[g1]).reduce(function(t,n){return t.concat([n,n+"-"+jh,n+"-"+Fp])},[]),Qq="beforeRead",Jq="read",eG="afterRead",tG="beforeMain",nG="main",rG="afterMain",sG="beforeWrite",iG="write",aG="afterWrite",oG=[Qq,Jq,eG,tG,nG,rG,sG,iG,aG];function qo(t){return t?(t.nodeName||"").toLowerCase():null}function ma(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Vu(t){var n=ma(t).Element;return t instanceof n||t instanceof Element}function za(t){var n=ma(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function x1(t){if(typeof ShadowRoot>"u")return!1;var n=ma(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function lG(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var i=n.styles[r]||{},l=n.attributes[r]||{},u=n.elements[r];!za(u)||!qo(u)||(Object.assign(u.style,i),Object.keys(l).forEach(function(d){var m=l[d];m===!1?u.removeAttribute(d):u.setAttribute(d,m===!0?"":m)}))})}function cG(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(i){var l=n.elements[i],u=n.attributes[i]||{},d=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:r[i]),m=d.reduce(function(p,g){return p[g]="",p},{});!za(l)||!qo(l)||(Object.assign(l.style,m),Object.keys(u).forEach(function(p){l.removeAttribute(p)}))})}}const uG={name:"applyStyles",enabled:!0,phase:"write",fn:lG,effect:cG,requires:["computeStyles"]};function Vo(t){return t.split("-")[0]}var Mu=Math.max,Dx=Math.min,bh=Math.round;function pb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function nP(){return!/^((?!chrome|android).)*safari/i.test(pb())}function Sh(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),l=1,u=1;n&&za(t)&&(l=t.offsetWidth>0&&bh(i.width)/t.offsetWidth||1,u=t.offsetHeight>0&&bh(i.height)/t.offsetHeight||1);var d=Vu(t)?ma(t):window,m=d.visualViewport,p=!nP()&&r,g=(i.left+(p&&m?m.offsetLeft:0))/l,x=(i.top+(p&&m?m.offsetTop:0))/u,y=i.width/l,S=i.height/u;return{width:y,height:S,top:x,right:g+y,bottom:x+S,left:g,x:g,y:x}}function v1(t){var n=Sh(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function rP(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&x1(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Nl(t){return ma(t).getComputedStyle(t)}function dG(t){return["table","td","th"].indexOf(qo(t))>=0}function $c(t){return((Vu(t)?t.ownerDocument:t.document)||window.document).documentElement}function hv(t){return qo(t)==="html"?t:t.assignedSlot||t.parentNode||(x1(t)?t.host:null)||$c(t)}function hT(t){return!za(t)||Nl(t).position==="fixed"?null:t.offsetParent}function hG(t){var n=/firefox/i.test(pb()),r=/Trident/i.test(pb());if(r&&za(t)){var i=Nl(t);if(i.position==="fixed")return null}var l=hv(t);for(x1(l)&&(l=l.host);za(l)&&["html","body"].indexOf(qo(l))<0;){var u=Nl(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function om(t){for(var n=ma(t),r=hT(t);r&&dG(r)&&Nl(r).position==="static";)r=hT(r);return r&&(qo(r)==="html"||qo(r)==="body"&&Nl(r).position==="static")?n:r||hG(t)||n}function y1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function jp(t,n,r){return Mu(t,Dx(n,r))}function fG(t,n,r){var i=jp(t,n,r);return i>r?r:i}function sP(){return{top:0,right:0,bottom:0,left:0}}function iP(t){return Object.assign({},sP(),t)}function aP(t,n){return n.reduce(function(r,i){return r[i]=t,r},{})}var pG=function(n,r){return n=typeof n=="function"?n(Object.assign({},r.rects,{placement:r.placement})):n,iP(typeof n!="number"?n:aP(n,am))};function mG(t){var n,r=t.state,i=t.name,l=t.options,u=r.elements.arrow,d=r.modifiersData.popperOffsets,m=Vo(r.placement),p=y1(m),g=[Ni,La].indexOf(m)>=0,x=g?"height":"width";if(!(!u||!d)){var y=pG(l.padding,r),S=v1(u),w=p==="y"?Ii:Ni,C=p==="y"?Na:La,_=r.rects.reference[x]+r.rects.reference[p]-d[p]-r.rects.popper[x],T=d[p]-r.rects.reference[p],R=om(u),D=R?p==="y"?R.clientHeight||0:R.clientWidth||0:0,k=_/2-T/2,N=y[w],M=D-S[x]-y[C],O=D/2-S[x]/2+k,H=jp(N,O,M),U=p;r.modifiersData[i]=(n={},n[U]=H,n.centerOffset=H-O,n)}}function gG(t){var n=t.state,r=t.options,i=r.element,l=i===void 0?"[data-popper-arrow]":i;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||rP(n.elements.popper,l)&&(n.elements.arrow=l))}const xG={name:"arrow",enabled:!0,phase:"main",fn:mG,effect:gG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wh(t){return t.split("-")[1]}var vG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yG(t,n){var r=t.x,i=t.y,l=n.devicePixelRatio||1;return{x:bh(r*l)/l||0,y:bh(i*l)/l||0}}function fT(t){var n,r=t.popper,i=t.popperRect,l=t.placement,u=t.variation,d=t.offsets,m=t.position,p=t.gpuAcceleration,g=t.adaptive,x=t.roundOffsets,y=t.isFixed,S=d.x,w=S===void 0?0:S,C=d.y,_=C===void 0?0:C,T=typeof x=="function"?x({x:w,y:_}):{x:w,y:_};w=T.x,_=T.y;var R=d.hasOwnProperty("x"),D=d.hasOwnProperty("y"),k=Ni,N=Ii,M=window;if(g){var O=om(r),H="clientHeight",U="clientWidth";if(O===ma(r)&&(O=$c(r),Nl(O).position!=="static"&&m==="absolute"&&(H="scrollHeight",U="scrollWidth")),O=O,l===Ii||(l===Ni||l===La)&&u===Fp){N=Na;var ae=y&&O===M&&M.visualViewport?M.visualViewport.height:O[H];_-=ae-i.height,_*=p?1:-1}if(l===Ni||(l===Ii||l===Na)&&u===Fp){k=La;var he=y&&O===M&&M.visualViewport?M.visualViewport.width:O[U];w-=he-i.width,w*=p?1:-1}}var le=Object.assign({position:m},g&&vG),de=x===!0?yG({x:w,y:_},ma(r)):{x:w,y:_};if(w=de.x,_=de.y,p){var Re;return Object.assign({},le,(Re={},Re[N]=D?"0":"",Re[k]=R?"0":"",Re.transform=(M.devicePixelRatio||1)<=1?"translate("+w+"px, "+_+"px)":"translate3d("+w+"px, "+_+"px, 0)",Re))}return Object.assign({},le,(n={},n[N]=D?_+"px":"",n[k]=R?w+"px":"",n.transform="",n))}function jG(t){var n=t.state,r=t.options,i=r.gpuAcceleration,l=i===void 0?!0:i,u=r.adaptive,d=u===void 0?!0:u,m=r.roundOffsets,p=m===void 0?!0:m,g={placement:Vo(n.placement),variation:wh(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,fT(Object.assign({},g,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,fT(Object.assign({},g,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const bG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jG,data:{}};var Dg={passive:!0};function SG(t){var n=t.state,r=t.instance,i=t.options,l=i.scroll,u=l===void 0?!0:l,d=i.resize,m=d===void 0?!0:d,p=ma(n.elements.popper),g=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&g.forEach(function(x){x.addEventListener("scroll",r.update,Dg)}),m&&p.addEventListener("resize",r.update,Dg),function(){u&&g.forEach(function(x){x.removeEventListener("scroll",r.update,Dg)}),m&&p.removeEventListener("resize",r.update,Dg)}}const wG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SG,data:{}};var CG={left:"right",right:"left",bottom:"top",top:"bottom"};function dx(t){return t.replace(/left|right|bottom|top/g,function(n){return CG[n]})}var EG={start:"end",end:"start"};function pT(t){return t.replace(/start|end/g,function(n){return EG[n]})}function j1(t){var n=ma(t),r=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:r,scrollTop:i}}function b1(t){return Sh($c(t)).left+j1(t).scrollLeft}function _G(t,n){var r=ma(t),i=$c(t),l=r.visualViewport,u=i.clientWidth,d=i.clientHeight,m=0,p=0;if(l){u=l.width,d=l.height;var g=nP();(g||!g&&n==="fixed")&&(m=l.offsetLeft,p=l.offsetTop)}return{width:u,height:d,x:m+b1(t),y:p}}function TG(t){var n,r=$c(t),i=j1(t),l=(n=t.ownerDocument)==null?void 0:n.body,u=Mu(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=Mu(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),m=-i.scrollLeft+b1(t),p=-i.scrollTop;return Nl(l||r).direction==="rtl"&&(m+=Mu(r.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:m,y:p}}function S1(t){var n=Nl(t),r=n.overflow,i=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+i)}function oP(t){return["html","body","#document"].indexOf(qo(t))>=0?t.ownerDocument.body:za(t)&&S1(t)?t:oP(hv(t))}function bp(t,n){var r;n===void 0&&(n=[]);var i=oP(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),u=ma(i),d=l?[u].concat(u.visualViewport||[],S1(i)?i:[]):i,m=n.concat(d);return l?m:m.concat(bp(hv(d)))}function mb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AG(t,n){var r=Sh(t,!1,n==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function mT(t,n,r){return n===eP?mb(_G(t,r)):Vu(n)?AG(n,r):mb(TG($c(t)))}function RG(t){var n=bp(hv(t)),r=["absolute","fixed"].indexOf(Nl(t).position)>=0,i=r&&za(t)?om(t):t;return Vu(i)?n.filter(function(l){return Vu(l)&&rP(l,i)&&qo(l)!=="body"}):[]}function kG(t,n,r,i){var l=n==="clippingParents"?RG(t):[].concat(n),u=[].concat(l,[r]),d=u[0],m=u.reduce(function(p,g){var x=mT(t,g,i);return p.top=Mu(x.top,p.top),p.right=Dx(x.right,p.right),p.bottom=Dx(x.bottom,p.bottom),p.left=Mu(x.left,p.left),p},mT(t,d,i));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function lP(t){var n=t.reference,r=t.element,i=t.placement,l=i?Vo(i):null,u=i?wh(i):null,d=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,p;switch(l){case Ii:p={x:d,y:n.y-r.height};break;case Na:p={x:d,y:n.y+n.height};break;case La:p={x:n.x+n.width,y:m};break;case Ni:p={x:n.x-r.width,y:m};break;default:p={x:n.x,y:n.y}}var g=l?y1(l):null;if(g!=null){var x=g==="y"?"height":"width";switch(u){case jh:p[g]=p[g]-(n[x]/2-r[x]/2);break;case Fp:p[g]=p[g]+(n[x]/2-r[x]/2);break}}return p}function Vp(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=i===void 0?t.placement:i,u=r.strategy,d=u===void 0?t.strategy:u,m=r.boundary,p=m===void 0?Xq:m,g=r.rootBoundary,x=g===void 0?eP:g,y=r.elementContext,S=y===void 0?Of:y,w=r.altBoundary,C=w===void 0?!1:w,_=r.padding,T=_===void 0?0:_,R=iP(typeof T!="number"?T:aP(T,am)),D=S===Of?Kq:Of,k=t.rects.popper,N=t.elements[C?D:S],M=kG(Vu(N)?N:N.contextElement||$c(t.elements.popper),p,x,d),O=Sh(t.elements.reference),H=lP({reference:O,element:k,placement:l}),U=mb(Object.assign({},k,H)),ae=S===Of?U:O,he={top:M.top-ae.top+R.top,bottom:ae.bottom-M.bottom+R.bottom,left:M.left-ae.left+R.left,right:ae.right-M.right+R.right},le=t.modifiersData.offset;if(S===Of&&le){var de=le[l];Object.keys(he).forEach(function(Re){var fe=[La,Na].indexOf(Re)>=0?1:-1,se=[Ii,Na].indexOf(Re)>=0?"y":"x";he[Re]+=de[se]*fe})}return he}function DG(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=r.boundary,u=r.rootBoundary,d=r.padding,m=r.flipVariations,p=r.allowedAutoPlacements,g=p===void 0?tP:p,x=wh(i),y=x?m?dT:dT.filter(function(C){return wh(C)===x}):am,S=y.filter(function(C){return g.indexOf(C)>=0});S.length===0&&(S=y);var w=S.reduce(function(C,_){return C[_]=Vp(t,{placement:_,boundary:l,rootBoundary:u,padding:d})[Vo(_)],C},{});return Object.keys(w).sort(function(C,_){return w[C]-w[_]})}function PG(t){if(Vo(t)===g1)return[];var n=dx(t);return[pT(t),n,pT(n)]}function MG(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!0:d,p=r.fallbackPlacements,g=r.padding,x=r.boundary,y=r.rootBoundary,S=r.altBoundary,w=r.flipVariations,C=w===void 0?!0:w,_=r.allowedAutoPlacements,T=n.options.placement,R=Vo(T),D=R===T,k=p||(D||!C?[dx(T)]:PG(T)),N=[T].concat(k).reduce(function(F,G){return F.concat(Vo(G)===g1?DG(n,{placement:G,boundary:x,rootBoundary:y,padding:g,flipVariations:C,allowedAutoPlacements:_}):G)},[]),M=n.rects.reference,O=n.rects.popper,H=new Map,U=!0,ae=N[0],he=0;he<N.length;he++){var le=N[he],de=Vo(le),Re=wh(le)===jh,fe=[Ii,Na].indexOf(de)>=0,se=fe?"width":"height",Y=Vp(n,{placement:le,boundary:x,rootBoundary:y,altBoundary:S,padding:g}),q=fe?Re?La:Ni:Re?Na:Ii;M[se]>O[se]&&(q=dx(q));var W=dx(q),Ee=[];if(u&&Ee.push(Y[de]<=0),m&&Ee.push(Y[q]<=0,Y[W]<=0),Ee.every(function(F){return F})){ae=le,U=!1;break}H.set(le,Ee)}if(U)for(var B=C?3:1,ie=function(G){var X=N.find(function(ye){var ve=H.get(ye);if(ve)return ve.slice(0,G).every(function(be){return be})});if(X)return ae=X,"break"},xe=B;xe>0;xe--){var $=ie(xe);if($==="break")break}n.placement!==ae&&(n.modifiersData[i]._skip=!0,n.placement=ae,n.reset=!0)}}const zG={name:"flip",enabled:!0,phase:"main",fn:MG,requiresIfExists:["offset"],data:{_skip:!1}};function gT(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function xT(t){return[Ii,La,Na,Ni].some(function(n){return t[n]>=0})}function IG(t){var n=t.state,r=t.name,i=n.rects.reference,l=n.rects.popper,u=n.modifiersData.preventOverflow,d=Vp(n,{elementContext:"reference"}),m=Vp(n,{altBoundary:!0}),p=gT(d,i),g=gT(m,l,u),x=xT(p),y=xT(g);n.modifiersData[r]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:x,hasPopperEscaped:y},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":y})}const NG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:IG};function LG(t,n,r){var i=Vo(t),l=[Ni,Ii].indexOf(i)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,d=u[0],m=u[1];return d=d||0,m=(m||0)*l,[Ni,La].indexOf(i)>=0?{x:m,y:d}:{x:d,y:m}}function OG(t){var n=t.state,r=t.options,i=t.name,l=r.offset,u=l===void 0?[0,0]:l,d=tP.reduce(function(x,y){return x[y]=LG(y,n.rects,u),x},{}),m=d[n.placement],p=m.x,g=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=g),n.modifiersData[i]=d}const BG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OG};function $G(t){var n=t.state,r=t.name;n.modifiersData[r]=lP({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const FG={name:"popperOffsets",enabled:!0,phase:"read",fn:$G,data:{}};function VG(t){return t==="x"?"y":"x"}function UG(t){var n=t.state,r=t.options,i=t.name,l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!1:d,p=r.boundary,g=r.rootBoundary,x=r.altBoundary,y=r.padding,S=r.tether,w=S===void 0?!0:S,C=r.tetherOffset,_=C===void 0?0:C,T=Vp(n,{boundary:p,rootBoundary:g,padding:y,altBoundary:x}),R=Vo(n.placement),D=wh(n.placement),k=!D,N=y1(R),M=VG(N),O=n.modifiersData.popperOffsets,H=n.rects.reference,U=n.rects.popper,ae=typeof _=="function"?_(Object.assign({},n.rects,{placement:n.placement})):_,he=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),le=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,de={x:0,y:0};if(O){if(u){var Re,fe=N==="y"?Ii:Ni,se=N==="y"?Na:La,Y=N==="y"?"height":"width",q=O[N],W=q+T[fe],Ee=q-T[se],B=w?-U[Y]/2:0,ie=D===jh?H[Y]:U[Y],xe=D===jh?-U[Y]:-H[Y],$=n.elements.arrow,F=w&&$?v1($):{width:0,height:0},G=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:sP(),X=G[fe],ye=G[se],ve=jp(0,H[Y],F[Y]),be=k?H[Y]/2-B-ve-X-he.mainAxis:ie-ve-X-he.mainAxis,He=k?-H[Y]/2+B+ve+ye+he.mainAxis:xe+ve+ye+he.mainAxis,ct=n.elements.arrow&&om(n.elements.arrow),Xe=ct?N==="y"?ct.clientTop||0:ct.clientLeft||0:0,dt=(Re=le?.[N])!=null?Re:0,Ue=q+be-dt-Xe,Ht=q+He-dt,we=jp(w?Dx(W,Ue):W,q,w?Mu(Ee,Ht):Ee);O[N]=we,de[N]=we-q}if(m){var Ke,Bt=N==="x"?Ii:Ni,ce=N==="x"?Na:La,je=O[M],it=M==="y"?"height":"width",It=je+T[Bt],zn=je-T[ce],dr=[Ii,Ni].indexOf(R)!==-1,We=(Ke=le?.[M])!=null?Ke:0,at=dr?It:je-H[it]-U[it]-We+he.altAxis,Lt=dr?je+H[it]+U[it]-We-he.altAxis:zn,Qe=w&&dr?fG(at,je,Lt):jp(w?at:It,je,w?Lt:zn);O[M]=Qe,de[M]=Qe-je}n.modifiersData[i]=de}}const HG={name:"preventOverflow",enabled:!0,phase:"main",fn:UG,requiresIfExists:["offset"]};function WG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function qG(t){return t===ma(t)||!za(t)?j1(t):WG(t)}function GG(t){var n=t.getBoundingClientRect(),r=bh(n.width)/t.offsetWidth||1,i=bh(n.height)/t.offsetHeight||1;return r!==1||i!==1}function YG(t,n,r){r===void 0&&(r=!1);var i=za(n),l=za(n)&&GG(n),u=$c(n),d=Sh(t,l,r),m={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!r)&&((qo(n)!=="body"||S1(u))&&(m=qG(n)),za(n)?(p=Sh(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):u&&(p.x=b1(u))),{x:d.left+m.scrollLeft-p.x,y:d.top+m.scrollTop-p.y,width:d.width,height:d.height}}function ZG(t){var n=new Map,r=new Set,i=[];t.forEach(function(u){n.set(u.name,u)});function l(u){r.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(m){if(!r.has(m)){var p=n.get(m);p&&l(p)}}),i.push(u)}return t.forEach(function(u){r.has(u.name)||l(u)}),i}function XG(t){var n=ZG(t);return oG.reduce(function(r,i){return r.concat(n.filter(function(l){return l.phase===i}))},[])}function KG(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function QG(t){var n=t.reduce(function(r,i){var l=r[i.name];return r[i.name]=l?Object.assign({},l,i,{options:Object.assign({},l.options,i.options),data:Object.assign({},l.data,i.data)}):i,r},{});return Object.keys(n).map(function(r){return n[r]})}var vT={placement:"bottom",modifiers:[],strategy:"absolute"};function yT(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function JG(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,i=r===void 0?[]:r,l=n.defaultOptions,u=l===void 0?vT:l;return function(m,p,g){g===void 0&&(g=u);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},vT,u),modifiersData:{},elements:{reference:m,popper:p},attributes:{},styles:{}},y=[],S=!1,w={state:x,setOptions:function(R){var D=typeof R=="function"?R(x.options):R;_(),x.options=Object.assign({},u,x.options,D),x.scrollParents={reference:Vu(m)?bp(m):m.contextElement?bp(m.contextElement):[],popper:bp(p)};var k=XG(QG([].concat(i,x.options.modifiers)));return x.orderedModifiers=k.filter(function(N){return N.enabled}),C(),w.update()},forceUpdate:function(){if(!S){var R=x.elements,D=R.reference,k=R.popper;if(yT(D,k)){x.rects={reference:YG(D,om(k),x.options.strategy==="fixed"),popper:v1(k)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(he){return x.modifiersData[he.name]=Object.assign({},he.data)});for(var N=0;N<x.orderedModifiers.length;N++){if(x.reset===!0){x.reset=!1,N=-1;continue}var M=x.orderedModifiers[N],O=M.fn,H=M.options,U=H===void 0?{}:H,ae=M.name;typeof O=="function"&&(x=O({state:x,options:U,name:ae,instance:w})||x)}}}},update:KG(function(){return new Promise(function(T){w.forceUpdate(),T(x)})}),destroy:function(){_(),S=!0}};if(!yT(m,p))return w;w.setOptions(g).then(function(T){!S&&g.onFirstUpdate&&g.onFirstUpdate(T)});function C(){x.orderedModifiers.forEach(function(T){var R=T.name,D=T.options,k=D===void 0?{}:D,N=T.effect;if(typeof N=="function"){var M=N({state:x,name:R,instance:w,options:k}),O=function(){};y.push(M||O)}})}function _(){y.forEach(function(T){return T()}),y=[]}return w}}var eY=[wG,FG,bG,uG,BG,zG,HG,xG,NG],tY=JG({defaultModifiers:eY});const Id=(t,n)=>({var:t,varRef:n?`var(${t}, ${n})`:`var(${t})`}),Bs={arrowShadowColor:Id("--popper-arrow-shadow-color"),arrowSize:Id("--popper-arrow-size","8px"),arrowSizeHalf:Id("--popper-arrow-size-half"),arrowBg:Id("--popper-arrow-bg"),transformOrigin:Id("--popper-transform-origin"),arrowOffset:Id("--popper-arrow-offset")};function nY(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const rY={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},sY=t=>rY[t],jT={scroll:!0,resize:!0};function iY(t){let n;return typeof t=="object"?n={enabled:!0,options:{...jT,...t}}:n={enabled:t,options:jT},n}const aY={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const n=t.elements.reference;t.elements.popper.style.width=`${n.offsetWidth}px`}},oY={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{bT(t)},effect:({state:t})=>()=>{bT(t)}},bT=t=>{t.elements.popper.style.setProperty(Bs.transformOrigin.var,sY(t.placement))},lY={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{cY(t)}},cY=t=>{if(!t.placement)return;const n=uY(t.placement);if(t.elements?.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:Bs.arrowSize.varRef,height:Bs.arrowSize.varRef,zIndex:-1});const r={[Bs.arrowSizeHalf.var]:`calc(${Bs.arrowSize.varRef} / 2 - 1px)`,[Bs.arrowOffset.var]:`calc(${Bs.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},uY=t=>{if(t.startsWith("top"))return{property:"bottom",value:Bs.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Bs.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Bs.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Bs.arrowOffset.varRef}},dY={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{ST(t)},effect:({state:t})=>()=>{ST(t)}},ST=t=>{if(!t.elements.arrow)return;const n=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!n)return;const r=nY(t.placement);r&&n.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(n.style,{transform:"rotate(45deg)",background:Bs.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},hY={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},fY={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function pY(t,n="ltr"){const r=hY[t]?.[n]||t;return n==="ltr"?r:fY[t]??r}function cP(t={}){const{enabled:n=!0,modifiers:r,placement:i="bottom",strategy:l="absolute",arrowPadding:u=8,eventListeners:d=!0,offset:m,gutter:p=8,flip:g=!0,boundary:x="clippingParents",preventOverflow:y=!0,matchWidth:S,direction:w="ltr"}=t,C=v.useRef(null),_=v.useRef(null),T=v.useRef(null),R=pY(i,w),D=v.useRef(()=>{}),k=v.useCallback(()=>{!n||!C.current||!_.current||(D.current?.(),T.current=tY(C.current,_.current,{placement:R,modifiers:[dY,lY,oY,{...aY,enabled:!!S},{name:"eventListeners",...iY(d)},{name:"arrow",options:{padding:u}},{name:"offset",options:{offset:m??[0,p]}},{name:"flip",enabled:!!g,options:{padding:8}},{name:"preventOverflow",enabled:!!y,options:{boundary:x}},...r??[]],strategy:l}),T.current.forceUpdate(),D.current=T.current.destroy)},[R,n,r,S,d,u,m,p,g,y,x,l]);v.useEffect(()=>()=>{!C.current&&!_.current&&(T.current?.destroy(),T.current=null)},[]);const N=v.useCallback(he=>{C.current=he,k()},[k]),M=v.useCallback((he={},le=null)=>({...he,ref:Xr(N,le)}),[N]),O=v.useCallback(he=>{_.current=he,k()},[k]),H=v.useCallback((he={},le=null)=>({...he,ref:Xr(O,le),style:{...he.style,position:l,minWidth:S?void 0:"max-content",inset:"0 auto auto 0"}}),[l,O,S]),U=v.useCallback((he={},le=null)=>{const{size:de,shadowColor:Re,bg:fe,style:se,...Y}=he;return{...Y,ref:le,"data-popper-arrow":"",style:mY(he)}},[]),ae=v.useCallback((he={},le=null)=>({...he,ref:le,"data-popper-arrow-inner":""}),[]);return{update(){T.current?.update()},forceUpdate(){T.current?.forceUpdate()},transformOrigin:Bs.transformOrigin.varRef,referenceRef:N,popperRef:O,getPopperProps:H,getArrowProps:U,getArrowInnerProps:ae,getReferenceProps:M}}function mY(t){const{size:n,shadowColor:r,bg:i,style:l}=t,u={...l,position:"absolute"};return n&&(u["--popper-arrow-size"]=n),r&&(u["--popper-arrow-shadow-color"]=r),i&&(u["--popper-arrow-bg"]=i),u}function gY(){const t=v.useRef(new Map),n=t.current,r=v.useCallback((l,u,d,m)=>{t.current.set(d,{type:u,el:l,options:m}),l.addEventListener(u,d,m)},[]),i=v.useCallback((l,u,d,m)=>{l.removeEventListener(u,d,m),t.current.delete(d)},[]);return v.useEffect(()=>()=>{n.forEach((l,u)=>{i(l.el,l.type,u,l.options)})},[i,n]),{add:r,remove:i}}function Ky(t){const n=t.composedPath?.()?.[0]??t.target,{tagName:r,isContentEditable:i}=n;return r!=="INPUT"&&r!=="TEXTAREA"&&i!==!0}function uP(t={}){const{ref:n,isDisabled:r,isFocusable:i,clickOnEnter:l=!0,clickOnSpace:u=!0,onMouseDown:d,onMouseUp:m,onClick:p,onKeyDown:g,onKeyUp:x,tabIndex:y,onMouseOver:S,onMouseLeave:w,...C}=t,[_,T]=v.useState(!0),[R,D]=v.useState(!1),k=gY(),N=q=>{q&&q.tagName!=="BUTTON"&&T(!1)},M=_?y:y||0,O=r&&!i,H=v.useCallback(q=>{if(r){q.stopPropagation(),q.preventDefault();return}q.currentTarget.focus(),p?.(q)},[r,p]),U=v.useCallback(q=>{R&&Ky(q)&&(q.preventDefault(),q.stopPropagation(),D(!1),k.remove(document,"keyup",U,!1))},[R,k]),ae=v.useCallback(q=>{if(g?.(q),r||q.defaultPrevented||q.metaKey||!Ky(q.nativeEvent)||_)return;const W=l&&q.key==="Enter";u&&q.key===" "&&(q.preventDefault(),D(!0)),W&&(q.preventDefault(),q.currentTarget.click()),k.add(document,"keyup",U,!1)},[r,_,g,l,u,k,U]),he=v.useCallback(q=>{if(x?.(q),r||q.defaultPrevented||q.metaKey||!Ky(q.nativeEvent)||_)return;u&&q.key===" "&&(q.preventDefault(),D(!1),q.currentTarget.click())},[u,_,r,x]),le=v.useCallback(q=>{q.button===0&&(D(!1),k.remove(document,"mouseup",le,!1))},[k]),de=v.useCallback(q=>{if(q.button!==0)return;if(r){q.stopPropagation(),q.preventDefault();return}_||D(!0),q.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",le,!1),d?.(q)},[r,_,d,k,le]),Re=v.useCallback(q=>{q.button===0&&(_||D(!1),m?.(q))},[m,_]),fe=v.useCallback(q=>{if(r){q.preventDefault();return}S?.(q)},[r,S]),se=v.useCallback(q=>{R&&(q.preventDefault(),D(!1)),w?.(q)},[R,w]),Y=Xr(n,N);return _?{...C,ref:Y,type:"button","aria-disabled":O?void 0:r,disabled:O,onClick:H,onMouseDown:d,onMouseUp:m,onKeyUp:x,onKeyDown:g,onMouseOver:S,onMouseLeave:w}:{...C,ref:Y,role:"button","data-active":Cn(R),"aria-disabled":r?"true":void 0,tabIndex:O?void 0:M,onClick:H,onMouseDown:de,onMouseUp:Re,onKeyUp:he,onKeyDown:ae,onMouseOver:fe,onMouseLeave:se}}const[xY,vY,yY,jY]=ov(),[bY,lm]=Hn({strict:!1,name:"MenuContext"});function dP(t){return t?.ownerDocument??document}function SY(t){return dP(t).activeElement===t}function wY(t={}){const{id:n,closeOnSelect:r=!0,closeOnBlur:i=!0,initialFocusRef:l,autoSelect:u=!0,isLazy:d,isOpen:m,defaultIsOpen:p,onClose:g,onOpen:x,placement:y="bottom-start",lazyBehavior:S="unmount",direction:w,computePositionOnMount:C=!1,..._}=t,T=v.useRef(null),R=v.useRef(null),D=v.useRef(!0),k=yY(),N=v.useCallback(()=>{requestAnimationFrame(()=>{T.current?.focus({preventScroll:!1})})},[]),M=v.useCallback(()=>{const $=setTimeout(()=>{if(l)l.current?.focus();else if(!k.count())T.current?.focus({preventScroll:!1});else{const F=k.firstEnabled();F&&fe(F.index)}});Ee.current.add($)},[k,l]),O=v.useCallback(()=>{const $=setTimeout(()=>{if(!k.count())T.current?.focus({preventScroll:!1});else{const F=k.lastEnabled();F&&fe(F.index)}});Ee.current.add($)},[k]),H=v.useCallback(()=>{x?.(),u?M():N()},[u,M,N,x]),{isOpen:U,onOpen:ae,onClose:he,onToggle:le}=Rt({isOpen:m,defaultIsOpen:p,onClose:g,onOpen:H});pL({enabled:U&&i,ref:T,handler:$=>{const F=$.composedPath?.()?.[0]??$.target;R.current?.contains(F)||he()}});const de=cP({..._,enabled:U||C,placement:y,direction:w}),[Re,fe]=v.useState(-1);lL(T,{focusRef:R,visible:U});const se=iL({isOpen:U,ref:T}),[Y,q]=uL(n,"menu-button","menu-list"),W=v.useCallback(()=>{ae(),N()},[ae,N]),Ee=v.useRef(new Set([]));v.useEffect(()=>{const $=Ee.current;return()=>{$.forEach(F=>clearTimeout(F)),$.clear()}},[]),Nu(()=>{U||(fe(-1),T.current?.scrollTo(0,0))},[U]),Nu(()=>{U&&Re===-1&&N()},[Re,U]),v.useEffect(()=>{if(!U)return;k.item(Re)?.node?.focus({preventScroll:!D.current})},[k,Re,U]);const B=v.useCallback(()=>{ae(),M()},[M,ae]),ie=v.useCallback(()=>{D.current=!0,ae(),O()},[ae,O]),xe=v.useCallback(()=>{const $=dP(T.current),F=T.current?.contains($.activeElement);if(!(U&&!F))return;k.item(Re)?.node?.focus({preventScroll:!D.current})},[U,Re,k]);return{openAndFocusMenu:W,openAndFocusFirstItem:B,openAndFocusLastItem:ie,onTransitionEnd:xe,unstable__animationState:se,descendants:k,popper:de,buttonId:Y,menuId:q,forceUpdate:de.forceUpdate,orientation:"vertical",isOpen:U,onToggle:le,onOpen:ae,onClose:he,menuRef:T,buttonRef:R,focusedIndex:Re,closeOnSelect:r,closeOnBlur:i,autoSelect:u,setFocusedIndex:fe,isLazy:d,lazyBehavior:S,initialFocusRef:l,scrollIntoViewRef:D}}function CY(t={},n=null){const r=lm(),{onToggle:i,popper:l,openAndFocusFirstItem:u,openAndFocusLastItem:d,scrollIntoViewRef:m}=r,p=v.useCallback(g=>{const x=g.key,S={Enter:u,ArrowDown:u,ArrowUp:d}[x];S&&(m.current=!0,g.preventDefault(),g.stopPropagation(),S(g))},[u,d,m]);return{...t,ref:Xr(r.buttonRef,n,l.referenceRef),id:r.buttonId,"data-active":Cn(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:sn(t.onClick,i),onKeyDown:sn(t.onKeyDown,p)}}function gb(t){return RY(t)&&!!t?.getAttribute("role")?.startsWith("menuitem")}function EY(t={},n=null){const r=lm();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:i,setFocusedIndex:l,menuRef:u,isOpen:d,onClose:m,menuId:p,isLazy:g,lazyBehavior:x,scrollIntoViewRef:y,unstable__animationState:S}=r,w=vY(),C=Zq({preventDefault:D=>D.key!==" "&&gb(D.target)}),_=v.useCallback(D=>{if(!D.currentTarget.contains(D.target))return;const k=D.key,M={Tab:H=>H.preventDefault(),Escape:H=>{H.stopPropagation(),m()},ArrowDown:()=>{y.current=!0;const H=w.nextEnabled(i)??w.firstEnabled();H&&l(H.index)},ArrowUp:()=>{y.current=!0;const H=w.prevEnabled(i)??w.firstEnabled();H&&l(H.index)}}[k];if(M){D.preventDefault(),M(D);return}const O=C(H=>{const U=Gq(w.values(),H,ae=>ae?.node?.textContent??"",w.item(i));if(U){const ae=w.indexOf(U.node);l(ae)}});gb(D.target)&&O(D)},[w,i,C,m,l,y]),T=v.useRef(!1);d&&(T.current=!0);const R=RA({wasSelected:T.current,enabled:g,mode:x,isSelected:S.present});return{...t,ref:Xr(u,n),children:R?t.children:null,tabIndex:-1,role:"menu",id:p,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:sn(t.onKeyDown,_)}}function _Y(t={}){const{popper:n,isOpen:r}=lm();return n.getPopperProps({...t,style:{visibility:r?"visible":"hidden",...t.style}})}function hP(t={},n=null){const{onMouseEnter:r,onMouseMove:i,onMouseLeave:l,onClick:u,onFocus:d,isDisabled:m,isFocusable:p,closeOnSelect:g,type:x,...y}=t,S=lm(),{setFocusedIndex:w,focusedIndex:C,closeOnSelect:_,onClose:T,menuId:R,scrollIntoViewRef:D}=S,k=v.useRef(null),N=`${R}-menuitem-${v.useId()}`,{index:M,register:O}=jY({disabled:m&&!p}),H=v.useCallback(fe=>{r?.(fe),!m&&(D.current=!1,w(M))},[w,M,m,r,D]),U=v.useCallback(fe=>{i?.(fe),k.current&&!SY(k.current)&&H(fe)},[H,i]),ae=v.useCallback(fe=>{l?.(fe),!m&&w(-1)},[w,m,l]),he=v.useCallback(fe=>{u?.(fe),gb(fe.currentTarget)&&(g??_)&&T()},[T,u,_,g]),le=v.useCallback(fe=>{d?.(fe),w(M)},[w,d,M]),de=M===C,Re=uP({onClick:he,onFocus:le,onMouseEnter:H,onMouseMove:U,onMouseLeave:ae,ref:Xr(O,k,n),isDisabled:m,isFocusable:p});return{...y,...Re,type:x??Re.type,id:N,role:"menuitem",tabIndex:de?0:-1}}function TY(t={},n=null){const{type:r="radio",isChecked:i,...l}=t;return{...hP(l,n),role:`menuitem${r}`,"aria-checked":i}}function AY(t={}){const{children:n,type:r="radio",value:i,defaultValue:l,onChange:u,...d}=t,p=r==="radio"?"":[],[g,x]=Kp({defaultValue:l??p,value:i,onChange:u}),y=v.useCallback(C=>{if(r==="radio"&&typeof g=="string"&&x(C),r==="checkbox"&&Array.isArray(g)){const _=g.includes(C)?g.filter(T=>T!==C):g.concat(C);x(_)}},[g,x,r]),w=Ic(n).map(C=>{if(C.type.id!=="MenuItemOption")return C;const _=R=>{y(C.props.value),C.props.onClick?.(R)},T=r==="radio"?C.props.value===g:g.includes(C.props.value);return v.cloneElement(C,{type:r,onClick:_,isChecked:T})});return{...d,children:w}}function RY(t){if(!kY(t))return!1;const n=t.ownerDocument.defaultView??window;return t instanceof n.HTMLElement}function kY(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[DY,Xu]=Hn({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Uo=t=>{const{children:n}=t,r=ls("Menu",t),i=Xn(t),{direction:l}=Zu(),{descendants:u,...d}=wY({...i,direction:l}),m=v.useMemo(()=>d,[d]),{isOpen:p,onClose:g,forceUpdate:x}=m;return e.jsx(xY,{value:u,children:e.jsx(bY,{value:m,children:e.jsx(DY,{value:r,children:ua(n,{isOpen:p,onClose:g,forceUpdate:x})})})})};Uo.displayName="Menu";const PY=tt((t,n)=>{const r=Xu();return e.jsx(Ve.button,{ref:n,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),Ho=tt((t,n)=>{const{children:r,as:i,...l}=t,u=CY(l,n),d=i||PY;return e.jsx(d,{...u,className:ht("chakra-menu__menu-button",t.className),children:e.jsx(Ve.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});Ho.displayName="MenuButton";const fP=tt((t,n)=>{const r=Xu();return e.jsx(Ve.span,{ref:n,...t,__css:r.command,className:"chakra-menu__command"})});fP.displayName="MenuCommand";const Px=t=>{const{className:n,...r}=t,i=Xu();return e.jsx(Ve.hr,{"aria-orientation":"horizontal",className:ht("chakra-menu__divider",n),...r,__css:i.divider})};Px.displayName="MenuDivider";const pP=tt((t,n)=>{const{title:r,children:i,className:l,...u}=t,d=ht("chakra-menu__group__title",l),m=Xu();return e.jsxs("div",{ref:n,className:"chakra-menu__group",role:"group",children:[r&&e.jsx(Ve.p,{className:d,...u,__css:m.groupTitle,children:r}),i]})});pP.displayName="MenuGroup";const Mx=t=>{const{className:n,children:r,...i}=t,l=Xu(),u=v.Children.only(r),d=v.isValidElement(u)?v.cloneElement(u,{focusable:"false","aria-hidden":!0,className:ht("chakra-menu__icon",u.props.className)}):null,m=ht("chakra-menu__icon-wrapper",n);return e.jsx(Ve.span,{className:m,...i,__css:l.icon,children:d})};Mx.displayName="MenuIcon";const mP=tt((t,n)=>{const{type:r,...i}=t,l=Xu(),u=i.as||r?r??void 0:"button",d=v.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...l.item}),[l.item]);return e.jsx(Ve.button,{ref:n,type:u,...i,__css:d})}),En=tt((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",command:l,commandSpacing:u="0.75rem",children:d,...m}=t,p=hP(m,n),x=r||l?e.jsx("span",{style:{pointerEvents:"none",flex:1},children:d}):d;return e.jsxs(mP,{...p,className:ht("chakra-menu__menuitem",p.className),children:[r&&e.jsx(Mx,{fontSize:"0.8em",marginEnd:i,children:r}),x,l&&e.jsx(fP,{marginStart:u,children:l})]})});En.displayName="MenuItem";const wT=t=>e.jsx("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...t,children:e.jsx("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),ca=tt((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",iconPlacement:l="start",...u}=t,d=TY(u,n);return e.jsxs(mP,{...d,className:ht("chakra-menu__menuitem-option",u.className),children:[r!==null&&l==="start"&&e.jsx(Mx,{fontSize:"0.8em",marginEnd:i,opacity:t.isChecked?1:0,children:r||e.jsx(wT,{})}),e.jsx("span",{style:{flex:1},children:d.children}),r!==null&&l==="end"&&e.jsx(Mx,{fontSize:"0.8em",marginStart:i,opacity:t.isChecked?1:0,children:r||e.jsx(wT,{})})]})});ca.id="MenuItemOption";ca.displayName="MenuItemOption";const MY={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},zY=Ve(Yo.div),Wo=tt(function(n,r){const{rootProps:i,motionProps:l,...u}=n,{isOpen:d,onTransitionEnd:m,unstable__animationState:p}=lm(),g=EY(u,r),x=_Y(i),y=Xu();return e.jsx(Ve.div,{...x,__css:{zIndex:n.zIndex??y.list?.zIndex},children:e.jsx(zY,{variants:MY,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...y.list},...l,...g,className:ht("chakra-menu__menu-list",g.className),onUpdate:m,onAnimationComplete:EA(p.onComplete,g.onAnimationComplete)})})});Wo.displayName="MenuList";const gP=t=>{const{className:n,title:r,...i}=t,l=AY(i);return e.jsx(pP,{title:r,className:ht("chakra-menu__option-group",n),...l})};gP.displayName="MenuOptionGroup";var IY=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},Nd=new WeakMap,Pg=new WeakMap,Mg={},Qy=0,xP=function(t){return t&&(t.host||xP(t.parentNode))},NY=function(t,n){return n.map(function(r){if(t.contains(r))return r;var i=xP(r);return i&&t.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},LY=function(t,n,r,i){var l=NY(n,Array.isArray(t)?t:[t]);Mg[r]||(Mg[r]=new WeakMap);var u=Mg[r],d=[],m=new Set,p=new Set(l),g=function(y){!y||m.has(y)||(m.add(y),g(y.parentNode))};l.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(S){if(m.has(S))x(S);else try{var w=S.getAttribute(i),C=w!==null&&w!=="false",_=(Nd.get(S)||0)+1,T=(u.get(S)||0)+1;Nd.set(S,_),u.set(S,T),d.push(S),_===1&&C&&Pg.set(S,!0),T===1&&S.setAttribute(r,"true"),C||S.setAttribute(i,"true")}catch(R){console.error("aria-hidden: cannot operate on ",S,R)}})};return x(n),m.clear(),Qy++,function(){d.forEach(function(y){var S=Nd.get(y)-1,w=u.get(y)-1;Nd.set(y,S),u.set(y,w),S||(Pg.has(y)||y.removeAttribute(i),Pg.delete(y)),w||y.removeAttribute(r)}),Qy--,Qy||(Nd=new WeakMap,Nd=new WeakMap,Pg=new WeakMap,Mg={})}},OY=function(t,n,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),l=IY(t);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live], script"))),LY(i,l,r,"aria-hidden")):function(){return null}},BY=Object.defineProperty,$Y=(t,n,r)=>n in t?BY(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,FY=(t,n,r)=>($Y(t,n+"",r),r);class VY{constructor(){FY(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const r=Array.from(this.modals)[this.modals.size-1];return n===r}}const xb=new VY;function vP(t,n){const[r,i]=v.useState(0);return v.useEffect(()=>{const l=t.current;if(l){if(n){const u=xb.add(l);i(u)}return()=>{xb.remove(l),i(0)}}},[n,t]),r}function UY(t){const{isOpen:n,onClose:r,id:i,closeOnOverlayClick:l=!0,closeOnEsc:u=!0,useInert:d=!0,onOverlayClick:m,onEsc:p}=t,g=v.useRef(null),x=v.useRef(null),[y,S,w]=WY(i,"chakra-modal","chakra-modal--header","chakra-modal--body");HY(g,n&&d);const C=vP(g,n),_=v.useRef(null),T=v.useCallback(ae=>{_.current=ae.target},[]),R=v.useCallback(ae=>{ae.key==="Escape"&&(ae.stopPropagation(),u&&r?.(),p?.())},[u,r,p]),[D,k]=v.useState(!1),[N,M]=v.useState(!1),O=v.useCallback((ae={},he=null)=>({role:"dialog",...ae,ref:Xr(he,g),id:y,tabIndex:-1,"aria-modal":!0,"aria-labelledby":D?S:void 0,"aria-describedby":N?w:void 0,onClick:sn(ae.onClick,le=>le.stopPropagation())}),[w,N,y,S,D]),H=v.useCallback(ae=>{ae.stopPropagation(),_.current===ae.target&&xb.isTopModal(g.current)&&(l&&r?.(),m?.())},[r,l,m]),U=v.useCallback((ae={},he=null)=>({...ae,ref:Xr(he,x),onClick:sn(ae.onClick,H),onKeyDown:sn(ae.onKeyDown,R),onMouseDown:sn(ae.onMouseDown,T)}),[R,T,H]);return{isOpen:n,onClose:r,headerId:S,bodyId:w,setBodyMounted:M,setHeaderMounted:k,dialogRef:g,overlayRef:x,getDialogProps:O,getDialogContainerProps:U,index:C}}function HY(t,n){const r=t.current;v.useEffect(()=>{if(!(!t.current||!n))return OY(t.current)},[n,t,r])}function WY(t,...n){const r=v.useId(),i=t||r;return v.useMemo(()=>n.map(l=>`${l}-${i}`),[i,n])}const[qY,Ku]=Hn({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[GY,Pc]=Hn({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),wt=t=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:r,children:i,autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:y,motionPreset:S,lockFocusAcrossFrames:w,animatePresenceProps:C,onCloseComplete:_}=n,T=ls("Modal",n),D={...UY(n),autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:y,motionPreset:S,lockFocusAcrossFrames:w};return e.jsx(GY,{value:D,children:e.jsx(qY,{value:T,children:e.jsx(Lc,{...C,onExitComplete:_,children:D.isOpen&&e.jsx(kh,{...r,children:i})})})})};wt.displayName="Modal";var hx="right-scroll-bar-position",fx="width-before-scroll-bar",YY="with-scroll-bars-hidden",ZY="--removed-body-scroll-bar-size",yP=SD(),Jy=function(){},fv=v.forwardRef(function(t,n){var r=v.useRef(null),i=v.useState({onScrollCapture:Jy,onWheelCapture:Jy,onTouchMoveCapture:Jy}),l=i[0],u=i[1],d=t.forwardProps,m=t.children,p=t.className,g=t.removeScrollBar,x=t.enabled,y=t.shards,S=t.sideCar,w=t.noRelative,C=t.noIsolation,_=t.inert,T=t.allowPinchZoom,R=t.as,D=R===void 0?"div":R,k=t.gapMode,N=yD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=S,O=vD([r,n]),H=No(No({},N),l);return v.createElement(v.Fragment,null,x&&v.createElement(M,{sideCar:yP,removeScrollBar:g,shards:y,noRelative:w,noIsolation:C,inert:_,setCallbacks:u,allowPinchZoom:!!T,lockRef:r,gapMode:k}),d?v.cloneElement(v.Children.only(m),No(No({},H),{ref:O})):v.createElement(D,No({},H,{className:p,ref:O}),m))});fv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fv.classNames={fullWidth:fx,zeroRight:hx};var XY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=XY();return n&&t.setAttribute("nonce",n),t}function QY(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function JY(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var eZ=function(){var t=0,n=null;return{add:function(r){t==0&&(n=KY())&&(QY(n,r),JY(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},tZ=function(){var t=eZ();return function(n,r){v.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},jP=function(){var t=tZ(),n=function(r){var i=r.styles,l=r.dynamic;return t(i,l),null};return n},nZ={left:0,top:0,right:0,gap:0},ej=function(t){return parseInt(t||"",10)||0},rZ=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],i=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[ej(r),ej(i),ej(l)]},sZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nZ;var n=rZ(t),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-r+n[2]-n[0])}},iZ=jP(),lh="data-scroll-locked",aZ=function(t,n,r,i){var l=t.left,u=t.top,d=t.right,m=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(YY,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(m,"px ").concat(i,`;
  }
  body[`).concat(lh,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hx,` {
    right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(fx,` {
    margin-right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(hx," .").concat(hx,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(fx," .").concat(fx,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(lh,`] {
    `).concat(ZY,": ").concat(m,`px;
  }
`)},CT=function(){var t=parseInt(document.body.getAttribute(lh)||"0",10);return isFinite(t)?t:0},oZ=function(){v.useEffect(function(){return document.body.setAttribute(lh,(CT()+1).toString()),function(){var t=CT()-1;t<=0?document.body.removeAttribute(lh):document.body.setAttribute(lh,t.toString())}},[])},lZ=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,l=i===void 0?"margin":i;oZ();var u=v.useMemo(function(){return sZ(l)},[l]);return v.createElement(iZ,{styles:aZ(u,!n,l,r?"":"!important")})},vb=!1;if(typeof window<"u")try{var zg=Object.defineProperty({},"passive",{get:function(){return vb=!0,!0}});window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch{vb=!1}var Ld=vb?{passive:!1}:!1,cZ=function(t){return t.tagName==="TEXTAREA"},bP=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!cZ(t)&&r[n]==="visible")},uZ=function(t){return bP(t,"overflowY")},dZ=function(t){return bP(t,"overflowX")},ET=function(t,n){var r=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=SP(t,i);if(l){var u=wP(t,i),d=u[1],m=u[2];if(d>m)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},hZ=function(t){var n=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;return[n,r,i]},fZ=function(t){var n=t.scrollLeft,r=t.scrollWidth,i=t.clientWidth;return[n,r,i]},SP=function(t,n){return t==="v"?uZ(n):dZ(n)},wP=function(t,n){return t==="v"?hZ(n):fZ(n)},pZ=function(t,n){return t==="h"&&n==="rtl"?-1:1},mZ=function(t,n,r,i,l){var u=pZ(t,window.getComputedStyle(n).direction),d=u*i,m=r.target,p=n.contains(m),g=!1,x=d>0,y=0,S=0;do{if(!m)break;var w=wP(t,m),C=w[0],_=w[1],T=w[2],R=_-T-u*C;(C||R)&&SP(t,m)&&(y+=R,S+=C);var D=m.parentNode;m=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!p&&m!==document.body||p&&(n.contains(m)||n===m));return(x&&Math.abs(y)<1||!x&&Math.abs(S)<1)&&(g=!0),g},Ig=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_T=function(t){return[t.deltaX,t.deltaY]},TT=function(t){return t&&"current"in t?t.current:t},gZ=function(t,n){return t[0]===n[0]&&t[1]===n[1]},xZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vZ=0,Od=[];function yZ(t){var n=v.useRef([]),r=v.useRef([0,0]),i=v.useRef(),l=v.useState(vZ++)[0],u=v.useState(jP)[0],d=v.useRef(t);v.useEffect(function(){d.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var _=wW([t.lockRef.current],(t.shards||[]).map(TT),!0).filter(Boolean);return _.forEach(function(T){return T.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),_.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var m=v.useCallback(function(_,T){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!d.current.allowPinchZoom;var R=Ig(_),D=r.current,k="deltaX"in _?_.deltaX:D[0]-R[0],N="deltaY"in _?_.deltaY:D[1]-R[1],M,O=_.target,H=Math.abs(k)>Math.abs(N)?"h":"v";if("touches"in _&&H==="h"&&O.type==="range")return!1;var U=ET(H,O);if(!U)return!0;if(U?M=H:(M=H==="v"?"h":"v",U=ET(H,O)),!U)return!1;if(!i.current&&"changedTouches"in _&&(k||N)&&(i.current=M),!M)return!0;var ae=i.current||M;return mZ(ae,T,_,ae==="h"?k:N)},[]),p=v.useCallback(function(_){var T=_;if(!(!Od.length||Od[Od.length-1]!==u)){var R="deltaY"in T?_T(T):Ig(T),D=n.current.filter(function(M){return M.name===T.type&&(M.target===T.target||T.target===M.shadowParent)&&gZ(M.delta,R)})[0];if(D&&D.should){T.cancelable&&T.preventDefault();return}if(!D){var k=(d.current.shards||[]).map(TT).filter(Boolean).filter(function(M){return M.contains(T.target)}),N=k.length>0?m(T,k[0]):!d.current.noIsolation;N&&T.cancelable&&T.preventDefault()}}},[]),g=v.useCallback(function(_,T,R,D){var k={name:_,delta:T,target:R,should:D,shadowParent:jZ(R)};n.current.push(k),setTimeout(function(){n.current=n.current.filter(function(N){return N!==k})},1)},[]),x=v.useCallback(function(_){r.current=Ig(_),i.current=void 0},[]),y=v.useCallback(function(_){g(_.type,_T(_),_.target,m(_,t.lockRef.current))},[]),S=v.useCallback(function(_){g(_.type,Ig(_),_.target,m(_,t.lockRef.current))},[]);v.useEffect(function(){return Od.push(u),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Ld),document.addEventListener("touchmove",p,Ld),document.addEventListener("touchstart",x,Ld),function(){Od=Od.filter(function(_){return _!==u}),document.removeEventListener("wheel",p,Ld),document.removeEventListener("touchmove",p,Ld),document.removeEventListener("touchstart",x,Ld)}},[]);var w=t.removeScrollBar,C=t.inert;return v.createElement(v.Fragment,null,C?v.createElement(u,{styles:xZ(l)}):null,w?v.createElement(lZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jZ(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const bZ=CW(yP,yZ);var CP=v.forwardRef(function(t,n){return v.createElement(fv,No({},t,{ref:n,sideCar:bZ}))});CP.classNames=fv.classNames;function EP(t){const{autoFocus:n,trapFocus:r,dialogRef:i,initialFocusRef:l,blockScrollOnMount:u,allowPinchZoom:d,finalFocusRef:m,returnFocusOnClose:p,preserveScrollBarGap:g,lockFocusAcrossFrames:x,isOpen:y}=Pc(),[S,w]=dS();v.useEffect(()=>{!S&&w&&setTimeout(w)},[S,w]);const C=vP(i,y);return e.jsx(ZD,{autoFocus:n,isDisabled:!r,initialFocusRef:l,finalFocusRef:m,restoreFocus:p,contentRef:i,lockFocusAcrossFrames:x,children:e.jsx(CP,{removeScrollBar:!g,allowPinchZoom:d,enabled:C===1&&u,forwardProps:!0,children:t.children})})}const SZ={initial:({offsetX:t,offsetY:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,x:t,y:n,transition:r?.exit??ro.exit(Du.exit,l),transitionEnd:i?.exit}),enter:({transition:t,transitionEnd:n,delay:r})=>({opacity:1,x:0,y:0,transition:t?.enter??ro.enter(Du.enter,r),transitionEnd:n?.enter}),exit:({offsetY:t,offsetX:n,transition:r,transitionEnd:i,reverse:l,delay:u})=>{const d={x:n,y:t};return{opacity:0,transition:r?.exit??ro.exit(Du.exit,u),...l?{...d,transitionEnd:i?.exit}:{transitionEnd:{...d,...i?.exit}}}}},sp={initial:"initial",animate:"enter",exit:"exit",variants:SZ},wZ=v.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,className:d,offsetX:m=0,offsetY:p=8,transition:g,transitionEnd:x,delay:y,animatePresenceProps:S,...w}=n,C=i?l&&i:!0,_=l||i?"enter":"exit",T={offsetX:m,offsetY:p,reverse:u,transition:g,transitionEnd:x,delay:y};return e.jsx(Lc,{...S,custom:T,children:C&&e.jsx(Yo.div,{ref:r,className:ht("chakra-offset-slide",d),custom:T,...sp,animate:_,...w})})});wZ.displayName="SlideFade";const CZ={exit:({reverse:t,initialScale:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,...t?{scale:n,transitionEnd:i?.exit}:{transitionEnd:{scale:n,...i?.exit}},transition:r?.exit??ro.exit(Du.exit,l)}),enter:({transitionEnd:t,transition:n,delay:r})=>({opacity:1,scale:1,transition:n?.enter??ro.enter(Du.enter,r),transitionEnd:t?.enter})},_P={initial:"exit",animate:"enter",exit:"exit",variants:CZ},EZ=v.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,initialScale:d=.95,className:m,transition:p,transitionEnd:g,delay:x,animatePresenceProps:y,...S}=n,w=i?l&&i:!0,C=l||i?"enter":"exit",_={initialScale:d,reverse:u,transition:p,transitionEnd:g,delay:x};return e.jsx(Lc,{...y,custom:_,children:w&&e.jsx(Yo.div,{ref:r,className:ht("chakra-offset-slide",m),..._P,animate:C,custom:_,...S})})});EZ.displayName="ScaleFade";const _Z={slideInBottom:{...sp,custom:{offsetY:16,reverse:!0}},slideInRight:{...sp,custom:{offsetX:16,reverse:!0}},slideInTop:{...sp,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...sp,custom:{offsetX:-16,reverse:!0}},scale:{..._P,custom:{initialScale:.95,reverse:!0}},none:{}},TZ=Ve(Yo.section),AZ=t=>_Z[t||"none"],TP=v.forwardRef((t,n)=>{const{preset:r,motionProps:i=AZ(r),...l}=t;return e.jsx(TZ,{ref:n,...i,...l})});TP.displayName="ModalTransition";const kt=tt((t,n)=>{const{className:r,children:i,containerProps:l,motionProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p}=Pc(),g=m(d,n),x=p(l),y=ht("chakra-modal__content",r),S=Ku(),w={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...S.dialog},C={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...S.dialogContainer},{motionPreset:_}=Pc();return e.jsx(EP,{children:e.jsx(Ve.div,{...x,className:"chakra-modal__content-container",tabIndex:-1,__css:C,children:e.jsx(TP,{preset:_,motionProps:u,className:y,...g,__css:w,children:i})})})});kt.displayName="ModalContent";const Ct=tt((t,n)=>{const{className:r,...i}=t,{bodyId:l,setBodyMounted:u}=Pc();v.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=ht("chakra-modal__body",r),m=Ku();return e.jsx(Ve.div,{ref:n,className:d,id:l,...i,__css:m.body})});Ct.displayName="ModalBody";const $t=tt((t,n)=>{const{onClick:r,className:i,...l}=t,{onClose:u}=Pc(),d=ht("chakra-modal__close-btn",i),m=Ku();return e.jsx(WS,{ref:n,__css:m.closeButton,className:d,onClick:sn(r,p=>{p.stopPropagation(),u()}),...l})});$t.displayName="ModalCloseButton";const Ft=tt((t,n)=>{const{className:r,...i}=t,l=ht("chakra-modal__footer",r),u=Ku(),d={display:"flex",alignItems:"center",justifyContent:"flex-end",...u.footer};return e.jsx(Ve.footer,{ref:n,...i,__css:d,className:l})});Ft.displayName="ModalFooter";const Et=tt((t,n)=>{const{className:r,...i}=t,{headerId:l,setHeaderMounted:u}=Pc();v.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=ht("chakra-modal__header",r),m=Ku(),p={flex:0,...m.header};return e.jsx(Ve.header,{ref:n,className:d,id:l,...i,__css:p})});Et.displayName="ModalHeader";const RZ={enter:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:1,transition:t?.enter??ro.enter(Du.enter,r),transitionEnd:n?.enter}),exit:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:0,transition:t?.exit??ro.exit(Du.exit,r),transitionEnd:n?.exit})},AP={initial:"exit",animate:"enter",exit:"exit",variants:RZ},kZ=v.forwardRef(function(n,r){const{unmountOnExit:i,in:l,className:u,transition:d,transitionEnd:m,delay:p,animatePresenceProps:g,...x}=n,y=l||i?"enter":"exit",S=i?l&&i:!0,w={transition:d,transitionEnd:m,delay:p};return e.jsx(Lc,{...g,custom:w,children:S&&e.jsx(Yo.div,{ref:r,className:ht("chakra-fade",u),custom:w,...AP,animate:y,...x})})});kZ.displayName="Fade";const DZ=Ve(Yo.div),_t=tt((t,n)=>{const{className:r,transition:i,motionProps:l,...u}=t,d=ht("chakra-modal__overlay",r),p={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Ku().overlay},{motionPreset:g}=Pc(),y=l||(g==="none"?{}:AP);return e.jsx(DZ,{...y,__css:p,ref:n,className:d,...u})});_t.displayName="ModalOverlay";function PZ(t){const{leastDestructiveRef:n,...r}=t;return e.jsx(wt,{...r,initialFocusRef:n})}const MZ=tt((t,n)=>e.jsx(kt,{ref:n,role:"alertdialog",...t})),[zZ,IZ]=Hn(),NZ={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function LZ(t,n){if(t)return NZ[t]?.[n]??t}function OZ(t){const{isOpen:n,onClose:r,placement:i="right",children:l,...u}=t,d=Zu(),m=d.components?.Drawer,p=LZ(i,d.direction);return e.jsx(zZ,{value:{placement:p},children:e.jsx(wt,{isOpen:n,onClose:r,styleConfig:m,...u,children:l})})}const AT={exit:{duration:.15,ease:Su.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},BZ={exit:({direction:t,transition:n,transitionEnd:r,delay:i})=>{const{exit:l}=Jj({direction:t});return{...l,transition:n?.exit??ro.exit(AT.exit,i),transitionEnd:r?.exit}},enter:({direction:t,transitionEnd:n,transition:r,delay:i})=>{const{enter:l}=Jj({direction:t});return{...l,transition:r?.enter??ro.enter(AT.enter,i),transitionEnd:n?.enter}}},RP=v.forwardRef(function(n,r){const{direction:i="right",style:l,unmountOnExit:u,in:d,className:m,transition:p,transitionEnd:g,delay:x,motionProps:y,animatePresenceProps:S,...w}=n,C=Jj({direction:i}),_=Object.assign({position:"fixed"},C.position,l),T=u?d&&u:!0,R=d||u?"enter":"exit",D={transitionEnd:g,transition:p,direction:i,delay:x};return e.jsx(Lc,{...S,custom:D,children:T&&e.jsx(Yo.div,{...w,ref:r,initial:"exit",className:ht("chakra-slide",m),animate:R,exit:"exit",custom:D,variants:BZ,style:_,...y})})});RP.displayName="Slide";const $Z=Ve(RP),kP=tt((t,n)=>{const{className:r,children:i,motionProps:l,containerProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p,isOpen:g}=Pc(),x=m(d,n),y=p(u),S=ht("chakra-modal__content",r),w=Ku(),C={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...w.dialog},_={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...w.dialogContainer},{placement:T}=IZ();return e.jsx(EP,{children:e.jsx(Ve.div,{...y,className:"chakra-modal__content-container",__css:_,children:e.jsx($Z,{motionProps:l,direction:T,in:g,className:S,...x,__css:C,children:i})})})});kP.displayName="DrawerContent";const FZ=t=>e.jsx(Mn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),VZ=t=>e.jsx(Mn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function RT(t,n,r,i){v.useEffect(()=>{if(!t.current||!i)return;const l=t.current.ownerDocument.defaultView??window,u=Array.isArray(n)?n:[n],d=new l.MutationObserver(m=>{for(const p of m)p.type==="attributes"&&p.attributeName&&u.includes(p.attributeName)&&r(p)});return d.observe(t.current,{attributes:!0,attributeFilter:u}),()=>d.disconnect()})}const UZ=50,kT=300;function HZ(t,n){const[r,i]=v.useState(!1),[l,u]=v.useState(null),[d,m]=v.useState(!0),p=v.useRef(null),g=()=>clearTimeout(p.current);dL(()=>{l==="increment"&&t(),l==="decrement"&&n()},r?UZ:null);const x=v.useCallback(()=>{d&&t(),p.current=setTimeout(()=>{m(!1),i(!0),u("increment")},kT)},[t,d]),y=v.useCallback(()=>{d&&n(),p.current=setTimeout(()=>{m(!1),i(!0),u("decrement")},kT)},[n,d]),S=v.useCallback(()=>{m(!0),i(!1),g()},[]);return v.useEffect(()=>()=>g(),[]),{up:x,down:y,stop:S,isSpinning:r}}const WZ=/^[Ee0-9+\-.]$/;function qZ(t){return WZ.test(t)}function GZ(t,n){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:n(t.key)}function YZ(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:i=!0,min:l=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:m,isDisabled:p,isRequired:g,isInvalid:x,pattern:y="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:w,id:C,onChange:_,precision:T,name:R,"aria-describedby":D,"aria-label":k,"aria-labelledby":N,onFocus:M,onBlur:O,onInvalid:H,getAriaValueText:U,isValidCharacter:ae,format:he,parse:le,...de}=t,Re=ms(M),fe=ms(O),se=ms(H),Y=ms(ae??qZ),q=ms(U),W=aL(t),{update:Ee,increment:B,decrement:ie}=W,[xe,$]=v.useState(!1),F=!(m||p),G=v.useRef(null),X=v.useRef(null),ye=v.useRef(null),ve=v.useRef(null),be=v.useCallback(Qe=>Qe.split("").filter(Y).join(""),[Y]),He=v.useCallback(Qe=>le?.(Qe)??Qe,[le]),ct=v.useCallback(Qe=>(he?.(Qe)??Qe).toString(),[he]);Nu(()=>{(W.valueAsNumber>u||W.valueAsNumber<l)&&se?.("rangeOverflow",ct(W.value),W.valueAsNumber)},[W.valueAsNumber,W.value,ct,se]),Al(()=>{if(!G.current)return;if(G.current.value!=W.value){const bt=He(G.current.value);W.setValue(be(bt))}},[He,be]);const Xe=v.useCallback((Qe=d)=>{F&&B(Qe)},[B,F,d]),dt=v.useCallback((Qe=d)=>{F&&ie(Qe)},[ie,F,d]),Ue=HZ(Xe,dt);RT(ye,"disabled",Ue.stop,Ue.isSpinning),RT(ve,"disabled",Ue.stop,Ue.isSpinning);const Ht=v.useCallback(Qe=>{if(Qe.nativeEvent.isComposing)return;const In=He(Qe.currentTarget.value);Ee(be(In)),X.current={start:Qe.currentTarget.selectionStart,end:Qe.currentTarget.selectionEnd}},[Ee,be,He]),we=v.useCallback(Qe=>{Re?.(Qe),X.current&&(Qe.currentTarget.selectionStart=X.current.start??Qe.currentTarget.value?.length,Qe.currentTarget.selectionEnd=X.current.end??Qe.currentTarget.selectionStart)},[Re]),Ke=v.useCallback(Qe=>{if(Qe.nativeEvent.isComposing)return;GZ(Qe,Y)||Qe.preventDefault();const bt=Bt(Qe)*d,In=Qe.key,Mt={ArrowUp:()=>Xe(bt),ArrowDown:()=>dt(bt),Home:()=>Ee(l),End:()=>Ee(u)}[In];Mt&&(Qe.preventDefault(),Mt(Qe))},[Y,d,Xe,dt,Ee,l,u]),Bt=Qe=>{let bt=1;return(Qe.metaKey||Qe.ctrlKey)&&(bt=.1),Qe.shiftKey&&(bt=10),bt},ce=v.useMemo(()=>{const Qe=q?.(W.value);if(Qe!=null)return Qe;const bt=W.value.toString();return bt||void 0},[W.value,q]),je=v.useCallback(()=>{let Qe=W.value;if(W.value==="")return;/^[eE]/.test(W.value.toString())?W.setValue(""):(W.valueAsNumber<l&&(Qe=l),W.valueAsNumber>u&&(Qe=u),W.cast(Qe))},[W,u,l]),it=v.useCallback(()=>{$(!1),r&&je()},[r,$,je]),It=v.useCallback(()=>{n&&requestAnimationFrame(()=>{G.current?.focus()})},[n]),zn=v.useCallback(Qe=>{Qe.preventDefault(),Ue.up(),It()},[It,Ue]),dr=v.useCallback(Qe=>{Qe.preventDefault(),Ue.down(),It()},[It,Ue]);cp(()=>G.current,"wheel",Qe=>{const In=(G.current?.ownerDocument??document).activeElement===G.current;if(!w||!In)return;Qe.preventDefault();const Ye=Bt(Qe)*d,Mt=Math.sign(Qe.deltaY);Mt===-1?Xe(Ye):Mt===1&&dt(Ye)},{passive:!1});const We=v.useCallback((Qe={},bt=null)=>{const In=p||i&&W.isAtMax;return{...Qe,ref:Xr(bt,ye),role:"button",tabIndex:-1,onPointerDown:sn(Qe.onPointerDown,Ye=>{Ye.button!==0||In||zn(Ye)}),onPointerLeave:sn(Qe.onPointerLeave,Ue.stop),onPointerUp:sn(Qe.onPointerUp,Ue.stop),disabled:In,"aria-disabled":_u(In)}},[W.isAtMax,i,zn,Ue.stop,p]),at=v.useCallback((Qe={},bt=null)=>{const In=p||i&&W.isAtMin;return{...Qe,ref:Xr(bt,ve),role:"button",tabIndex:-1,onPointerDown:sn(Qe.onPointerDown,Ye=>{Ye.button!==0||In||dr(Ye)}),onPointerLeave:sn(Qe.onPointerLeave,Ue.stop),onPointerUp:sn(Qe.onPointerUp,Ue.stop),disabled:In,"aria-disabled":_u(In)}},[W.isAtMin,i,dr,Ue.stop,p]),Lt=v.useCallback((Qe={},bt=null)=>({name:R,inputMode:S,type:"text",pattern:y,"aria-labelledby":N,"aria-label":k,"aria-describedby":D,id:C,disabled:p,role:"spinbutton",...Qe,readOnly:Qe.readOnly??m,"aria-readonly":Qe.readOnly??m,"aria-required":Qe.required??g,required:Qe.required??g,ref:Xr(G,bt),value:ct(W.value),"aria-valuemin":l,"aria-valuemax":u,"aria-valuenow":Number.isNaN(W.valueAsNumber)?void 0:W.valueAsNumber,"aria-invalid":_u(x??W.isOutOfRange),"aria-valuetext":ce,autoComplete:"off",autoCorrect:"off",onChange:sn(Qe.onChange,Ht),onKeyDown:sn(Qe.onKeyDown,Ke),onFocus:sn(Qe.onFocus,we,()=>$(!0)),onBlur:sn(Qe.onBlur,fe,it)}),[R,S,y,N,k,ct,D,C,p,g,m,x,W.value,W.valueAsNumber,W.isOutOfRange,l,u,ce,Ht,Ke,we,fe,it]);return{value:ct(W.value),valueAsNumber:W.valueAsNumber,isFocused:xe,isDisabled:p,isReadOnly:m,getIncrementButtonProps:We,getDecrementButtonProps:at,getInputProps:Lt,htmlProps:de}}const[ZZ,pv]=Hn({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[XZ,w1]=Hn({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),On=tt(function(n,r){const i=ls("NumberInput",n),l=Xn(n),u=JS(l),{htmlProps:d,...m}=YZ(u),p=v.useMemo(()=>m,[m]);return e.jsx(XZ,{value:p,children:e.jsx(ZZ,{value:i,children:e.jsx(Ve.div,{...d,ref:r,className:ht("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...i.root}})})})});On.displayName="NumberInput";const fi=tt(function(n,r){const i=pv();return e.jsx(Ve.div,{"aria-hidden":!0,ref:r,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...i.stepperGroup}})});fi.displayName="NumberInputStepper";const Bn=tt(function(n,r){const{getInputProps:i}=w1(),l=i(n,r),u=pv();return e.jsx(Ve.input,{...l,className:ht("chakra-numberinput__field",n.className),__css:{width:"100%",...u.field}})});Bn.displayName="NumberInputField";const DP=Ve("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),pi=tt(function(n,r){const i=pv(),{getDecrementButtonProps:l}=w1(),u=l(n,r);return e.jsx(DP,{...u,__css:i.stepper,children:n.children??e.jsx(FZ,{})})});pi.displayName="NumberDecrementStepper";const mi=tt(function(n,r){const{getIncrementButtonProps:i}=w1(),l=i(n,r),u=pv();return e.jsx(DP,{...l,__css:u.stepper,children:n.children??e.jsx(VZ,{})})});mi.displayName="NumberIncrementStepper";const[KZ,$ee,QZ,JZ]=ov(),[eX,tX]=Hn({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),DT=t=>t?.split("");function PT(t,n){return(n==="alphanumeric"?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(t)}function nX(t={}){const{autoFocus:n,value:r,defaultValue:i,onChange:l,onComplete:u,placeholder:d="",manageFocus:m=!0,otp:p=!1,id:g,isDisabled:x,isInvalid:y,type:S="number",mask:w}=t,C=v.useId(),_=g??`pin-input-${C}`,T=QZ(),[R,D]=v.useState(!0),[k,N]=v.useState(-1),[M,O]=Kp({defaultValue:DT(i)||[],value:DT(r),onChange:de=>l?.(de.join(""))});v.useEffect(()=>{if(n){const de=T.first();de&&requestAnimationFrame(()=>{de.node.focus()})}},[T]);const H=v.useCallback(de=>{if(!R||!m)return;const Re=T.next(de,!1);Re&&requestAnimationFrame(()=>{Re.node.focus()})},[T,R,m]),U=v.useCallback((de,Re,fe=!0)=>{const se=[...M];se[Re]=de,O(se),de!==""&&se.length===T.count()&&se.every(q=>q!=null&&q!=="")?u?.(se.join("")):fe&&H(Re)},[M,O,H,u,T]),ae=v.useCallback(()=>{const de=Array(T.count()).fill("");O(de),T.first()?.node?.focus()},[T,O]),he=v.useCallback((de,Re)=>{let fe=Re;return de?.length>0&&(de[0]===Re.charAt(0)?fe=Re.charAt(1):de[0]===Re.charAt(1)&&(fe=Re.charAt(0))),fe},[]);return{getInputProps:v.useCallback(de=>{const{index:Re,...fe}=de,se=ie=>{const xe=ie.currentTarget.value,$=M[Re],F=he($,xe);if(F===""){U("",Re);return}if(xe.length>2){if(PT(xe,S)){const G=xe.split("").filter((X,ye)=>ye<T.count());O(G),G.length===T.count()&&u?.(G.join(""))}}else PT(F,S)&&U(F,Re),D(!0)},Y=ie=>{if(ie.key==="Backspace"&&m)if(ie.currentTarget.value===""){const xe=T.prev(Re,!1);xe&&(U("",Re-1,!1),xe.node?.focus(),D(!0))}else D(!1)},q=()=>{N(Re)},W=()=>{N(-1)},Ee=k===Re;return{"aria-label":"Please enter your pin code",inputMode:S==="number"?"numeric":"text",type:w?"password":S==="number"?"tel":"text",...fe,id:`${_}-${Re}`,disabled:x,"aria-invalid":_u(y),onChange:sn(fe.onChange,se),onKeyDown:sn(fe.onKeyDown,Y),onFocus:sn(fe.onFocus,q),onBlur:sn(fe.onBlur,W),value:M[Re]||"",autoComplete:p?"one-time-code":"off",placeholder:Ee?"":d}},[T,k,he,_,x,w,y,m,u,p,d,U,O,S,M]),id:_,descendants:T,values:M,setValue:U,setValues:O,clear:ae}}function rX(t={},n=null){const{getInputProps:r}=tX(),{index:i,register:l}=JZ();return r({...t,ref:Xr(l,n),index:t.index??i})}function yb(t){const n=yi("PinInput",t),{children:r,...i}=Xn(t),{descendants:l,...u}=nX(i),d=Ic(r).map(m=>v.cloneElement(m,{__css:n}));return e.jsx(KZ,{value:l,children:e.jsx(eX,{value:u,children:d})})}yb.displayName="PinInput";const vl=tt(function(n,r){const i=rX(n,r);return e.jsx(Ve.input,{...i,className:ht("chakra-pin-input",n.className)})});vl.displayName="PinInputField";function sX(t){const n=v.version;return typeof n!="string"||n.startsWith("18.")?t?.ref:t?.props?.ref}const jb=t=>e.jsx(Ve.circle,{cx:50,cy:50,r:42,fill:"transparent",...t});jb.displayName="Circle";function iX(t,n,r){return(t-n)*100/(r-n)}const aX=Nc({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),oX=Nc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),lX=Nc({"0%":{left:"-40%"},"100%":{left:"100%"}}),cX=Nc({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function PP(t){const{value:n=0,min:r,max:i,valueText:l,getValueText:u,isIndeterminate:d,role:m="progressbar"}=t,p=iX(n,r,i);return{bind:{"data-indeterminate":d?"":void 0,"aria-valuemax":i,"aria-valuemin":r,"aria-valuenow":d?void 0:n,"aria-valuetext":(()=>{if(n!=null)return typeof u=="function"?u(n,p):l})(),role:m},percent:p,value:n}}const MP=t=>{const{size:n,isIndeterminate:r,...i}=t;return e.jsx(Ve.svg,{viewBox:"0 0 100 100",__css:{width:n,height:n,animation:r?`${oX} 2s linear infinite`:void 0},...i})};MP.displayName="Shape";const zP=tt((t,n)=>{const{size:r="48px",max:i=100,min:l=0,valueText:u,getValueText:d,value:m,capIsRound:p,children:g,thickness:x="10px",color:y="#0078d4",trackColor:S="#edebe9",isIndeterminate:w,...C}=t,_=PP({min:l,max:i,value:m,valueText:u,getValueText:d,isIndeterminate:w}),T=w?void 0:(_.percent??0)*2.64,R=T==null?void 0:`${T} ${264-T}`,D=w?{css:{animation:`${aX} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:R,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},k={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:r};return e.jsxs(Ve.div,{ref:n,className:"chakra-progress",..._.bind,...C,__css:k,children:[e.jsxs(MP,{size:r,isIndeterminate:w,children:[e.jsx(jb,{stroke:S,strokeWidth:x,className:"chakra-progress__track"}),e.jsx(jb,{stroke:y,strokeWidth:x,className:"chakra-progress__indicator",strokeLinecap:p?"round":void 0,opacity:_.value===0&&!w?0:void 0,...D})]}),g]})});zP.displayName="CircularProgress";const[uX,dX]=Hn({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),hX=tt((t,n)=>{const{min:r,max:i,value:l,isIndeterminate:u,role:d,...m}=t,p=PP({value:l,min:r,max:i,isIndeterminate:u,role:d}),x={height:"100%",...dX().filledTrack};return e.jsx(Ve.div,{ref:n,style:{width:`${p.percent}%`,...m.style},...p.bind,...m,__css:x})}),Ec=tt((t,n)=>{const{value:r,min:i=0,max:l=100,hasStripe:u,isAnimated:d,children:m,borderRadius:p,isIndeterminate:g,"aria-label":x,"aria-labelledby":y,"aria-valuetext":S,title:w,role:C,..._}=Xn(t),T=ls("Progress",t),R=p??T.track?.borderRadius,D={animation:`${cX} 1s linear infinite`},M={...!g&&u&&d&&D,...g&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${lX} 1s ease infinite normal none running`}},O={overflow:"hidden",position:"relative",...T.track};return e.jsx(Ve.div,{ref:n,borderRadius:R,__css:O,..._,children:e.jsxs(uX,{value:T,children:[e.jsx(hX,{"aria-label":x,"aria-labelledby":y,"aria-valuetext":S,min:i,max:l,value:r,isIndeterminate:g,css:M,borderRadius:R,title:w,role:C}),m]})})});Ec.displayName="Progress";const IP=tt(function(n,r){const{children:i,placeholder:l,className:u,...d}=n;return e.jsxs(Ve.select,{...d,ref:r,className:ht("chakra-select",u),children:[l&&e.jsx("option",{value:"",children:l}),i]})});IP.displayName="SelectField";const st=tt((t,n)=>{const r=ls("Select",t),{rootProps:i,placeholder:l,icon:u,color:d,height:m,h:p,minH:g,minHeight:x,iconColor:y,iconSize:S,...w}=Xn(t),[C,_]=tL(w,ZL),T=QS(_),R={width:"100%",height:"fit-content",position:"relative",color:d},D={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return e.jsxs(Ve.div,{className:"chakra-select__wrapper",__css:R,...C,...i,children:[e.jsx(IP,{ref:n,height:p??m,minH:g??x,placeholder:l,...T,__css:D,children:t.children}),e.jsx(NP,{"data-disabled":Cn(T.disabled),...(y||d)&&{color:y||d},__css:r.icon,...S&&{fontSize:S},children:u})]})});st.displayName="Select";const fX=t=>e.jsx("svg",{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),pX=Ve("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),NP=t=>{const{children:n=e.jsx(fX,{}),...r}=t,i=v.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(pX,{...r,className:"chakra-select__icon-wrapper",children:v.isValidElement(n)?i:null})};NP.displayName="SelectIcon";const Up=Ve("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Up.displayName="Spacer";const LP=t=>e.jsx(Ve.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});LP.displayName="StackItem";function mX(t){const{spacing:n,direction:r}=t,i={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Wx(r,l=>i[l])}}const uo=tt((t,n)=>{const{isInline:r,direction:i,align:l,justify:u,spacing:d="0.5rem",wrap:m,children:p,divider:g,className:x,shouldWrapChildren:y,...S}=t,w=r?"row":i??"column",C=v.useMemo(()=>mX({spacing:d,direction:w}),[d,w]),_=!!g,T=!y&&!_,R=v.useMemo(()=>{const k=Ic(p);return T?k:k.map((N,M)=>{const O=typeof N.key<"u"?N.key:M,H=M+1===k.length,ae=y?e.jsx(LP,{children:N},O):N;if(!_)return ae;const he=v.cloneElement(g,{__css:C}),le=H?null:he;return e.jsxs(v.Fragment,{children:[ae,le]},O)})},[g,C,_,T,y,p]),D=ht("chakra-stack",x);return e.jsx(Ve.div,{ref:n,display:"flex",alignItems:l,justifyContent:u,flexDirection:w,flexWrap:m,gap:_?void 0:d,className:D,...S,children:R})});uo.displayName="Stack";const re=tt((t,n)=>e.jsx(uo,{align:"center",...t,direction:"row",ref:n}));re.displayName="HStack";const ne=tt((t,n)=>e.jsx(uo,{align:"center",...t,direction:"column",ref:n}));ne.displayName="VStack";const[gX,mv]=Hn({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),gt=tt(function(n,r){const i=ls("Stat",n),l={position:"relative",flex:"1 1 0%",...i.container},{className:u,children:d,...m}=Xn(n);return e.jsx(gX,{value:i,children:e.jsx(Ve.div,{ref:r,...m,className:ht("chakra-stat",u),__css:l,children:e.jsx("dl",{children:d})})})});gt.displayName="Stat";const OP=t=>e.jsx(Mn,{color:"red.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});OP.displayName="StatDownArrow";function BP(t){return e.jsx(Mn,{color:"green.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}BP.displayName="StatUpArrow";function Qd(t){const{type:n,"aria-label":r,...i}=t,l=mv(),u=n==="increase"?BP:OP,m=r||(n==="increase"?"increased by":"decreased by");return e.jsxs(e.Fragment,{children:[e.jsx(Ve.span,{srOnly:!0,children:m}),e.jsx(u,{"aria-hidden":!0,...i,__css:l.icon})]})}Qd.displayName="StatArrow";const C1=tt(function(n,r){return e.jsx(Ve.div,{...n,ref:r,role:"group",className:ht("chakra-stat__group",n.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});C1.displayName="StatGroup";const Pi=tt(function(n,r){const i=mv();return e.jsx(Ve.dd,{ref:r,...n,className:ht("chakra-stat__help-text",n.className),__css:i.helpText})});Pi.displayName="StatHelpText";const xt=tt(function(n,r){const i=mv();return e.jsx(Ve.dt,{ref:r,...n,className:ht("chakra-stat__label",n.className),__css:i.label})});xt.displayName="StatLabel";const vt=tt(function(n,r){const i=mv();return e.jsx(Ve.dd,{ref:r,...n,className:ht("chakra-stat__number",n.className),__css:{...i.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});vt.displayName="StatNumber";const ur=tt(function(n,r){const i=ls("Switch",n),{spacing:l="0.5rem",children:u,...d}=Xn(n),{getIndicatorProps:m,getInputProps:p,getCheckboxProps:g,getRootProps:x,getLabelProps:y}=pD(d),S=v.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...i.container}),[i.container]),w=v.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...i.track}),[i.track]),C=v.useMemo(()=>({userSelect:"none",marginStart:l,...i.label}),[l,i.label]);return e.jsxs(Ve.label,{...x(),className:ht("chakra-switch",n.className),__css:S,children:[e.jsx("input",{className:"chakra-switch__input",...p({},r)}),e.jsx(Ve.span,{...g(),className:"chakra-switch__track",__css:w,children:e.jsx(Ve.span,{__css:i.thumb,className:"chakra-switch__thumb",...m()})}),u&&e.jsx(Ve.span,{className:"chakra-switch__label",...y(),__css:C,children:u})]})});ur.displayName="Switch";const[xX,cm]=Hn({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Un=tt((t,n)=>{const r=ls("Table",t),{className:i,layout:l,...u}=Xn(t);return e.jsx(xX,{value:r,children:e.jsx(Ve.table,{ref:n,__css:{tableLayout:l,...r.table},className:ht("chakra-table",i),...u})})});Un.displayName="Table";const Gn=tt((t,n)=>{const r=cm();return e.jsx(Ve.tbody,{...t,ref:n,__css:r.tbody})}),Ae=tt(({isNumeric:t,...n},r)=>{const i=cm();return e.jsx(Ve.td,{...n,ref:r,__css:i.td,"data-is-numeric":t})}),ke=tt(({isNumeric:t,...n},r)=>{const i=cm();return e.jsx(Ve.th,{...n,ref:r,__css:i.th,"data-is-numeric":t})}),Yn=tt((t,n)=>{const r=cm();return e.jsx(Ve.thead,{...t,ref:n,__css:r.thead})}),jt=tt((t,n)=>{const r=cm();return e.jsx(Ve.tr,{...t,ref:n,__css:r.tr})}),[vX,yX,jX,bX]=ov();function SX(t){const{defaultIndex:n,onChange:r,index:i,isManual:l,isLazy:u,lazyBehavior:d="unmount",orientation:m="horizontal",direction:p="ltr",...g}=t,[x,y]=v.useState(n??0),[S,w]=Kp({defaultValue:n??0,value:i,onChange:r});v.useEffect(()=>{i!=null&&y(i)},[i]);const C=jX(),_=v.useId();return{id:`tabs-${t.id??_}`,selectedIndex:S,focusedIndex:x,setSelectedIndex:w,setFocusedIndex:y,isManual:l,isLazy:u,lazyBehavior:d,orientation:m,descendants:C,direction:p,htmlProps:g}}const[wX,gv]=Hn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function CX(t){const{focusedIndex:n,orientation:r,direction:i}=gv(),l=yX(),u=v.useCallback(d=>{const m=()=>{const D=l.nextEnabled(n);D&&D.node?.focus()},p=()=>{const D=l.prevEnabled(n);D&&D.node?.focus()},g=()=>{const D=l.firstEnabled();D&&D.node?.focus()},x=()=>{const D=l.lastEnabled();D&&D.node?.focus()},y=r==="horizontal",S=r==="vertical",w=d.key,C=i==="ltr"?"ArrowLeft":"ArrowRight",_=i==="ltr"?"ArrowRight":"ArrowLeft",R={[C]:()=>y&&p(),[_]:()=>y&&m(),ArrowDown:()=>S&&m(),ArrowUp:()=>S&&p(),Home:g,End:x}[w];R&&(d.preventDefault(),R(d))},[l,n,r,i]);return{...t,role:"tablist","aria-orientation":r,onKeyDown:sn(t.onKeyDown,u)}}function EX(t){const{isDisabled:n=!1,isFocusable:r=!1,...i}=t,{setSelectedIndex:l,isManual:u,id:d,setFocusedIndex:m,selectedIndex:p}=gv(),{index:g,register:x}=bX({disabled:n&&!r}),y=g===p,S=()=>{l(g)},w=()=>{m(g),!u&&!(n&&r)&&l(g)};return{...uP({...i,ref:Xr(x,t.ref),isDisabled:n,isFocusable:r,onClick:sn(t.onClick,S)}),id:$P(d,g),role:"tab",tabIndex:y?0:-1,type:"button","aria-selected":y,"aria-controls":FP(d,g),onFocus:n?void 0:sn(t.onFocus,w)}}const[_X,TX]=Hn({});function AX(t){const n=gv(),{id:r,selectedIndex:i}=n,u=Ic(t.children).map((d,m)=>v.createElement(_X,{key:d.key??m,value:{isSelected:m===i,id:FP(r,m),tabId:$P(r,m),selectedIndex:i}},d));return{...t,children:u}}function RX(t){const{children:n,...r}=t,{isLazy:i,lazyBehavior:l}=gv(),{isSelected:u,id:d,tabId:m}=TX(),p=v.useRef(!1);u&&(p.current=!0);const g=RA({wasSelected:p.current,isSelected:u,enabled:i,mode:l});return{tabIndex:0,...r,children:g?n:null,role:"tabpanel","aria-labelledby":m,hidden:!u,id:d}}function $P(t,n){return`${t}--tab-${n}`}function FP(t,n){return`${t}--tabpanel-${n}`}const[kX,xv]=Hn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),ho=tt(function(n,r){const i=ls("Tabs",n),{children:l,className:u,...d}=Xn(n),{htmlProps:m,descendants:p,...g}=SX(d),x=v.useMemo(()=>g,[g]),{isFitted:y,...S}=m,w={position:"relative",...i.root};return e.jsx(vX,{value:p,children:e.jsx(wX,{value:x,children:e.jsx(kX,{value:i,children:e.jsx(Ve.div,{className:ht("chakra-tabs",u),ref:r,...S,__css:w,children:l})})})})});ho.displayName="Tabs";const dn=tt(function(n,r){const i=xv(),l=EX({...n,ref:r}),u={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...i.tab};return e.jsx(Ve.button,{...l,className:ht("chakra-tabs__tab",n.className),__css:u})});dn.displayName="Tab";const Oa=tt(function(n,r){const i=CX({...n,ref:r}),l=xv(),u={display:"flex",...l.tablist};return e.jsx(Ve.div,{...i,className:ht("chakra-tabs__tablist",n.className),__css:u})});Oa.displayName="TabList";const hn=tt(function(n,r){const i=RX({...n,ref:r}),l=xv();return e.jsx(Ve.div,{outline:"0",...i,className:ht("chakra-tabs__tab-panel",n.className),__css:l.tabpanel})});hn.displayName="TabPanel";const Ba=tt(function(n,r){const i=AX(n),l=xv();return e.jsx(Ve.div,{...i,width:"100%",ref:r,className:ht("chakra-tabs__tab-panels",n.className),__css:l.tabpanels})});Ba.displayName="TabPanels";const[DX,VP]=Hn({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Uu=tt((t,n)=>{const r=ls("Tag",t),i=Xn(t),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return e.jsx(DX,{value:r,children:e.jsx(Ve.span,{ref:n,...i,__css:l})})});Uu.displayName="Tag";const Hu=tt((t,n)=>{const r=VP();return e.jsx(Ve.span,{ref:n,noOfLines:1,...t,__css:r.label})});Hu.displayName="TagLabel";const PX=tt((t,n)=>e.jsx(Mn,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...t}));PX.displayName="TagLeftIcon";const MX=tt((t,n)=>e.jsx(Mn,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...t}));MX.displayName="TagRightIcon";const UP=t=>e.jsx(Mn,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});UP.displayName="TagCloseIcon";const E1=tt((t,n)=>{const{isDisabled:r,children:i,...l}=t,d={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...VP().closeButton};return e.jsx(Ve.button,{ref:n,"aria-label":"close",...l,type:"button",disabled:r,__css:d,children:i||e.jsx(UP,{})})});E1.displayName="TagCloseButton";const zX=["h","minH","height","minHeight"],en=tt((t,n)=>{const r=yi("Textarea",t),{className:i,rows:l,...u}=Xn(t),d=QS(u),m=l?Zp(r,zX):r;return e.jsx(Ve.textarea,{ref:n,rows:l,...d,className:ht("chakra-textarea",i),__css:m})});en.displayName="Textarea";function IX(t,n){const r=t??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r]?.[n]??r}function NX(t,n){const r=l=>({...n,...l,position:IX(l?.position??n?.position,t)}),i=l=>{const u=r(l),d=eD(u);return Io.notify(d,u)};return i.update=(l,u)=>{Io.update(l,r(u))},i.promise=(l,u)=>{const d=i({...u.loading,status:"loading",duration:null});l.then(m=>i.update(d,{status:"success",duration:5e3,...ua(u.success,m)})).catch(m=>i.update(d,{status:"error",duration:5e3,...ua(u.error,m)}))},i.closeAll=Io.closeAll,i.close=Io.close,i.isActive=Io.isActive,i}function on(t){const{theme:n}=Zk(),r=oH();return v.useMemo(()=>NX(n.direction,{...r,...t}),[t,n.direction,r])}const LX={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},bb=t=>t.current?.ownerDocument||document,px=t=>t.current?.ownerDocument?.defaultView||window;function OX(t={}){const{openDelay:n=0,closeDelay:r=0,closeOnClick:i=!0,closeOnMouseDown:l,closeOnScroll:u,closeOnPointerDown:d=l,closeOnEsc:m=!0,onOpen:p,onClose:g,placement:x,id:y,isOpen:S,defaultIsOpen:w,arrowSize:C=10,arrowShadowColor:_,arrowPadding:T,modifiers:R,isDisabled:D,gutter:k,offset:N,direction:M,...O}=t,{isOpen:H,onOpen:U,onClose:ae}=Rt({isOpen:S,defaultIsOpen:w,onOpen:p,onClose:g}),{referenceRef:he,getPopperProps:le,getArrowInnerProps:de,getArrowProps:Re}=cP({enabled:H,placement:x,arrowPadding:T,modifiers:R,gutter:k,offset:N,direction:M}),fe=v.useId(),Y=`tooltip-${y??fe}`,q=v.useRef(null),W=v.useRef(void 0),Ee=v.useCallback(()=>{W.current&&(clearTimeout(W.current),W.current=void 0)},[]),B=v.useRef(void 0),ie=v.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),xe=v.useCallback(()=>{ie(),ae()},[ae,ie]),$=BX(q,xe),F=v.useCallback(()=>{if(!D&&!W.current){H&&$();const Xe=px(q);W.current=Xe.setTimeout(U,n)}},[$,D,H,U,n]),G=v.useCallback(()=>{Ee();const Xe=px(q);B.current=Xe.setTimeout(xe,r)},[r,xe,Ee]),X=v.useCallback(()=>{H&&i&&G()},[i,G,H]),ye=v.useCallback(()=>{H&&d&&G()},[d,G,H]),ve=v.useCallback(Xe=>{H&&Xe.key==="Escape"&&G()},[H,G]);cp(()=>bb(q),"keydown",m?ve:void 0),cp(()=>{if(!u)return null;const Xe=q.current;if(!Xe)return null;const dt=MA(Xe);return dt.localName==="body"?px(q):dt},"scroll",()=>{H&&u&&xe()},{passive:!0,capture:!0}),v.useEffect(()=>{D&&(Ee(),H&&ae())},[D,H,ae,Ee]),v.useEffect(()=>()=>{Ee(),ie()},[Ee,ie]),cp(()=>q.current,"pointerleave",G);const be=v.useCallback((Xe={},dt=null)=>({...Xe,ref:Xr(q,dt,he),onPointerEnter:sn(Xe.onPointerEnter,Ht=>{Ht.pointerType!=="touch"&&F()}),onClick:sn(Xe.onClick,X),onPointerDown:sn(Xe.onPointerDown,ye),onFocus:sn(Xe.onFocus,F),onBlur:sn(Xe.onBlur,G),"aria-describedby":H?Y:void 0}),[F,G,ye,H,Y,X,he]),He=v.useCallback((Xe={},dt=null)=>le({...Xe,style:{...Xe.style,[Bs.arrowSize.var]:C?`${C}px`:void 0,[Bs.arrowShadowColor.var]:_}},dt),[le,C,_]),ct=v.useCallback((Xe={},dt=null)=>{const Ue={...Xe.style,position:"relative",transformOrigin:Bs.transformOrigin.varRef};return{ref:dt,...O,...Xe,id:Y,role:"tooltip",style:Ue}},[O,Y]);return{isOpen:H,show:F,hide:G,getTriggerProps:be,getTooltipProps:ct,getTooltipPositionerProps:He,getArrowProps:Re,getArrowInnerProps:de}}const tj="chakra-ui:close-tooltip";function BX(t,n){return v.useEffect(()=>{const r=bb(t);return r.addEventListener(tj,n),()=>r.removeEventListener(tj,n)},[n,t]),()=>{const r=bb(t),i=px(t);r.dispatchEvent(new i.CustomEvent(tj))}}const $X=Ve(Yo.div),Js=tt((t,n)=>{const r=yi("Tooltip",t),i=Xn(t),l=Zu(),{children:u,label:d,shouldWrapChildren:m,"aria-label":p,hasArrow:g,bg:x,portalProps:y,background:S,backgroundColor:w,bgColor:C,motionProps:_,animatePresenceProps:T,...R}=i,D=S??w??x??C;if(D){r.bg=D;const he=iO(l,"colors",D);r[Bs.arrowBg.var]=he}const k=OX({...R,direction:l.direction}),N=!v.isValidElement(u)||m;let M;if(N)M=e.jsx(Ve.span,{display:"inline-block",tabIndex:0,...k.getTriggerProps(),children:u});else{const he=v.Children.only(u);M=v.cloneElement(he,k.getTriggerProps(he.props,sX(he)))}const O=!!p,H=k.getTooltipProps({},n),U=O?Zp(H,["role","id"]):H,ae=DA(H,["role","id"]);return d?e.jsxs(e.Fragment,{children:[M,e.jsx(Lc,{...T,children:k.isOpen&&e.jsx(kh,{...y,children:e.jsx(Ve.div,{...k.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:e.jsxs($X,{variants:LX,initial:"exit",animate:"enter",exit:"exit",..._,...U,__css:r,children:[d,O&&e.jsx(Ve.span,{srOnly:!0,...ae,children:p}),g&&e.jsx(Ve.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:e.jsx(Ve.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):e.jsx(e.Fragment,{children:u})});Js.displayName="Tooltip";const Pe=tt(function(n,r){const i=yi("Heading",n),{className:l,...u}=Xn(n);return e.jsx(Ve.h2,{ref:r,className:ht("chakra-heading",n.className),...u,__css:i})});Pe.displayName="Heading";const P=tt(function(n,r){const i=yi("Text",n),{className:l,align:u,decoration:d,casing:m,...p}=Xn(n),g=Yp({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return e.jsx(Ve.p,{ref:r,className:ht("chakra-text",n.className),...g,...p,__css:i})});P.displayName="Text";const HP=Ve("span",{baseStyle:e1});HP.displayName="VisuallyHidden";const FX=Ve("input",{baseStyle:e1});FX.displayName="VisuallyHiddenInput";const WP=tt(function(n,r){const{spacing:i="0.5rem",spacingX:l,spacingY:u,children:d,justify:m,direction:p,align:g,className:x,shouldWrapChildren:y,...S}=n,w=v.useMemo(()=>y?v.Children.map(d,(C,_)=>e.jsx(qP,{children:C},_)):d,[d,y]);return e.jsx(Ve.div,{ref:r,className:ht("chakra-wrap",x),...S,children:e.jsx(Ve.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:m,alignItems:g,flexDirection:p,listStyleType:"none",gap:i,columnGap:l,rowGap:u,padding:"0"},children:w})})});WP.displayName="Wrap";const qP=tt(function(n,r){const{className:i,...l}=n;return e.jsx(Ve.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:ht("chakra-wrap__listitem",i),...l})});qP.displayName="WrapItem";const VX=mW({fonts:{heading:"Montserrat, system-ui, sans-serif",body:"Montserrat, system-ui, sans-serif"},styles:{global:{body:{fontFamily:"Montserrat, system-ui, sans-serif",bg:"gray.50",color:"gray.800"},"*":{borderColor:"gray.200"}}},colors:{rbe:{50:"#fef2f4",100:"#fde2e7",200:"#facbd4",300:"#f5a3b2",400:"#ed7189",500:"#e14964",600:"#be003c",700:"#9f1d3d",800:"#881b38",900:"#751a35"},brand:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},semanticTokens:{colors:{primary:{default:"rbe.600",_dark:"rbe.400"},accent:{default:"rbe.500",_dark:"rbe.300"},background:{default:"gray.50",_dark:"gray.900"},surface:{default:"white",_dark:"gray.800"},muted:{default:"gray.100",_dark:"gray.700"}}},components:{Card:{baseStyle:{container:{fontFamily:"Montserrat, system-ui, sans-serif",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200",transition:"all 0.2s ease-out",_hover:{boxShadow:"md",transform:"translateY(-2px)"}}},variants:{modern:{container:{bg:"white",borderRadius:"2xl",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none",_hover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transform:"translateY(-4px)"}}},gradient:{container:{bgGradient:"linear(to-br, rbe.500, rbe.700)",color:"white",border:"none",_hover:{bgGradient:"linear(to-br, rbe.400, rbe.600)"}}}}},Heading:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",letterSpacing:"-0.025em",lineHeight:"shorter"},variants:{page:{fontSize:{base:"2xl",md:"4xl"},fontWeight:"800",bgGradient:"linear(to-r, rbe.600, rbe.800)",bgClip:"text",textAlign:"center",mb:2},section:{fontSize:{base:"xl",md:"2xl"},fontWeight:"700",color:"gray.800",mb:4},card:{fontSize:{base:"lg",md:"xl"},fontWeight:"600",color:"gray.700"}}},Text:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",lineHeight:"relaxed"},variants:{subtitle:{fontSize:{base:"md",md:"lg"},color:"gray.600",textAlign:"center",maxW:"2xl",mx:"auto"},description:{fontSize:"sm",color:"gray.600",lineHeight:"relaxed"}}},Button:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",borderRadius:"lg",transition:"all 0.2s ease-out",_focus:{boxShadow:"0 0 0 3px rgba(190, 0, 60, 0.1)"}},variants:{primary:{bg:"rbe.600",color:"white",_hover:{bg:"rbe.700",transform:"translateY(-1px)",boxShadow:"lg"},_active:{bg:"rbe.800"}},secondary:{bg:"white",color:"rbe.600",borderWidth:"2px",borderColor:"rbe.600",_hover:{bg:"rbe.50",transform:"translateY(-1px)"}},modern:{bg:"white",color:"gray.700",borderWidth:"1px",borderColor:"gray.300",boxShadow:"sm",_hover:{bg:"gray.50",borderColor:"gray.400",transform:"translateY(-1px)",boxShadow:"md"}}},sizes:{modern:{h:"12",px:"6",fontSize:"sm",fontWeight:"600"}}},Container:{baseStyle:{maxW:"container.xl",px:{base:4,md:8}}},Badge:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",fontSize:"xs",textTransform:"none",borderRadius:"md",px:2,py:1}},Modal:{baseStyle:{dialog:{borderRadius:"2xl",boxShadow:"2xl"},header:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",fontSize:"xl",color:"gray.800"}}}},breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},shadows:{modern:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","modern-lg":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",rbe:"0 4px 14px 0 rgba(190, 0, 60, 0.15)"},radii:{modern:"12px","modern-lg":"16px","modern-xl":"20px"}}),UX=[{code:"ADMIN",label:"Administrateur"},{code:"VOLUNTEER",label:"Bnvole"},{code:"DRIVER",label:"Conducteur"},{code:"MEMBER",label:"Membre"},{code:"PRESIDENT",label:"Prsident (hritage)"},{code:"VICE_PRESIDENT",label:"Vice-prsident (hritage)"},{code:"TRESORIER",label:"Trsorier (hritage)"},{code:"SECRETAIRE_GENERAL",label:"Secrtaire gnral (hritage)"}];function HX(t){if(!t)return"MEMBER";let n=String(t).trim().toUpperCase().replace(/[-\s]+/g,"_");const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN",BENEVOLE:"VOLUNTEER",BNVOLE:"VOLUNTEER",BENEVOLES:"VOLUNTEER",BNVOLES:"VOLUNTEER",CONDUCTEUR:"DRIVER",CONDUCTEURS:"DRIVER",MEMBRE:"MEMBER",MEMBRES:"MEMBER"};return r[n]&&(n=r[n]),new Set(UX.map(l=>l.code)).has(n)?n:"MEMBER"}const GP=Bc({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),um=Bc({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),WX=Bc({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),qX=Bc({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),vv=Bc({displayName:"DeleteIcon",path:e.jsx("g",{fill:"currentColor",children:e.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),_1=Bc({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),GX=Bc({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),YX=Bc({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function ZX({isOpen:t,onPasswordChanged:n}){const[r,i]=v.useState(""),[l,u]=v.useState(""),[d,m]=v.useState(!1),[p,g]=v.useState(!1),[x,y]=v.useState(""),w=(_=>{let T=0;return _.length>=8&&(T+=25),/[A-Z]/.test(_)&&(T+=25),/[a-z]/.test(_)&&(T+=25),/[0-9]/.test(_)&&(T+=25),T})(r),C=async _=>{if(_.preventDefault(),y(""),r.length<6){y("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==l){y("Les mots de passe ne correspondent pas");return}g(!0);try{const T=await fetch("https://attractive-kindness-rbe-serveurs.up.railway.app/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:r})}),R=await T.json();if(!T.ok)throw new Error(R.error||"Erreur de changement de mot de passe");n()}catch(T){y(T.message)}finally{g(!1)}};return e.jsxs(wt,{isOpen:t,closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Changement de mot de passe obligatoire"}),e.jsxs(Ct,{pb:6,children:[e.jsxs(Wt,{status:"info",mb:4,children:[e.jsx(qt,{}),"Vous devez changer votre mot de passe temporaire avant de continuer."]}),e.jsx("form",{onSubmit:C,children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nouveau mot de passe"}),e.jsxs(kc,{children:[e.jsx(ge,{type:d?"text":"password",value:r,onChange:_=>i(_.target.value),placeholder:"Au moins 6 caractres"}),e.jsx(p1,{children:e.jsx(yt,{variant:"ghost",size:"sm",icon:d?e.jsx(WX,{}):e.jsx(um,{}),onClick:()=>m(!d)})})]}),r&&e.jsxs(ne,{align:"start",spacing:1,mt:2,children:[e.jsx(P,{fontSize:"xs",color:"gray.600",children:"Force du mot de passe:"}),e.jsx(Ec,{value:w,colorScheme:w<50?"red":w<75?"yellow":"green",size:"sm",width:"100%"})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Confirmer le mot de passe"}),e.jsx(ge,{type:d?"text":"password",value:l,onChange:_=>u(_.target.value),placeholder:"Retapez le nouveau mot de passe"})]}),x&&e.jsx(P,{color:"red.500",fontSize:"sm",children:x}),e.jsx(J,{type:"submit",colorScheme:"blue",width:"100%",isLoading:p,isDisabled:!r||!l,children:"Changer le mot de passe"})]})})]})]})]})}const YP={"w.belaidi":{password:"Waiyl9134#",prenom:"Waiyl",nom:"BELAIDI",roles:["ADMIN"]},"m.ravichandran":{password:"RBE2025",prenom:"Mthusan",nom:"RAVICHANDRAN",roles:["MEMBER"]},"g.champenois":{password:"RBE2026",prenom:"Galle",nom:"CHAMPENOIS",roles:["MEMBER"]},"n.tetillon":{password:"RBE185C",prenom:"Nathan",nom:"TETILLON",roles:["MEMBER"]}};async function XX(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=YP[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}async function KX(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/member-login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=YP[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}const zu={API_BASE:"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),LOCAL_DEV_TOKEN_PREFIX:"local-dev-token-",TOKEN_KEY:"token",USER_KEY:"user",CACHE_EXPIRY:300*1e3};class QX{constructor(){this.token=null,this.listeners=[]}getToken(){return this.token}setToken(n){this.token=n||null,n?localStorage.setItem(zu.TOKEN_KEY,n):localStorage.removeItem(zu.TOKEN_KEY),this.notifyListeners()}hydrate(){const n=localStorage.getItem(zu.TOKEN_KEY);this.token=n||null,this.notifyListeners()}subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(r=>r!==n)}}notifyListeners(){this.listeners.forEach(n=>n(this.token))}}const Cc=new QX;async function JX(t){if(!t)return!1;if(String(t).startsWith(zu.LOCAL_DEV_TOKEN_PREFIX)||!zu.API_BASE)return!0;try{const n=await fetch(`${zu.API_BASE}/api/me`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();return!(r.disabled||r.active===!1||r.status==="DISABLED")}catch(n){return console.warn(" Session validation failed:",n.message),!1}}function eK(t){return t?{Authorization:`Bearer ${t}`}:{}}function ZP(t={},n){return n?{...t,...eK(n)}:t}const tK={makeKey(t,n){return`${t}_${n}`},getIfFresh(t,n=zu.CACHE_EXPIRY){try{const r=localStorage.getItem(t),i=localStorage.getItem(`${t}:ts`);return!r||!i?null:Date.now()-parseInt(i)>n?(this.remove(t),null):JSON.parse(r)}catch(r){return console.warn(` getIfFresh(${t}) error:`,r.message),null}},set(t,n){try{localStorage.setItem(t,JSON.stringify(n)),localStorage.setItem(`${t}:ts`,Date.now().toString())}catch(r){console.warn(` StorageManager.set(${t}) error:`,r.message)}},remove(t){try{localStorage.removeItem(t),localStorage.removeItem(`${t}:ts`)}catch(n){console.warn(` StorageManager.remove(${t}) error:`,n.message)}},clearAppCache(){const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);!["token","user"].includes(r)&&!r.includes("pointage")&&t.push(r)}t.forEach(n=>localStorage.removeItem(n))}},XP=v.createContext(null);function nK({children:t}){const[n,r]=v.useState(()=>(Cc.hydrate(),Cc.getToken()||"")),[i,l]=v.useState(()=>{const $=localStorage.getItem("user");return $?JSON.parse($):null}),[u,d]=v.useState(!1),[m,p]=v.useState(!1),g=!!n,[x,y]=v.useState(null),[S,w]=v.useState(!1),[C,_]=v.useState(null),[T,R]=v.useState(null),D=v.useRef(0),[k,N]=v.useState(null),[M,O]=v.useState(!1);v.useEffect(()=>Cc.subscribe(F=>{r(F||"")}),[]),v.useEffect(()=>{i?localStorage.setItem("user",JSON.stringify(i)):localStorage.removeItem("user")},[i]);const H=$=>{Cc.setToken($),r($||"")},U=()=>{Cc.setToken(null),r(""),l(null),y(null),_(null),R(null),localStorage.removeItem("user"),tK.clearAppCache()},ae=async()=>{if(!n)return l(null),p(!0),!1;const $=await JX(n);return p(!0),$?!0:(U(),!1)},he=()=>{const $="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),F=[];return $&&F.push($),F.push(""),F},le=async($=!1)=>{if(!n)return y(null),_("no-token"),null;const F=Date.now();if(!$&&F-D.current<500)return x;D.current=F,w(!0),_(null);try{const G=he();let X=!1,ye=null;for(const ve of G)try{const be=await fetch(`${ve}/api/members/me`,{headers:{Authorization:`Bearer ${n}`}});if(ye=be.status,be.ok){const He=await be.json();y(He),R(ve||null),X=!0;break}}catch{ye="network";continue}return X?x:(y(null),_(ye),null)}finally{w(!1)}},de=async()=>{if(!i?.id||!n)return N(null),null;O(!0);try{const $=he();for(const F of $)try{const G=await fetch(`${F}/api/admin/users/${i.id}/permissions`,{headers:{Authorization:`Bearer ${n}`}});if(G.ok){const X=await G.json(),ye=X.permissions&&Array.isArray(X.permissions)&&X.permissions.length>0?X.permissions:null;return N(ye),ye}}catch{continue}return N(null),null}finally{O(!1)}};v.useEffect(()=>{ae()},[]),v.useEffect(()=>{n?ae().then($=>{$&&(le(),de())}):p(!0)},[n]),v.useEffect(()=>{const $=()=>ae();window.addEventListener("focus",$);const F=setInterval(()=>ae(),300*1e3);return()=>{window.removeEventListener("focus",$),clearInterval(F)}},[n]);const Re=i?.username||"",fe=i?.prenom||"",se=i?.nom||"",Y=(i?.roles||[]).map($=>HX($)),q=Y.includes("ADMIN")||Y.includes("PRESIDENT")||Y.includes("VICE_PRESIDENT")||Y.includes("TRESORIER")||Y.includes("SECRETAIRE_GENERAL"),W=Y.includes("VOLUNTEER"),Ee=Y.includes("DRIVER"),B=Y.includes("MEMBER"),ie=i?.username||"",xe=v.useMemo(()=>({token:n,setToken:H,user:i,setUser:l,isAuthenticated:g,username:Re,prenom:fe,nom:se,roles:Y,isAdmin:q,isVolunteer:W,isDriver:Ee,isMember:B,matricule:ie,logout:U,sessionChecked:m,ensureSession:ae,member:x,memberLoading:S,memberError:C,memberApiBase:T,refreshMember:le,customPermissions:k,permissionsLoading:M,refreshPermissions:de}),[n,i,g,Re,fe,se,Y,q,W,Ee,B,ie,m,x,S,C,T,k,M]);return e.jsxs(XP.Provider,{value:xe,children:[t,e.jsx(ZX,{isOpen:u,onPasswordChanged:()=>{d(!1),n&&ae()}})]})}function vs(){return v.useContext(XP)}const Aa="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),Bf=(t={})=>({"Content-Type":"application/json",...t.headers}),$f=(t,n={})=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`,...n.headers}),ko=async t=>{const n=t.headers.get("content-type");if(n&&n.includes("application/json"))try{return await t.json()}catch(r){throw console.error(" Erreur parsing JSON:",r),new Error("Rponse JSON invalide du serveur")}else{const r=await t.text();throw console.error(" Rponse non-JSON reue:",r.substring(0,200)+"..."),r.includes("<!DOCTYPE")?new Error("Le serveur a renvoy une page HTML au lieu de JSON. Vrifiez l'URL de l'API."):new Error(`Rponse inattendue du serveur (${t.status}): ${r.substring(0,100)}`)}},Nt={baseURL:Aa,get:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?$f(r,n):Bf(n);console.log(` GET ${Aa}${t}`);try{const l=await fetch(`${Aa}${t}`,{method:"GET",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const u=await ko(l),d=u?.error||u?.message||`HTTP ${l.status}`;throw new Error(d)}return await ko(l)}catch(l){throw console.error(` Erreur GET ${t}:`,l.message),l}},post:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?$f(i,r):Bf(r);console.log(` POST ${Aa}${t}`,n);try{const u=await fetch(`${Aa}${t}`,{method:"POST",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ko(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await ko(u)}catch(u){throw console.error(` Erreur POST ${t}:`,u.message),u}},put:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?$f(i,r):Bf(r);console.log(` PUT ${Aa}${t}`,n);try{const u=await fetch(`${Aa}${t}`,{method:"PUT",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ko(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await ko(u)}catch(u){throw console.error(` Erreur PUT ${t}:`,u.message),u}},patch:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?$f(i,r):Bf(r);console.log(` PATCH ${Aa}${t}`,n);try{const u=await fetch(`${Aa}${t}`,{method:"PATCH",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ko(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await ko(u)}catch(u){throw console.error(` Erreur PATCH ${t}:`,u.message),u}},delete:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?$f(r,n):Bf(n);console.log(` DELETE ${Aa}${t}`);try{const l=await fetch(`${Aa}${t}`,{method:"DELETE",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ko(l),m=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(m)}return l.headers.get("content-length")==="0"||l.status===204?{success:!0}:await ko(l)}catch(l){throw console.error(` Erreur DELETE ${t}:`,l.message),l}}},yv={getActive:async()=>{console.log(" API: getActive flashs...");const t=await Nt.get("/flashes");return console.log(" API: getActive result:",t),t},getAll:async()=>{console.log(" API: getAll flashs...");const t=await Nt.get("/flashes/all");return console.log(" API: getAll result:",t),t},create:async t=>{console.log(" API: create flash:",t);const n=await Nt.post("/flashes",t);return console.log(" API: create result:",n),n},update:async(t,n)=>{console.log(" API: update flash:",t,n);const r=await Nt.put(`/flashes/${t}`,n);return console.log(" API: update result:",r),r},delete:async t=>{console.log(" API: delete flash:",t);const n=await Nt.delete(`/flashes/${t}`);return console.log(" API: delete result:",n),n}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),MT=t=>{const n=sK(t);return n.charAt(0).toUpperCase()+n.slice(1)},KP=(...t)=>t.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim(),iK=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=v.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:d,...m},p)=>v.createElement("svg",{ref:p,...aK,width:n,height:n,stroke:t,strokeWidth:i?Number(r)*24/Number(n):r,className:KP("lucide",l),...!u&&!iK(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>v.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=(t,n)=>{const r=v.forwardRef(({className:i,...l},u)=>v.createElement(oK,{ref:u,iconNode:n,className:KP(`lucide-${rK(MT(t))}`,`lucide-${t}`,i),...l}));return r.displayName=MT(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zT=dm("bell",lK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uK=dm("check",cK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hK=dm("settings",dK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pK=dm("trash-2",fK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gK=dm("x",mK);function xK(){const[t,n]=v.useState([]),[r,i]=v.useState(0),[l,u]=v.useState(!1),[d,m]=v.useState(!1),[p,g]=v.useState(!1),[x,y]=v.useState({}),S=v.useCallback(async()=>{try{const D=localStorage.getItem("token");if(!D)return;const k=await fetch("/api/notifications/inbox?limit=20",{headers:{Authorization:`Bearer ${D}`}});if(!k.ok)throw new Error("Failed to fetch");const N=await k.json();N.success&&(n(N.messages||[]),i(N.unread||0))}catch(D){console.error(" Fetch notifications error:",D)}},[]),w=v.useCallback(async()=>{try{const D=localStorage.getItem("token");if(!D)return;const k=await fetch("/api/notifications/preferences",{headers:{Authorization:`Bearer ${D}`}});if(k.ok){const N=await k.json();y(N.preferences||{})}}catch(D){console.error(" Fetch preferences error:",D)}},[]),C=async D=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/mark-read/${D}`,{method:"PATCH",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Mark read error:",k)}},_=async D=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/message/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Delete error:",k)}},T=async()=>{try{const D=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${D}`}})).ok&&S()}catch(D){console.error(" Mark all read error:",D)}},R=async(D,k)=>{try{const N=localStorage.getItem("token");(await fetch("/api/notifications/preferences",{method:"PUT",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify({[D]:k})})).ok&&w()}catch(N){console.error(" Update preferences error:",N)}};return v.useEffect(()=>{S(),w();const D=setInterval(S,3e4);return()=>clearInterval(D)},[S,w]),e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"bell-button",onClick:()=>{u(!l),g(!1)},title:"Notifications",children:[e.jsx(zT,{size:20}),r>0&&e.jsx("span",{className:"badge",children:r>9?"9+":r})]}),l&&e.jsxs("div",{className:"notification-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsxs("h3",{children:["Notifications ",t.length>0&&`(${t.length})`]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"icon-button",onClick:()=>g(!p),title:"Paramtres",children:e.jsx(hK,{size:16})}),e.jsx("button",{className:"close-button",onClick:()=>u(!1),children:e.jsx(gK,{size:16})})]})]}),e.jsx("div",{className:"popup-content",children:p?e.jsxs("div",{className:"preferences-panel",children:[e.jsx("h4",{children:"Prfrences de notification"}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.ticketNotifications!==!1,onChange:D=>R("ticketNotifications",D.target.checked)}),e.jsx("span",{children:" Notifications de tickets"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.eventNotifications!==!1,onChange:D=>R("eventNotifications",D.target.checked)}),e.jsx("span",{children:" Notifications d'vnements"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.reportNotifications!==!1,onChange:D=>R("reportNotifications",D.target.checked)}),e.jsx("span",{children:" Notifications de rapports"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceNotifications!==!1,onChange:D=>R("maintenanceNotifications",D.target.checked)}),e.jsx("span",{children:" Alertes de maintenance"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.systemNotifications!==!1,onChange:D=>R("systemNotifications",D.target.checked)}),e.jsx("span",{children:" Messages systme"})]})]}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(zT,{size:48}),e.jsx("p",{children:"Aucune notification"})]}):e.jsxs("div",{className:"messages-list",children:[r>0&&e.jsx("div",{className:"mark-all-read",children:e.jsx("button",{onClick:T,children:" Marquer tout comme lu"})}),t.map(D=>e.jsxs("div",{className:`message-item ${D.readAt?"read":"unread"}`,children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:D.title}),e.jsx("small",{children:vK(new Date(D.createdAt))})]}),e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:D.content}}),e.jsxs("div",{className:"message-footer",children:[e.jsx("small",{className:"type-badge",children:D.type}),e.jsxs("div",{className:"message-actions",children:[!D.readAt&&e.jsx("button",{className:"action-button",onClick:()=>C(D.id),title:"Marquer comme lu",children:e.jsx(uK,{size:14})}),e.jsx("button",{className:"action-button delete",onClick:()=>_(D.id),title:"Supprimer",children:e.jsx(pK,{size:14})})]})]})]},D.id))]})})})]})]})}function vK(t){const r=new Date-t,i=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return i<1?" l'instant":i<60?`${i}m`:l<24?`${l}h`:u<7?`${u}j`:t.toLocaleDateString("fr-FR")}const yK="/assets/retro_intranet_essonne-BfWPiuYY.svg",jK="/assets/flash-info-rvZ9UMs-.png",bK="/assets/flash-notif-HViqZ6l6.png",SK="/assets/flash-pos-1o7mOrZv.png",_e={SITE_MANAGEMENT:"site:management",SITE_USERS:"site:users",SITE_CONFIG:"site:config",SITE_CONTENT:"site:content",VEHICLES:"vehicles:list",VEHICLE_VIEW:"vehicles:view",VEHICLE_CREATE:"vehicles:create",VEHICLE_EDIT:"vehicles:edit",VEHICLE_DELETE:"vehicles:delete",EVENTS:"events:list",EVENT_VIEW:"events:view",EVENT_CREATE:"events:create",EVENT_EDIT:"events:edit",EVENT_DELETE:"events:delete",FINANCE:"finance:access",FINANCE_VIEW:"finance:view",FINANCE_EDIT:"finance:edit",MEMBERS:"members:list",MEMBER_VIEW:"members:view",MEMBER_EDIT:"members:edit",MEMBER_DELETE:"members:delete",STOCK:"stock:access",STOCK_VIEW:"stock:view",STOCK_EDIT:"stock:edit",NEWSLETTER:"newsletter:access",RETROMAIL:"retromail:access",RETROPLANNING:"retroplanning:access",RETROPLANNING_VIEW:"retroplanning:view",RETROPLANNING_CREATE:"retroplanning:create",RETROPLANNING_RESPOND:"retroplanning:respond",RETROSUPPORT:"retrosupport:access",RETROSUPPORT_VIEW:"retrosupport:view",RETROSUPPORT_CREATE:"retrosupport:create",RETRODEMANDES:"retrodemandes:access",RETRODEMANDES_VIEW:"retrodemandes:view",RETRODEMANDES_CREATE:"retrodemandes:create",RETRODEMANDES_EDIT:"retrodemandes:edit",PERMISSIONS_MANAGEMENT:"permissions:management",PERMISSIONS_VIEW:"permissions:view",PERMISSIONS_EDIT:"permissions:edit",MYRBE:"myrbe:access",MYRBE_VIEW:"myrbe:view",MYRBE_ACCESS:"myrbe:card-access",ADMIN_PANEL:"admin:panel",ADMIN_LOGS:"admin:logs",ADMIN_SETTINGS:"admin:settings"},mx={VIEW:"view",EDIT:"edit"},Sp={ADMIN:{label:"Administrateur",color:"red",permissions:{[_e.SITE_MANAGEMENT]:["access","view","edit"],[_e.SITE_USERS]:["access","view","edit"],[_e.SITE_CONFIG]:["access","view","edit"],[_e.SITE_CONTENT]:["access","view","edit"],[_e.VEHICLES]:["access","view","edit"],[_e.VEHICLE_VIEW]:["access","view","edit"],[_e.VEHICLE_CREATE]:["access","view","edit"],[_e.VEHICLE_EDIT]:["access","view","edit"],[_e.VEHICLE_DELETE]:["access","view","edit"],[_e.EVENTS]:["access","view","edit"],[_e.EVENT_VIEW]:["access","view","edit"],[_e.EVENT_CREATE]:["access","view","edit"],[_e.EVENT_EDIT]:["access","view","edit"],[_e.EVENT_DELETE]:["access","view","edit"],[_e.FINANCE]:["access","view","edit"],[_e.FINANCE_VIEW]:["access","view","edit"],[_e.FINANCE_EDIT]:["access","view","edit"],[_e.MEMBERS]:["access","view","edit"],[_e.MEMBER_VIEW]:["access","view","edit"],[_e.MEMBER_EDIT]:["access","view","edit"],[_e.MEMBER_DELETE]:["access","view","edit"],[_e.STOCK]:["access","view","edit"],[_e.STOCK_VIEW]:["access","view","edit"],[_e.STOCK_EDIT]:["access","view","edit"],[_e.NEWSLETTER]:["access","view","edit"],[_e.RETROMAIL]:["access","view","edit"],[_e.RETROPLANNING]:["access","view","edit"],[_e.RETROPLANNING_VIEW]:["access","view","edit"],[_e.RETROPLANNING_CREATE]:["access","view","edit"],[_e.RETROPLANNING_RESPOND]:["access","view","edit"],[_e.RETROSUPPORT]:["access","view","edit"],[_e.RETROSUPPORT_VIEW]:["access","view","edit"],[_e.RETROSUPPORT_CREATE]:["access","view","edit"],[_e.RETRODEMANDES]:["access","view","edit"],[_e.RETRODEMANDES_VIEW]:["access","view","edit"],[_e.RETRODEMANDES_CREATE]:["access","view","edit"],[_e.RETRODEMANDES_EDIT]:["access","view","edit"],[_e.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[_e.PERMISSIONS_VIEW]:["access","view","edit"],[_e.PERMISSIONS_EDIT]:["access","view","edit"],[_e.MYRBE]:["access","view","edit"],[_e.MYRBE_VIEW]:["access","view","edit"],[_e.MYRBE_ACCESS]:["access","view","edit"],[_e.ADMIN_PANEL]:["access","view","edit"],[_e.ADMIN_LOGS]:["access","view","edit"],[_e.ADMIN_SETTINGS]:["access","view","edit"]}},PRESIDENT:{label:"Prsident",color:"red",permissions:{[_e.SITE_MANAGEMENT]:["access","view","edit"],[_e.SITE_USERS]:["access","view","edit"],[_e.SITE_CONFIG]:["access","view","edit"],[_e.SITE_CONTENT]:["access","view","edit"],[_e.VEHICLES]:["access","view","edit"],[_e.VEHICLE_VIEW]:["access","view","edit"],[_e.VEHICLE_CREATE]:["access","view","edit"],[_e.VEHICLE_EDIT]:["access","view","edit"],[_e.VEHICLE_DELETE]:["access","view"],[_e.EVENTS]:["access","view","edit"],[_e.EVENT_VIEW]:["access","view","edit"],[_e.EVENT_CREATE]:["access","view","edit"],[_e.EVENT_EDIT]:["access","view","edit"],[_e.EVENT_DELETE]:["access","view"],[_e.FINANCE]:["access","view"],[_e.FINANCE_VIEW]:["access","view"],[_e.MEMBERS]:["access","view","edit"],[_e.MEMBER_VIEW]:["access","view","edit"],[_e.MEMBER_EDIT]:["access","view","edit"],[_e.STOCK]:["access","view","edit"],[_e.STOCK_VIEW]:["access","view","edit"],[_e.STOCK_EDIT]:["access","view","edit"],[_e.NEWSLETTER]:["access","view","edit"],[_e.RETROMAIL]:["access","view"],[_e.RETROPLANNING]:["access","view","edit"],[_e.RETROPLANNING_VIEW]:["access","view","edit"],[_e.RETROPLANNING_CREATE]:["access","view","edit"],[_e.RETROPLANNING_RESPOND]:["access","view","edit"],[_e.RETROSUPPORT]:["access","view","edit"],[_e.RETROSUPPORT_VIEW]:["access","view","edit"],[_e.RETROSUPPORT_CREATE]:["access","view","edit"],[_e.RETRODEMANDES]:["access","view","edit"],[_e.RETRODEMANDES_VIEW]:["access","view","edit"],[_e.RETRODEMANDES_CREATE]:["access","view","edit"],[_e.RETRODEMANDES_EDIT]:["access","view","edit"],[_e.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[_e.PERMISSIONS_VIEW]:["access","view","edit"],[_e.PERMISSIONS_EDIT]:["access","view","edit"],[_e.MYRBE]:["access","view","edit"],[_e.MYRBE_VIEW]:["access","view","edit"],[_e.MYRBE_ACCESS]:["access","view","edit"],[_e.ADMIN_LOGS]:["access","view"]}},VICE_PRESIDENT:{label:"Vice-Prsident",color:"pink",permissions:{[_e.SITE_MANAGEMENT]:["access","view"],[_e.SITE_USERS]:["access","view"],[_e.SITE_CONFIG]:["access","view"],[_e.SITE_CONTENT]:["access","view","edit"],[_e.VEHICLES]:["access","view","edit"],[_e.VEHICLE_VIEW]:["access","view","edit"],[_e.VEHICLE_CREATE]:["access","view","edit"],[_e.VEHICLE_EDIT]:["access","view","edit"],[_e.EVENTS]:["access","view","edit"],[_e.EVENT_VIEW]:["access","view","edit"],[_e.EVENT_CREATE]:["access","view","edit"],[_e.EVENT_EDIT]:["access","view","edit"],[_e.MEMBERS]:["access","view"],[_e.MEMBER_VIEW]:["access","view"],[_e.STOCK]:["access","view"],[_e.STOCK_VIEW]:["access","view"],[_e.NEWSLETTER]:["access","view","edit"],[_e.RETROMAIL]:["access","view"]}},TRESORIER:{label:"Trsorier",color:"green",permissions:{[_e.SITE_MANAGEMENT]:["access","view"],[_e.SITE_USERS]:["access","view"],[_e.SITE_CONFIG]:["access","view"],[_e.VEHICLES]:["access","view"],[_e.VEHICLE_VIEW]:["access","view"],[_e.EVENTS]:["access","view"],[_e.EVENT_VIEW]:["access","view"],[_e.FINANCE]:["access","view","edit"],[_e.FINANCE_VIEW]:["access","view","edit"],[_e.FINANCE_EDIT]:["access","view","edit"],[_e.MEMBERS]:["access","view"],[_e.MEMBER_VIEW]:["access","view"],[_e.STOCK]:["access","view"],[_e.STOCK_VIEW]:["access","view"]}},SECRETAIRE_GENERAL:{label:"Secrtaire Gnral",color:"purple",permissions:{[_e.SITE_MANAGEMENT]:["access","view"],[_e.SITE_CONTENT]:["access","view","edit"],[_e.VEHICLES]:["access","view"],[_e.VEHICLE_VIEW]:["access","view"],[_e.EVENTS]:["access","view","edit"],[_e.EVENT_VIEW]:["access","view","edit"],[_e.EVENT_CREATE]:["access","view","edit"],[_e.EVENT_EDIT]:["access","view","edit"],[_e.MEMBERS]:["access","view"],[_e.MEMBER_VIEW]:["access","view"],[_e.NEWSLETTER]:["access","view","edit"],[_e.RETROMAIL]:["access","view","edit"]}},VOLUNTEER:{label:"Bnvole",color:"orange",permissions:{[_e.VEHICLES]:["access","view"],[_e.VEHICLE_VIEW]:["access","view"],[_e.VEHICLE_CREATE]:["access","view","edit"],[_e.VEHICLE_EDIT]:["access","view","edit"],[_e.EVENTS]:["access","view"],[_e.EVENT_VIEW]:["access","view"],[_e.EVENT_CREATE]:["access","view"],[_e.MEMBERS]:["access","view"],[_e.MEMBER_VIEW]:["access","view"],[_e.STOCK]:["access","view"],[_e.STOCK_VIEW]:["access","view"],[_e.NEWSLETTER]:["access","view"]}},DRIVER:{label:"Conducteur",color:"cyan",permissions:{[_e.VEHICLES]:["access","view"],[_e.VEHICLE_VIEW]:["access","view"],[_e.EVENTS]:["access","view"],[_e.EVENT_VIEW]:["access","view"]}},PRESTATAIRE:{label:"Prestataire",color:"yellow",permissions:{[_e.RETROPLANNING]:["access","view","edit"],[_e.RETROPLANNING_VIEW]:["access","view"],[_e.RETROPLANNING_CREATE]:["access","view","edit"],[_e.RETROPLANNING_RESPOND]:["access","view","edit"],[_e.RETROSUPPORT]:["access","view","edit"],[_e.RETROSUPPORT_VIEW]:["access","view"],[_e.RETROSUPPORT_CREATE]:["access","view","edit"]}},PARTENAIRE:{label:"Partenaire",color:"teal",permissions:{[_e.MYRBE_ACCESS]:["access","view"]}},MEMBER:{label:"Membre",color:"blue",permissions:{[_e.VEHICLES]:["access","view"],[_e.VEHICLE_VIEW]:["access","view"],[_e.EVENTS]:["access","view"],[_e.EVENT_VIEW]:["access","view"],[_e.NEWSLETTER]:["access","view"]}}};function wK(t,n,r="access",i=null){if(i&&Array.isArray(i)){const l=i.find(u=>u.resource===n||u.resource===n?.toUpperCase());if(l&&(!l.expiresAt||new Date(l.expiresAt)>new Date)){const d={access:"READ",view:"READ",read:"READ",edit:"UPDATE",update:"UPDATE",delete:"DELETE",create:"CREATE"}[r]||"READ";if(l.actions&&l.actions.includes(d))return!0}}return t==="PRESTATAIRE"?n?.startsWith("retroplanning")||n?.startsWith("retrosupport"):!0}function yl(t,n,r=null){return wK(t,n,"access",r)}function fu({to:t,exact:n=!1,children:r}){const{pathname:i}=lo(),l=n?i===t:i===t||i.startsWith(t+"/");return e.jsx(m1,{as:cr,to:t,color:l?"var(--rbe-red)":"gray.600",fontWeight:l?"bold":"normal",textDecoration:"none",position:"relative",_hover:{color:"var(--rbe-red)",textDecoration:"none"},_after:l?{content:'""',position:"absolute",bottom:"-8px",left:0,right:0,height:"2px",bg:"var(--rbe-red)",borderRadius:"1px"}:{},"aria-current":l?"page":void 0,children:r})}function CK(){const{user:t,customPermissions:n}=vs(),r=t?.role||"MEMBER",i=yl(r,_e.SITE_MANAGEMENT,n),l=yl(r,_e.VEHICLES,n),u=yl(r,_e.EVENTS,n),d=yl(r,_e.MYRBE,n),m=yl(r,_e.NEWSLETTER,n),p=yl(r,_e.RETROPLANNING,n),g=yl(r,_e.RETROSUPPORT,n);return r==="PRESTATAIRE"?e.jsxs(nr,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[p&&e.jsx(fu,{to:"/dashboard/retroplanning",children:" RtroPlanning"}),g&&e.jsx(fu,{to:"/dashboard/support",children:" RtroSupport"})]}):e.jsxs(nr,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[i&&e.jsx(fu,{to:"/dashboard",children:" Accueil"}),l&&e.jsx(fu,{to:"/dashboard/vehicules",children:" Vhicules"}),u&&e.jsx(fu,{to:"/dashboard/evenements",children:" vnements"}),d&&e.jsx(fu,{to:"/dashboard/myrbe",children:" MyRBE"}),m&&e.jsx(fu,{to:"/dashboard/retromerch",children:" RtroMerch"})]})}const Ng={red:"#2e538d",yellow:"#2e538d",green:"#bb1f11",blue:"#bb1f11"},yu={INFO:{key:"INFO",label:"Flash Infos",color:{bg:"red.50",border:"red.300",text:"red.800",accent:"#bb1f11"}},NOTIF:{key:"NOTIF",label:"Flash Notifications",color:{bg:"orange.50",border:"orange.300",text:"orange.800",accent:"#d97706"}},POS:{key:"POS",label:"Flash Positif",color:{bg:"green.50",border:"green.300",text:"green.900",accent:"#16a34a"}}},EK="56px",_K="80px",TK="52px",AK="110px",QP="rbe:announcements:dismissed:";function RK(){return`flash-${Date.now()}-${Math.floor(Math.random()*1e3)}`}async function kK(){try{const t=await yv.getAll();return Array.isArray(t)?t:[]}catch{return[]}}async function DK(t){try{return await yv.create(t)}catch(n){throw n}}async function IT(t,n){try{return await yv.update(t,n)}catch(r){throw r}}async function PK(t){try{return await yv.delete(t),!0}catch(n){throw n}}function NT(t){if(!t)return{};try{const n=localStorage.getItem(QP+t);return n?JSON.parse(n):{}}catch{return{}}}function MK(t,n){try{localStorage.setItem(QP+t,JSON.stringify(n||{}))}catch{}}const LT={INFO:jK,NOTIF:bK,POS:SK};function nj({catKey:t}){const n=Object.values(yu).find(i=>i.key===t)||yu.INFO,r=LT[t]||LT.INFO;return e.jsx(Js,{label:n.label,children:e.jsxs(ue,{as:"span",display:"inline-flex",alignItems:"center",gap:2,children:[e.jsx(Oi,{src:r,alt:"",boxSize:"18px",draggable:!1}),e.jsx(HP,{children:n.label})]})})}function zK(t){return e.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor","aria-hidden":"true",...t,children:e.jsx("path",{d:"M3 10v4a2 2 0 0 0 2 2h1v2a1 1 0 0 0 1.555.832L12 16h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6L7.555 3.168A1 1 0 0 0 6 4v2H5a2 2 0 0 0-2 2z"})})}function IK(){const{logout:t,prenom:n,nom:r,isAuthenticated:i,isAdmin:l,matricule:u}=vs(),d=co(),m=on(),p=Rt(),g=Rt(),x=Rt(),y=qq({base:!0,md:!1}),[S,w]=v.useState([]),[C,_]=v.useState(!0),[T,R]=v.useState(null),[D,k]=v.useState({message:"",category:"INFO",active:!0,expiresAt:""}),N=()=>{t(),d("/login"),m({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs",status:"info",duration:3e3,isClosable:!0})};v.useEffect(()=>{if(!i)return;let q;const W=600*1e3,Ee=()=>{clearTimeout(q),q=setTimeout(()=>{t(),d("/login"),m({title:"Session expire",description:"Vous avez t dconnect pour inactivit (10 minutes)",status:"warning",duration:5e3,isClosable:!0})},W)},B=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Ee(),B.forEach(ie=>{document.addEventListener(ie,Ee,!0)}),()=>{clearTimeout(q),B.forEach(ie=>{document.removeEventListener(ie,Ee,!0)})}},[i,t,d,m]),v.useEffect(()=>{async function q(){try{_(!0);const W=await kK();w(W)}finally{_(!1)}}q()},[m]);const M=Date.now(),O=v.useMemo(()=>S.filter(q=>q&&q.active&&(!q.expiresAt||new Date(q.expiresAt).getTime()>M)),[S,M]),H=v.useMemo(()=>O.filter(q=>q.category==="INFO"),[O]),[U,ae]=v.useState(0);v.useEffect(()=>{const q=NT(u||"anon"),W=O.reduce((Ee,B)=>{const ie=q[B.id]||0,xe=B.updatedAt?new Date(B.updatedAt).getTime():B.createdAt?new Date(B.createdAt).getTime():0;return Ee+(ie>=xe?0:1)},0);ae(W)},[S,u,O.length]);const he=()=>{R(null),k({message:"",category:"INFO",active:!0,expiresAt:""}),p.onOpen()},le=q=>{R(q),k({message:q.message||"",category:q.category||"INFO",active:!!q.active,expiresAt:q.expiresAt||""}),p.onOpen()},de=async()=>{const q=(D.message||"").trim();if(!q)return m({status:"warning",title:"Le message est requis"});["INFO","NOTIF","POS"].includes(D.category)||(D.category="INFO");try{if(T){const W=await IT(T.id,{message:q,category:D.category,active:!!D.active,expiresAt:D.expiresAt||null});w(Ee=>Ee.map(B=>B.id===T.id?W:B)),m({status:"success",title:"Flash modifi"})}else{const W={id:RK(),message:q,category:D.category,active:!!D.active,expiresAt:D.expiresAt||null},Ee=await DK(W);w(B=>[Ee,...B]),m({status:"success",title:"Flash ajout"})}R(null),p.onClose()}catch(W){m({status:"error",title:"Erreur",description:`Impossible de sauvegarder le flash: ${W.message}`})}},Re=async q=>{if(confirm("Supprimer ce flash ?"))try{await PK(q),w(W=>W.filter(Ee=>Ee.id!==q)),m({status:"info",title:"Flash supprim"})}catch{m({status:"error",title:"Erreur",description:"Impossible de supprimer le flash"})}},fe=async q=>{try{const W=S.find(B=>B.id===q);if(!W)return;const Ee=await IT(q,{active:!W.active});w(B=>B.map(ie=>ie.id===q?Ee:ie))}catch{m({status:"error",title:"Erreur",description:"Impossible de modifier le flash"})}},se=q=>{const W=u||"anon",Ee=NT(W),B=Date.now();Ee[q]=B,MK(W,Ee),ae(ie=>Math.max(0,ie-1)),m({status:"info",title:"Prise de connaissance enregistre"})},Y=q=>{const W=Object.values(yu).find(Ee=>Ee.key===q)||yu.INFO;return{bg:W.color.bg,borderColor:W.color.border,color:W.color.text,accent:W.color.accent}};return e.jsxs(ue,{as:"header",w:"100%",bg:"white",position:"sticky",top:"0",zIndex:"1000",borderBottom:"1px solid #3a3a3aff",children:[e.jsxs(ue,{position:"relative",h:{base:EK,md:_K},overflow:"visible",children:[e.jsx(ue,{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",zIndex:0,pointerEvents:"none",style:{background:`linear-gradient(90deg,
              ${Ng.red} 0%,
              ${Ng.yellow} 22%,
              ${Ng.green} 70%,
              ${Ng.blue} 100%
            )`}}),e.jsx(Oi,{src:yK,alt:"RtroBus Essonne Intranet",height:{base:TK,md:AK},objectFit:"contain",position:"absolute",left:{base:3,md:5},top:"50%",transform:"translateY(-50%)",zIndex:2,draggable:!1}),e.jsx(ue,{position:"absolute",right:{base:2,md:6},top:"50%",transform:"translateY(-50%)",zIndex:2,children:y?e.jsx(yt,{"aria-label":"Menu",icon:e.jsx(ue,{as:"span",display:"inline-block",w:"18px",h:"2px",bg:"white",position:"relative",_before:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"-6px",left:0},_after:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"6px",left:0}}),size:"sm",variant:"ghost",color:"white",onClick:x.onOpen,title:"Ouvrir le menu"}):e.jsxs(re,{spacing:2,children:[e.jsx(Js,{label:l?"Grer les flashs":"Vous n'tes pas autoris",children:e.jsx("span",{children:e.jsx(yt,{"aria-label":"Annonces (gestion)",icon:e.jsx(zK,{}),size:"sm",variant:"ghost",color:"white",onClick:()=>{l&&p.onOpen()},title:"Annonces",isDisabled:!l})})}),e.jsx(xK,{}),e.jsxs(Uo,{children:[e.jsxs(Ho,{as:J,colorScheme:"red",children:["Bonjour, ",n||"Utilisateur"]}),e.jsxs(Wo,{children:[e.jsx(En,{as:cr,to:"/adhesion",children:"Mon Adhsion"}),e.jsx(En,{as:cr,to:"/retromail",children:"RtroMail"}),e.jsx(En,{onClick:N,color:"red.500",children:"Dconnexion"})]})]})]})})]}),e.jsx(ue,{display:{base:"none",md:"block"},children:e.jsx(CK,{})}),e.jsxs(OZ,{isOpen:x.isOpen,onClose:x.onClose,placement:"right",children:[e.jsx(_t,{}),e.jsxs(kP,{children:[e.jsx($t,{}),e.jsxs(Et,{bg:"var(--rbe-red)",color:"white",children:[e.jsxs(P,{fontWeight:"bold",children:[" Bonjour ",n||"Utilisateur"]}),U>0&&e.jsxs(P,{fontSize:"sm",color:"whiteAlpha.800",children:[U," flash(s) non lu(s)"]})]}),e.jsx(Ct,{p:0,children:e.jsxs(ne,{align:"stretch",spacing:0,children:[e.jsx(J,{as:cr,to:"/dashboard",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Accueil"}),e.jsx(J,{as:cr,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Vhicules"}),e.jsx(J,{as:cr,to:"/dashboard/evenements",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"vnements"}),e.jsx(J,{as:cr,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"MyRBE"}),e.jsx(J,{as:cr,to:"/dashboard/retromerch",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMerch"}),e.jsx(bn,{}),e.jsx(J,{onClick:()=>{g.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Voir les flashs"}),l&&e.jsx(J,{onClick:()=>{p.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Grer les flashs"}),e.jsx(bn,{}),e.jsx(J,{as:cr,to:"/adhesion",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Mon Adhsion"}),e.jsx(J,{as:cr,to:"/retromail",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMail"}),e.jsx(J,{onClick:()=>{x.onClose(),N()},colorScheme:"red",justifyContent:"flex-start",variant:"ghost",py:4,px:5,children:"Dconnexion"})]})})]})]}),e.jsx(ue,{children:H.map(q=>{const W=Y(q.category);return e.jsx(ue,{bg:W.bg,borderTop:"2px solid",borderColor:W.borderColor||W.border,py:2,px:4,children:e.jsxs(re,{spacing:3,flex:"1",align:"center",children:[e.jsx(ue,{children:e.jsx(nj,{catKey:q.category})}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:{base:"sm",md:"md"},color:W.color,children:q.message}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:q.createdAt?`Publi: ${new Date(q.createdAt).toLocaleString()}`:""})]}),e.jsx(ue,{children:l?e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",onClick:()=>le(q),children:"diter"}),e.jsx(J,{size:"sm",colorScheme:q.active?"yellow":"green",onClick:()=>fe(q.id),children:q.active?"Dsactiver":"Activer"}),e.jsx(J,{size:"sm",colorScheme:"red",onClick:()=>Re(q.id),children:"Supprimer"})]}):e.jsx(J,{size:"sm",onClick:()=>se(q.id),children:"Prendre connaissance"})})]})},q.id)})}),e.jsxs(wt,{isOpen:g.isOpen,onClose:g.onClose,isCentered:!0,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxW:"900px",children:[e.jsx(Et,{children:"Flashs en cours"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[O.length===0&&e.jsx(P,{color:"gray.600",children:"Aucun flash en cours."}),O.map(q=>e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsxs(re,{spacing:2,align:"center",children:[e.jsx(nj,{catKey:q.category}),e.jsx(P,{fontWeight:"600",children:q.message})]}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:q.createdAt?`Publi: ${new Date(q.createdAt).toLocaleString()}`:""}),e.jsx(J,{size:"sm",onClick:()=>{se(q.id)},children:"Prendre connaissance"})]},q.id))]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:g.onClose,children:"Fermer"})})]})]}),e.jsxs(wt,{isOpen:p.isOpen,onClose:()=>{R(null),p.onClose()},isCentered:!0,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxW:"900px",children:[e.jsx(Et,{children:"Gestion des flashs"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(uo,{direction:"row",justify:"space-between",align:"center",children:[e.jsx(P,{fontWeight:"600",children:"Diffusions existantes"}),e.jsx(J,{size:"sm",onClick:he,children:"Nouveau flash"})]}),S.length===0&&e.jsx(P,{color:"gray.600",children:"Aucun flash enregistr."}),S.map(q=>{const W=Y(q.category);return e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:W.bg,children:[e.jsxs(re,{spacing:2,align:"center",children:[e.jsx(nj,{catKey:q.category}),e.jsx(P,{fontWeight:"600",children:q.message})]}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:q.createdAt?`Publi: ${new Date(q.createdAt).toLocaleString()}`:""}),e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",onClick:()=>le(q),children:"diter"}),e.jsx(J,{size:"sm",onClick:()=>fe(q.id),children:q.active?"Dsactiver":"Activer"}),e.jsx(J,{size:"sm",colorScheme:"red",onClick:()=>Re(q.id),children:"Supprimer"})]})]},q.id)}),e.jsxs(ue,{mt:2,p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsx(P,{fontWeight:"600",mb:2,children:T?"Modifier le flash":"Crer un nouveau flash"}),e.jsxs(Q,{mb:2,children:[e.jsx(K,{children:"Catgorie"}),e.jsxs(st,{value:D.category,onChange:q=>k(W=>({...W,category:q.target.value})),children:[e.jsx("option",{value:"INFO",children:yu.INFO.label}),e.jsx("option",{value:"NOTIF",children:yu.NOTIF.label}),e.jsx("option",{value:"POS",children:yu.POS.label})]})]}),e.jsxs(Q,{mb:2,children:[e.jsx(K,{children:"Message"}),e.jsx(en,{value:D.message,onChange:q=>k(W=>({...W,message:q.target.value})),rows:4})]}),e.jsxs(Q,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(K,{mb:"0",mr:3,children:"Actif"}),e.jsx(ur,{isChecked:D.active,onChange:q=>k(W=>({...W,active:q.target.checked}))})]}),e.jsxs(Q,{mb:2,children:[e.jsx(K,{children:"Expire le (optionnel)"}),e.jsx("input",{type:"datetime-local",value:D.expiresAt||"",onChange:q=>k(W=>({...W,expiresAt:q.target.value||""})),style:{width:"100%",padding:"8px",borderRadius:6,border:"1px solid #e2e8f0"}})]}),e.jsxs(re,{gap:2,justify:"flex-end",children:[e.jsx(J,{variant:"ghost",onClick:()=>{R(null),k({message:"",category:"INFO",active:!0,expiresAt:""})},children:"Rinitialiser"}),e.jsx(J,{colorScheme:"blue",onClick:de,children:T?"Sauvegarder":"Crer"})]})]})]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:()=>{R(null),p.onClose()},children:"Fermer"})})]})]})]})}function xl({children:t}){const{isAuthenticated:n,user:r,sessionChecked:i,ensureSession:l}=vs(),[u,d]=v.useState(!1);return v.useEffect(()=>{!i&&!u&&(l(),d(!0))},[i,u,l]),i?!n||!r?e.jsx(Eu,{to:"/login",replace:!0}):t:e.jsx(vn,{py:20,children:e.jsx(mn,{size:"lg"})})}var JP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OT=un.createContext&&un.createContext(JP),NK=["attr","size","title"];function LK(t,n){if(t==null)return{};var r=OK(t,n),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)i=u[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function OK(t,n){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(n.indexOf(i)>=0)continue;r[i]=t[i]}return r}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zx.apply(this,arguments)}function BT(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,i)}return r}function Ix(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?BT(Object(r),!0).forEach(function(i){BK(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function BK(t,n,r){return n=$K(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function $K(t){var n=FK(t,"string");return typeof n=="symbol"?n:n+""}function FK(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function eM(t){return t&&t.map((n,r)=>un.createElement(n.tag,Ix({key:r},n.attr),eM(n.child)))}function ut(t){return n=>un.createElement(VK,zx({attr:Ix({},t.attr)},n),eM(t.child))}function VK(t){var n=r=>{var{attr:i,size:l,title:u}=t,d=LK(t,NK),m=l||r.size||"1em",p;return r.className&&(p=r.className),t.className&&(p=(p?p+" ":"")+t.className),un.createElement("svg",zx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:p,style:Ix(Ix({color:t.color||r.color},r.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&un.createElement("title",null,u),t.children)};return OT!==void 0?un.createElement(OT.Consumer,null,r=>n(r)):n(JP)}function Lo(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function T1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function tM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function nM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function UK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function HK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function WK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function rM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function qK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function $s(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function A1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Hp(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function R1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function sM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function Nx(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function k1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function D1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function $T(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function GK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function Lx(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Mc(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Mi(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function YK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Jd(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Fs(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function iM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Sb(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Wu(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function ZK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function wb(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function XK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function ch(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function P1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function KK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function QK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(t)}function Iu(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function JK(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(t)}function eQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function aM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Go(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function zc(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function _c(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function tQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function nQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function rQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function uh(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(t)}function Ox(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function oM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function sQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function _n(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function io(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Pl(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function hm(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function iQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function Dh(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function M1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function aQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function oQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function lQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function Zn(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function cQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function uQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function lM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Tc(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function Cb(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(t)}function dQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function cM(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function FT(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Bx(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function rj(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function zi(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function hQ(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function qu(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Ur({children:t,allowedRoles:n=null,deniedRoles:r=null,fallbackRoute:i="/dashboard/home",showError:l=!0}){const{isAuthenticated:u,roles:d}=vs();if(!u)return e.jsx(Eu,{to:"/login",replace:!0});const m=d?.[0]||"MEMBER";return r&&r.includes(m)?(console.warn(` RoleProtectedRoute: Role "${m}" is denied access`),l?e.jsx(vn,{minH:"60vh",px:4,children:e.jsxs(ne,{spacing:4,textAlign:"center",children:[e.jsx(Mn,{as:Go,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(P,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(P,{fontSize:"sm",color:"gray.500",children:["Rle: ",e.jsx("strong",{children:m})]})]})]})}):e.jsx(Eu,{to:i,replace:!0})):n&&!n.includes(m)?(console.warn(` RoleProtectedRoute: Role "${m}" not in allowed roles`),l?e.jsx(vn,{minH:"60vh",px:4,children:e.jsxs(ne,{spacing:4,textAlign:"center",children:[e.jsx(Mn,{as:Go,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(P,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(P,{fontSize:"sm",color:"gray.500",children:["Rles autoriss: ",e.jsx("strong",{children:n.join(", ")})]})]})]})}):e.jsx(Eu,{to:i,replace:!0})):t}function Lg({children:t,resource:n=null,permissionType:r="access",fallbackRoute:i="/dashboard/home",showError:l=!1}){const{isAuthenticated:u,user:d}=vs();if(!u)return console.warn(" PermissionProtectedRoute: Not authenticated"),e.jsx(Eu,{to:"/login",replace:!0});if(!d)return console.warn(" PermissionProtectedRoute: No user data"),e.jsx(Eu,{to:"/login",replace:!0});if(!n)return t;const m=d.role||d.roles?.[0]||"MEMBER";return yl(m,n)?(console.log(` PermissionProtectedRoute: Access granted to "${n}" for role "${m}"`),t):(console.warn(` PermissionProtectedRoute: User role "${m}" denied access to resource "${n}"`),l?e.jsx(ue,{p:8,textAlign:"center",minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{fontSize:"2xl",fontWeight:"bold",children:" Accs Refus"}),e.jsx(P,{fontSize:"md",color:"gray.600",children:"Vous n'avez pas les permissions ncessaires pour accder  cette ressource."}),e.jsxs(P,{fontSize:"sm",color:"gray.400",children:["Votre rle: ",e.jsx("strong",{children:m})]})]})}):e.jsx(Eu,{to:i,replace:!0}))}function uM(t){if(!t)return null;const n=String(t).trim().toUpperCase();if(Sp[n])return n;const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN"};return r[n]?r[n]:n}function sj(t,n){const r=uM(t),i=Sp[r];if(!i)return console.warn(` Rle inconnu: "${t}" (normalis: "${r}")`),!1;const l=i.permissions[n]||[];return l.includes(mx.EDIT)||l.includes("edit")}function fQ(){const{matricule:t,roles:n=[]}=vs(),r=n?.[0]||null,i=uM(r),l=()=>!i||!t?!1:sj(i,_e.VEHICLE_CREATE);return{canCreateVehicle:l,canViewVehicles:()=>{if(!i||!t)return!1;const x=Sp[i];if(!x)return!1;const y=x.permissions[_e.VEHICLES]||[];return y.includes(mx.VIEW)||y.includes("view")||y.includes(mx.EDIT)||y.includes("edit")},canEditVehicle:()=>!i||!t?!1:sj(i,_e.VEHICLE_EDIT),canDeleteVehicle:()=>!i||!t?!1:sj(i,_e.VEHICLE_DELETE),getAccessDeniedMessage:(x="create")=>{const y=r||"inconnu",S=Object.entries(Sp).filter(([C,_])=>{const T=_.permissions[_e.VEHICLE_CREATE]||[];return T.includes(mx.EDIT)||T.includes("edit")}).map(([C,_])=>_.label),w={create:`Vous n'tes pas autoris  ajouter des vhicules.

Rle actuel: ${y}
Rles autoriss: ${S.join(", ")}`,view:`Vous n'tes pas autoris  consulter les vhicules. Rle: ${y}`,edit:`Vous n'tes pas autoris  modifier les vhicules. Rle: ${y}`,delete:`Vous n'tes pas autoris  supprimer les vhicules. Rle: ${y}`};return w[x]||w.create},currentRole:i,currentMatricule:t,rawRole:r,debugInfo:()=>({rawRole:r,normalizedRole:i,matricule:t,canCreate:l(),roleConfig:Sp[i]})}}function pQ({children:t}){const{matricule:n,user:r}=vs(),{canCreateVehicle:i,getAccessDeniedMessage:l,currentRole:u,rawRole:d,debugInfo:m}=fQ();if(i())return t;const p=m?.();return e.jsx(ue,{p:8,maxW:"700px",mx:"auto",mt:8,children:e.jsxs(ne,{spacing:4,align:"stretch",textAlign:"center",children:[e.jsx(Pe,{size:"lg",color:"red.600",children:" Accs refus"}),e.jsx(ue,{bg:"red.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:e.jsx(P,{fontWeight:"bold",mb:2,whiteSpace:"pre-wrap",children:l("create")})}),e.jsxs(ue,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"blue.500",children:[e.jsx(P,{fontWeight:"bold",mb:2,fontSize:"sm",children:" Informations actuelles:"}),e.jsxs(ne,{align:"start",spacing:1,fontSize:"sm",children:[e.jsxs(P,{children:[e.jsx("strong",{children:"Matricule:"})," ",e.jsx(vh,{children:n||"N/A"})]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Rle brut:"})," ",e.jsx(vh,{children:d||"N/A"})]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Rle normalis:"})," ",e.jsx(et,{colorScheme:"purple",children:u||"INCONNU"})]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Peut crer:"})," ",e.jsx(et,{colorScheme:"red",children:"Non"})]})]})]}),p&&e.jsxs(ue,{bg:"gray.100",p:3,borderRadius:"md",textAlign:"left",fontSize:"xs",fontFamily:"monospace",overflowX:"auto",children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Debug info:"}),e.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:JSON.stringify(p,null,2)})]}),e.jsx(bn,{}),e.jsx(P,{fontSize:"xs",color:"gray.600",p:3,bg:"gray.50",borderRadius:"md",children:`Si vous pensez que c'est une erreur, contactez un administrateur avec le lien "Support" en bas de page.`})]})})}var mQ=Object.defineProperty,$x=Object.getOwnPropertySymbols,dM=Object.prototype.hasOwnProperty,hM=Object.prototype.propertyIsEnumerable,VT=(t,n,r)=>n in t?mQ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Eb=(t,n)=>{for(var r in n||(n={}))dM.call(n,r)&&VT(t,r,n[r]);if($x)for(var r of $x(n))hM.call(n,r)&&VT(t,r,n[r]);return t},_b=(t,n)=>{var r={};for(var i in t)dM.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&$x)for(var i of $x(t))n.indexOf(i)<0&&hM.call(t,i)&&(r[i]=t[i]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Gu;(t=>{const n=class Pn{constructor(p,g,x,y){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<Pn.MIN_VERSION||p>Pn.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let C=0;C<this.size;C++)S.push(!1);for(let C=0;C<this.size;C++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(x);if(this.drawCodewords(w),y==-1){let C=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const T=this.getPenaltyScore();T<C&&(y=_,C=T),this.applyMask(_)}}l(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}static encodeText(p,g){const x=t.QrSegment.makeSegments(p);return Pn.encodeSegments(x,g)}static encodeBinary(p,g){const x=t.QrSegment.makeBytes(p);return Pn.encodeSegments([x],g)}static encodeSegments(p,g,x=1,y=40,S=-1,w=!0){if(!(Pn.MIN_VERSION<=x&&x<=y&&y<=Pn.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let C,_;for(C=x;;C++){const k=Pn.getNumDataCodewords(C,g)*8,N=d.getTotalBits(p,C);if(N<=k){_=N;break}if(C>=y)throw new RangeError("Data too long")}for(const k of[Pn.Ecc.MEDIUM,Pn.Ecc.QUARTILE,Pn.Ecc.HIGH])w&&_<=Pn.getNumDataCodewords(C,k)*8&&(g=k);let T=[];for(const k of p){r(k.mode.modeBits,4,T),r(k.numChars,k.mode.numCharCountBits(C),T);for(const N of k.getData())T.push(N)}l(T.length==_);const R=Pn.getNumDataCodewords(C,g)*8;l(T.length<=R),r(0,Math.min(4,R-T.length),T),r(0,(8-T.length%8)%8,T),l(T.length%8==0);for(let k=236;T.length<R;k^=253)r(k,8,T);let D=[];for(;D.length*8<T.length;)D.push(0);return T.forEach((k,N)=>D[N>>>3]|=k<<7-(N&7)),new Pn(C,g,D,S)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let x=0;x<g;x++)for(let y=0;y<g;y++)x==0&&y==0||x==0&&y==g-1||x==g-1&&y==0||this.drawAlignmentPattern(p[x],p[y]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let x=g;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const y=(g<<10|x)^21522;l(y>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,i(y,S));this.setFunctionModule(8,7,i(y,6)),this.setFunctionModule(8,8,i(y,7)),this.setFunctionModule(7,8,i(y,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,i(y,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,i(y,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,i(y,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;l(g>>>18==0);for(let x=0;x<18;x++){const y=i(g,x),S=this.size-11+x%3,w=Math.floor(x/3);this.setFunctionModule(S,w,y),this.setFunctionModule(w,S,y)}}drawFinderPattern(p,g){for(let x=-4;x<=4;x++)for(let y=-4;y<=4;y++){const S=Math.max(Math.abs(y),Math.abs(x)),w=p+y,C=g+x;0<=w&&w<this.size&&0<=C&&C<this.size&&this.setFunctionModule(w,C,S!=2&&S!=4)}}drawAlignmentPattern(p,g){for(let x=-2;x<=2;x++)for(let y=-2;y<=2;y++)this.setFunctionModule(p+y,g+x,Math.max(Math.abs(y),Math.abs(x))!=1)}setFunctionModule(p,g,x){this.modules[g][p]=x,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,x=this.errorCorrectionLevel;if(p.length!=Pn.getNumDataCodewords(g,x))throw new RangeError("Invalid argument");const y=Pn.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][g],S=Pn.ECC_CODEWORDS_PER_BLOCK[x.ordinal][g],w=Math.floor(Pn.getNumRawDataModules(g)/8),C=y-w%y,_=Math.floor(w/y);let T=[];const R=Pn.reedSolomonComputeDivisor(S);for(let k=0,N=0;k<y;k++){let M=p.slice(N,N+_-S+(k<C?0:1));N+=M.length;const O=Pn.reedSolomonComputeRemainder(M,R);k<C&&M.push(0),T.push(M.concat(O))}let D=[];for(let k=0;k<T[0].length;k++)T.forEach((N,M)=>{(k!=_-S||M>=C)&&D.push(N[k])});return l(D.length==w),D}drawCodewords(p){if(p.length!=Math.floor(Pn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let y=0;y<this.size;y++)for(let S=0;S<2;S++){const w=x-S,_=(x+1&2)==0?this.size-1-y:y;!this.isFunction[_][w]&&g<p.length*8&&(this.modules[_][w]=i(p[g>>>3],7-(g&7)),g++)}}l(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let x=0;x<this.size;x++){let y;switch(p){case 0:y=(x+g)%2==0;break;case 1:y=g%2==0;break;case 2:y=x%3==0;break;case 3:y=(x+g)%3==0;break;case 4:y=(Math.floor(x/3)+Math.floor(g/2))%2==0;break;case 5:y=x*g%2+x*g%3==0;break;case 6:y=(x*g%2+x*g%3)%2==0;break;case 7:y=((x+g)%2+x*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][x]&&y&&(this.modules[g][x]=!this.modules[g][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let w=!1,C=0,_=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[S][T]==w?(C++,C==5?p+=Pn.PENALTY_N1:C>5&&p++):(this.finderPenaltyAddHistory(C,_),w||(p+=this.finderPenaltyCountPatterns(_)*Pn.PENALTY_N3),w=this.modules[S][T],C=1);p+=this.finderPenaltyTerminateAndCount(w,C,_)*Pn.PENALTY_N3}for(let S=0;S<this.size;S++){let w=!1,C=0,_=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][S]==w?(C++,C==5?p+=Pn.PENALTY_N1:C>5&&p++):(this.finderPenaltyAddHistory(C,_),w||(p+=this.finderPenaltyCountPatterns(_)*Pn.PENALTY_N3),w=this.modules[T][S],C=1);p+=this.finderPenaltyTerminateAndCount(w,C,_)*Pn.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let w=0;w<this.size-1;w++){const C=this.modules[S][w];C==this.modules[S][w+1]&&C==this.modules[S+1][w]&&C==this.modules[S+1][w+1]&&(p+=Pn.PENALTY_N2)}let g=0;for(const S of this.modules)g=S.reduce((w,C)=>w+(C?1:0),g);const x=this.size*this.size,y=Math.ceil(Math.abs(g*20-x*10)/x)-1;return l(0<=y&&y<=9),p+=y*Pn.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let y=this.size-7;x.length<p;y-=g)x.splice(1,0,y);return x}}static getNumRawDataModules(p){if(p<Pn.MIN_VERSION||p>Pn.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;g-=(25*x-10)*x-55,p>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(Pn.getNumRawDataModules(p)/8)-Pn.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*Pn.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let y=0;y<p-1;y++)g.push(0);g.push(1);let x=1;for(let y=0;y<p;y++){for(let S=0;S<g.length;S++)g[S]=Pn.reedSolomonMultiply(g[S],x),S+1<g.length&&(g[S]^=g[S+1]);x=Pn.reedSolomonMultiply(x,2)}return g}static reedSolomonComputeRemainder(p,g){let x=g.map(y=>0);for(const y of p){const S=y^x.shift();x.push(0),g.forEach((w,C)=>x[C]^=Pn.reedSolomonMultiply(w,S))}return x}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let x=0;for(let y=7;y>=0;y--)x=x<<1^(x>>>7)*285,x^=(g>>>y&1)*p;return l(x>>>8==0),x}finderPenaltyCountPatterns(p){const g=p[1];l(g<=this.size*3);const x=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(x&&p[0]>=g*4&&p[6]>=g?1:0)+(x&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,x){return p&&(this.finderPenaltyAddHistory(g,x),g=0),g+=this.size,this.finderPenaltyAddHistory(g,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(m,p,g){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)g.push(m>>>x&1)}function i(m,p){return(m>>>p&1)!=0}function l(m){if(!m)throw new Error("Assertion error")}const u=class Hr{constructor(p,g,x){if(this.mode=p,this.numChars=g,this.bitData=x,g<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let g=[];for(const x of p)r(x,8,g);return new Hr(Hr.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!Hr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let x=0;x<p.length;){const y=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+y),10),y*3+1,g),x+=y}return new Hr(Hr.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!Hr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],x;for(x=0;x+2<=p.length;x+=2){let y=Hr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;y+=Hr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(y,11,g)}return x<p.length&&r(Hr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,g),new Hr(Hr.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:Hr.isNumeric(p)?[Hr.makeNumeric(p)]:Hr.isAlphanumeric(p)?[Hr.makeAlphanumeric(p)]:[Hr.makeBytes(Hr.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,g);else if(p<16384)r(2,2,g),r(p,14,g);else if(p<1e6)r(6,3,g),r(p,21,g);else throw new RangeError("ECI assignment value out of range");return new Hr(Hr.Mode.ECI,0,g)}static isNumeric(p){return Hr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Hr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let x=0;for(const y of p){const S=y.mode.numCharCountBits(g);if(y.numChars>=1<<S)return 1/0;x+=4+S+y.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?g.push(p.charCodeAt(x)):(g.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;t.QrSegment=u})(Gu||(Gu={}));(t=>{(n=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),n.Ecc=r})(t.QrCode||(t.QrCode={}))})(Gu||(Gu={}));(t=>{(n=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),n.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Gu||(Gu={}));var eh=Gu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gQ={L:eh.QrCode.Ecc.LOW,M:eh.QrCode.Ecc.MEDIUM,Q:eh.QrCode.Ecc.QUARTILE,H:eh.QrCode.Ecc.HIGH},fM=128,pM="L",mM="#FFFFFF",gM="#000000",xM=!1,vM=1,xQ=4,vQ=0,yQ=.1;function yM(t,n=0){const r=[];return t.forEach(function(i,l){let u=null;i.forEach(function(d,m){if(!d&&u!==null){r.push(`M${u+n} ${l+n}h${m-u}v1H${u+n}z`),u=null;return}if(m===i.length-1){if(!d)return;u===null?r.push(`M${m+n},${l+n} h1v1H${m+n}z`):r.push(`M${u+n},${l+n} h${m+1-u}v1H${u+n}z`);return}d&&u===null&&(u=m)})}),r.join("")}function jM(t,n){return t.slice().map((r,i)=>i<n.y||i>=n.y+n.h?r:r.map((l,u)=>u<n.x||u>=n.x+n.w?l:!1))}function jQ(t,n,r,i){if(i==null)return null;const l=t.length+r*2,u=Math.floor(n*yQ),d=l/n,m=(i.width||u)*d,p=(i.height||u)*d,g=i.x==null?t.length/2-m/2:i.x*d,x=i.y==null?t.length/2-p/2:i.y*d,y=i.opacity==null?1:i.opacity;let S=null;if(i.excavate){let C=Math.floor(g),_=Math.floor(x),T=Math.ceil(m+g-C),R=Math.ceil(p+x-_);S={x:C,y:_,w:T,h:R}}const w=i.crossOrigin;return{x:g,y:x,h:p,w:m,excavation:S,opacity:y,crossOrigin:w}}function bQ(t,n){return n!=null?Math.max(Math.floor(n),0):t?xQ:vQ}function bM({value:t,level:n,minVersion:r,includeMargin:i,marginSize:l,imageSettings:u,size:d,boostLevel:m}){let p=un.useMemo(()=>{const C=(Array.isArray(t)?t:[t]).reduce((_,T)=>(_.push(...eh.QrSegment.makeSegments(T)),_),[]);return eh.QrCode.encodeSegments(C,gQ[n],r,void 0,void 0,m)},[t,n,r,m]);const{cells:g,margin:x,numCells:y,calculatedImageSettings:S}=un.useMemo(()=>{let w=p.getModules();const C=bQ(i,l),_=w.length+C*2,T=jQ(w,d,C,u);return{cells:w,margin:C,numCells:_,calculatedImageSettings:T}},[p,d,u,i,l]);return{qrcode:p,margin:x,cells:g,numCells:y,calculatedImageSettings:S}}var SQ=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),SM=un.forwardRef(function(n,r){const i=n,{value:l,size:u=fM,level:d=pM,bgColor:m=mM,fgColor:p=gM,includeMargin:g=xM,minVersion:x=vM,boostLevel:y,marginSize:S,imageSettings:w}=i,_=_b(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=_,R=_b(_,["style"]),D=w?.src,k=un.useRef(null),N=un.useRef(null),M=un.useCallback(fe=>{k.current=fe,typeof r=="function"?r(fe):r&&(r.current=fe)},[r]),[O,H]=un.useState(!1),{margin:U,cells:ae,numCells:he,calculatedImageSettings:le}=bM({value:l,level:d,minVersion:x,boostLevel:y,includeMargin:g,marginSize:S,imageSettings:w,size:u});un.useEffect(()=>{if(k.current!=null){const fe=k.current,se=fe.getContext("2d");if(!se)return;let Y=ae;const q=N.current,W=le!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;W&&le.excavation!=null&&(Y=jM(ae,le.excavation));const Ee=window.devicePixelRatio||1;fe.height=fe.width=u*Ee;const B=u/he*Ee;se.scale(B,B),se.fillStyle=m,se.fillRect(0,0,he,he),se.fillStyle=p,SQ?se.fill(new Path2D(yM(Y,U))):ae.forEach(function(ie,xe){ie.forEach(function($,F){$&&se.fillRect(F+U,xe+U,1,1)})}),le&&(se.globalAlpha=le.opacity),W&&se.drawImage(q,le.x+U,le.y+U,le.w,le.h)}}),un.useEffect(()=>{H(!1)},[D]);const de=Eb({height:u,width:u},T);let Re=null;return D!=null&&(Re=un.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{H(!0)},ref:N,crossOrigin:le?.crossOrigin})),un.createElement(un.Fragment,null,un.createElement("canvas",Eb({style:de,height:u,width:u,ref:M,role:"img"},R)),Re)});SM.displayName="QRCodeCanvas";var wQ=un.forwardRef(function(n,r){const i=n,{value:l,size:u=fM,level:d=pM,bgColor:m=mM,fgColor:p=gM,includeMargin:g=xM,minVersion:x=vM,boostLevel:y,title:S,marginSize:w,imageSettings:C}=i,_=_b(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:R,numCells:D,calculatedImageSettings:k}=bM({value:l,level:d,minVersion:x,boostLevel:y,includeMargin:g,marginSize:w,imageSettings:C,size:u});let N=R,M=null;C!=null&&k!=null&&(k.excavation!=null&&(N=jM(R,k.excavation)),M=un.createElement("image",{href:C.src,height:k.h,width:k.w,x:k.x+T,y:k.y+T,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const O=yM(N,T);return un.createElement("svg",Eb({height:u,width:u,viewBox:`0 0 ${D} ${D}`,ref:r,role:"img"},_),!!S&&un.createElement("title",null,S),un.createElement("path",{fill:m,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),un.createElement("path",{fill:p,d:O,shapeRendering:"crispEdges"}),M)});wQ.displayName="QRCodeSVG";const UT=window.location.origin,CQ=()=>{const[t,n]=v.useState([]),[r,i]=v.useState(!1),[l,u]=v.useState(""),[d,m]=v.useState(!1),[p,g]=v.useState(null),x=on(),y=v.useRef(null),S=v.useCallback(async T=>{try{i(!0);const R=await Nt.get("/vehicles");n(Array.isArray(R)?R:[])}catch(R){R.name!=="AbortError"&&(console.error(R),n([]),x({status:"error",title:"Impossible de charger la liste",description:R.message}))}finally{i(!1)}},[x]);v.useEffect(()=>{const T=new AbortController;return S(T.signal),()=>T.abort()},[S]);const w=t.filter(T=>{if(!l.trim())return!0;const R=l.toLowerCase();return[T.parc,T.modele,T.marque,T.immat].filter(Boolean).some(D=>D.toLowerCase().includes(R))}),C=T=>{g(T),m(!0)},_=()=>{const T=y.current?.querySelector("canvas");if(T){const R=T.toDataURL(),D=document.createElement("a");D.href=R,D.download=`qr-${p?.parc||"vehicle"}.png`,D.click()}};return e.jsxs(ue,{p:6,children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:6,children:[e.jsx(Pe,{children:"Vhicules"}),e.jsx(J,{as:cr,to:"/dashboard/vehicules/ajouter",leftIcon:e.jsx(_n,{}),colorScheme:"blue",children:"Ajouter un vhicule"})]}),e.jsx(ue,{mb:6,children:e.jsx(ge,{placeholder:"Rechercher par parc, modle, marque ou immatriculation...",value:l,onChange:T=>u(T.target.value),maxW:"400px"})}),r?e.jsx(vn,{py:20,children:e.jsx(mn,{size:"xl"})}):e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:6,children:w.map(T=>e.jsxs(Ne,{shadow:"md",children:[e.jsx(St,{pb:2,children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:T.parc}),e.jsx(et,{colorScheme:T.etat==="disponible"?"green":"orange",children:T.etat})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(P,{children:[e.jsx("strong",{children:"Modle:"})," ",T.modele||"Non spcifi"]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Marque:"})," ",T.marque||"Non spcifie"]}),T.immat&&e.jsxs(P,{children:[e.jsx("strong",{children:"Immat:"})," ",T.immat]}),e.jsxs(re,{spacing:2,pt:4,w:"100%",children:[e.jsx(J,{as:cr,to:`/dashboard/vehicules/${T.parc}`,leftIcon:e.jsx(Fs,{}),size:"sm",flex:1,children:"Grer"}),e.jsx(J,{leftIcon:e.jsx(P1,{}),size:"sm",onClick:()=>C(T),children:"QR"})]})]})})]},T.parc))}),w.length===0&&!r&&e.jsx(vn,{py:20,children:e.jsx(P,{color:"gray.500",children:"Aucun vhicule trouv"})}),e.jsxs(wt,{isOpen:d,onClose:()=>m(!1),isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsxs(Et,{children:["QR Code - ",p?.parc]}),e.jsx($t,{}),e.jsx(Ct,{pb:6,children:e.jsxs(ne,{spacing:4,children:[e.jsx(ue,{ref:y,children:e.jsx(SM,{value:`${UT}/mobile/v/${p?.parc}`,size:200,level:"M"})}),e.jsx(P,{fontSize:"sm",color:"gray.600",textAlign:"center",children:`${UT}/mobile/v/${p?.parc}`}),e.jsx(J,{onClick:_,colorScheme:"blue",children:"Tlcharger"})]})})]})]})]})},EQ=(Aa||"https://attractive-kindness-rbe-serveurs.up.railway.app").replace(/\/+$/,""),_Q=(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+|\/+$/g,""),Og=()=>(localStorage.getItem("rbe_api_vehicles_path")||`${_Q}/vehicles`).replace(/^\/+/,"").replace(/\/+$/,""),TQ=()=>(localStorage.getItem("rbe_api_origin")||EQ).replace(/\/+$/,""),Do=t=>{const n=String(t||"").replace(/^\/+/,""),r=TQ(),i=`/${n}`,l=r?`${r}/${n}`:null,u=[i];return l&&u.push(l),u},pu=async(t,n)=>{let r=null;for(const i of t)try{const l=await fetch(i,n);if(!l.ok){r=new Error(`HTTP ${l.status}`);continue}if(!(l.headers.get("content-type")||"").toLowerCase().includes("application/json")){r=new Error("non-json");continue}return await l.json()}catch(l){r=l}throw r||new Error("fetch failed")};function AQ(){const{parc:t}=Vx(),[n]=wN(),r=on(),i=co(),l=n.get("t")||"",{matricule:u,setMatricule:d,token:m}=vs(),[p,g]=v.useState(l||""),[x,y]=v.useState(null),[S,w]=v.useState([]),[C,_]=v.useState([]),[T,R]=v.useState(!0),[D,k]=v.useState(!1),[N,M]=v.useState(!1),[O,H]=v.useState(!1),[U,ae]=v.useState(!1),[he,le]=v.useState(u||""),[de,Re]=v.useState(!1),[fe,se]=v.useState([]),[Y,q]=v.useState(!1),[W,Ee]=v.useState(""),[B,ie]=v.useState([]),[xe,$]=v.useState(""),[F,G]=v.useState(""),[X,ye]=v.useState(""),[ve,be]=v.useState(""),[He,ct]=v.useState(""),[Xe,dt]=v.useState(""),[Ue,Ht]=v.useState(""),[we,Ke]=v.useState(null),[Bt,ce]=v.useState(null),je=`rbe_current_usage_${t}`,[it,It]=v.useState(()=>{const Ye=localStorage.getItem(je);return Ye?JSON.parse(Ye):null}),zn=Ye=>{It(Ye),Ye?localStorage.setItem(je,JSON.stringify(Ye)):localStorage.removeItem(je)},dr=()=>new Promise(Ye=>{if(!("geolocation"in navigator))return Ye(null);navigator.geolocation.getCurrentPosition(Mt=>Ye({lat:Mt.coords.latitude,lng:Mt.coords.longitude,accuracy:Mt.coords.accuracy}),()=>Ye(null),{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e4})});v.useEffect(()=>{if(N&&!O){const Ye=new Date;ye(Ye.toISOString().slice(0,10)),be(Ye.toTimeString().slice(0,5)),dr().then(Ke)}if(N&&O){const Ye=new Date;ct(Ye.toISOString().slice(0,10)),dt(Ye.toTimeString().slice(0,5)),dr().then(ce)}N||H(!1)},[N,O]);const We=async()=>{if(m)try{q(!0);const Ye=Do(`${(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+/,"")}/members?limit=500`),Mt=await pu(Ye,{headers:{Authorization:`Bearer ${m}`}});se(Array.isArray(Mt?.members)?Mt.members:[])}catch{se([])}finally{q(!1)}},at=(Ye=p,Mt=u)=>{const ln={"Content-Type":"application/json"};return Ye?ln["x-qr-token"]=Ye:Mt&&(ln["x-user-matricule"]=Mt),m&&(ln.Authorization=`Bearer ${m}`),ln};v.useEffect(()=>{let Ye=!1;return(async()=>{try{R(!0);const Mt=at(p),ln=Og(),gn=Do(`${ln}/${encodeURIComponent(t)}`),Kt=Do(`${ln}/${encodeURIComponent(t)}/reports`),Ln=Do(`${ln}/${encodeURIComponent(t)}/usages`),[ot,An,Sr]=await Promise.all([pu(gn,{headers:Mt}),pu(Kt,{headers:Mt}).catch(()=>[]),pu(Ln,{headers:Mt}).catch(()=>[])]);if(Ye)return;y(ot);const Kr=Array.isArray(An)?An.map(Wn=>({id:Wn.id,type:Wn.type||"Rapport",date:Wn.createdAt||Wn.date||new Date().toISOString(),note:Wn.description||Wn.note||"",createdBy:Wn.createdBy||Wn.author||""})):[];w(Kr),_(Array.isArray(Sr)?Sr:[])}catch(Mt){console.warn("fetch vehicle failed:",Mt),y(null),w([]),_([])}finally{Ye||R(!1)}})(),()=>{Ye=!0}},[t,p]);const Lt=async Ye=>{if(Ye?.preventDefault?.(),!he?.trim())return r({status:"warning",title:"Matricule requis"});try{Re(!0),d(he.trim()),r({status:"success",title:"Connect",description:he.trim()}),g(""),setTimeout(()=>{(async()=>{try{R(!0);const Mt=at("",he.trim()),ln=Og(),gn=Do(`${ln}/${encodeURIComponent(t)}`),Kt=Do(`${ln}/${encodeURIComponent(t)}/reports`),Ln=Do(`${ln}/${encodeURIComponent(t)}/usages`),[ot,An,Sr]=await Promise.all([pu(gn,{headers:Mt}),pu(Kt,{headers:Mt}).catch(()=>[]),pu(Ln,{headers:Mt}).catch(()=>[])]);y(ot);const Kr=Array.isArray(An)?An.map(Wn=>({id:Wn.id,type:Wn.type||"Rapport",date:Wn.createdAt||Wn.date||new Date().toISOString(),note:Wn.description||Wn.note||"",createdBy:Wn.createdBy||Wn.author||""})):[];w(Kr),_(Array.isArray(Sr)?Sr:[])}catch{r({status:"error",title:"Accs refus"})}finally{R(!1)}})()},250)}finally{Re(!1)}},Qe=async Ye=>{try{const Mt=Og(),ln=Do(`${Mt}/${encodeURIComponent(t)}/reports`),gn=await fetch(ln[0],{method:"POST",headers:at(),body:JSON.stringify({description:Ye?.note?`${Ye.type||"vnement"}: ${Ye.note}`:Ye?.type||"vnement"})});if(!gn.ok){const ot=await gn.json().catch(()=>({error:"err"}));throw new Error(ot?.error||gn.statusText||"Erreur")}const Kt=await gn.json(),Ln={id:Kt.id,type:"Rapport",date:Kt.createdAt||new Date().toISOString(),note:Kt.description||"",createdBy:Kt.createdBy||""};return w(ot=>[Ln,...ot]),r({status:"success",title:"vnement ajout"}),Kt}catch(Mt){throw console.error(Mt),r({status:"error",title:"Impossible d'ajouter l'vnement",description:String(Mt.message)}),Mt}},bt=async Ye=>{try{const Mt=Og(),ln=Do(`${Mt}/${encodeURIComponent(t)}/usages`),gn=await fetch(ln[0],{method:"POST",headers:at(),body:JSON.stringify(Ye)});if(!gn.ok){const Ln=await gn.json().catch(()=>({error:"err"}));throw new Error(Ln?.error||gn.statusText||"Erreur")}const Kt=await gn.json();return _(Ln=>[Kt,...Ln]),Kt}catch(Mt){throw console.error(Mt),r({status:"error",title:"Impossible d'ajouter l'usage",description:String(Mt.message)}),Mt}},In=async(Ye,Mt)=>{try{const ln=Do(`usages/${encodeURIComponent(Ye)}`),gn=await fetch(ln[0],{method:"PUT",headers:at(),body:JSON.stringify(Mt)});if(!gn.ok){const Ln=await gn.json().catch(()=>({error:"err"}));throw new Error(Ln?.error||gn.statusText||"Erreur")}const Kt=await gn.json();return _(Ln=>Ln.map(ot=>ot.id===Kt.id?Kt:ot)),Kt}catch(ln){throw console.error(ln),r({status:"error",title:"Impossible de mettre  jour l'usage",description:String(ln.message)}),ln}};return T?e.jsx(vn,{p:8,children:e.jsx(mn,{size:"lg"})}):e.jsxs(ue,{p:4,maxW:"720px",mx:"auto",children:[x?e.jsxs(ue,{children:[e.jsx(Pe,{size:"md",children:x.modele||`Parc ${x.parc}`}),e.jsx(P,{mt:1,opacity:.8,children:x.immat?`${x.immat}  Parc ${x.parc}`:`Parc ${x.parc}`}),e.jsxs(uo,{spacing:4,mt:6,children:[e.jsx(J,{colorScheme:"red",onClick:()=>k(!0),children:"Signaler une anomalie"}),!it&&e.jsx(J,{colorScheme:"orange",onClick:()=>{H(!1),M(!0)},children:"Dmarrer un pointage"}),it&&e.jsx(J,{colorScheme:"green",onClick:()=>{H(!0),M(!0)},children:"Terminer le pointage"}),e.jsx(J,{colorScheme:"blue",onClick:()=>ae(!0),children:"Ajouter un vnement au vhicule"})]}),e.jsxs(ue,{mt:6,children:[e.jsx(Pe,{size:"sm",mb:2,children:"Derniers vnements"}),e.jsxs(ne,{spacing:2,align:"stretch",children:[S.length===0&&e.jsx(P,{opacity:.7,children:"Aucun vnement"}),S.map(Ye=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(P,{fontSize:"sm",children:[e.jsx("b",{children:Ye.type}),"  ",new Date(Ye.date).toLocaleString()]}),Ye.note&&e.jsx(P,{mt:1,fontSize:"sm",children:Ye.note}),e.jsxs(P,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ye.createdBy||""]})]},Ye.id))]})]}),e.jsxs(ue,{mt:6,children:[e.jsx(Pe,{size:"sm",mb:2,children:"Derniers passages"}),e.jsxs(ne,{spacing:2,align:"stretch",children:[C.length===0&&e.jsx(P,{opacity:.7,children:"Aucun passage"}),C.map(Ye=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(P,{fontSize:"sm",children:[Ye.conducteur||"","  ",Ye.km?`${Ye.km} km`:"","  ",Ye.durationMin?`${Ye.durationMin} min`:""]}),Ye.note&&e.jsx(P,{mt:1,fontSize:"sm",children:Ye.note}),e.jsxs(P,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ye.createdBy||""]})]},Ye.id))]})]})]}):e.jsxs(ue,{textAlign:"center",py:8,children:[e.jsx(Pe,{size:"md",children:"Accs restreint"}),e.jsx(P,{mt:2,opacity:.8,children:"Ce carnet est accessible uniquement via le QR code du vhicule ou aprs authentification."}),e.jsx(ue,{mt:6,as:"form",onSubmit:Lt,maxW:"360px",mx:"auto",children:e.jsxs(ne,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Matricule"}),e.jsx(ge,{value:he,onChange:Ye=>le(Ye.target.value),placeholder:"ex: w.belaidi"})]}),e.jsxs(re,{children:[e.jsx(J,{colorScheme:"blue",onClick:Lt,isLoading:de,children:"Se connecter"}),e.jsx(J,{variant:"ghost",onClick:()=>i(-1),children:"Retour"})]})]})}),e.jsx(P,{mt:4,fontSize:"sm",opacity:.8,children:"Astuce : scannez le QR sur le vhicule pour accder sans vous connecter."})]}),e.jsxs(wt,{isOpen:D,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Signaler une anomalie"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsxs(P,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type d'anomalie"}),e.jsx(ge,{id:"anom-type",placeholder:"ex: Frein / Porte / Moteur"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{id:"anom-note",placeholder:"Dcris l'anomalie..."})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:async()=>{const Ye=document.getElementById("anom-type")?.value||"Anomalie",Mt=document.getElementById("anom-note")?.value||"";try{await Qe({type:`Anomalie: ${Ye}`,note:Mt}),k(!1)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(wt,{isOpen:N,onClose:()=>M(!1),isCentered:!0,onOverlayClick:()=>{},children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:O?"Terminer le pointage":"Dmarrer un pointage"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsxs(P,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Conducteur"}),e.jsx(ge,{id:"pass-conducteur",placeholder:"Nom ou matricule"})]}),!O&&e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Date d'arrive"}),e.jsx(ge,{type:"date",value:X,onChange:Ye=>ye(Ye.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure d'arrive"}),e.jsx(ge,{type:"time",value:ve,onChange:Ye=>be(Ye.target.value)})]})]}),we&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[" Arrive GPS: ",we.lat.toFixed(5),",",we.lng.toFixed(5)," (",Math.round(we.accuracy),"m)"]})]}),O&&e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Date de sortie"}),e.jsx(ge,{type:"date",value:He,onChange:Ye=>ct(Ye.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure de sortie"}),e.jsx(ge,{type:"time",value:Xe,onChange:Ye=>dt(Ye.target.value)})]})]}),Bt&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[" Sortie GPS: ",Bt.lat.toFixed(5),",",Bt.lng.toFixed(5)," (",Math.round(Bt.accuracy),"m)"]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Membres prsents"}),e.jsx(ge,{placeholder:"Rechercher un adhrent (nom, prnom, n)",value:W,onChange:Ye=>Ee(Ye.target.value),onFocus:()=>{fe.length===0&&We()}}),e.jsxs(ue,{mt:2,maxH:"180px",overflowY:"auto",border:"1px solid #eee",borderRadius:"md",p:2,children:[Y&&e.jsx(vn,{py:3,children:e.jsx(mn,{size:"sm"})}),!Y&&fe.filter(Ye=>{if(!W.trim())return!0;const Mt=W.toLowerCase();return[Ye.firstName,Ye.lastName,Ye.memberNumber,Ye.email].filter(Boolean).some(ln=>String(ln).toLowerCase().includes(Mt))}).slice(0,50).map(Ye=>{const Mt=Ye.id,ln=B.includes(Mt),gn=`${Ye.lastName?.toUpperCase()||""} ${Ye.firstName||""}${Ye.memberNumber?`  ${Ye.memberNumber}`:""}`.trim();return e.jsxs(re,{py:1,spacing:3,children:[e.jsx("input",{type:"checkbox",checked:ln,onChange:Kt=>{ie(Ln=>Kt.target.checked?[...Ln,Mt]:Ln.filter(ot=>ot!==Mt))}}),e.jsx(P,{fontSize:"sm",children:gn})]},Mt)}),!Y&&fe.length===0&&e.jsx(P,{fontSize:"sm",opacity:.7,children:"Aucun adhrent charg. Connectez-vous pour voir la liste."})]})]}),e.jsxs(re,{children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Invit - Prnom"}),e.jsx(ge,{value:xe,onChange:Ye=>$(Ye.target.value),placeholder:"Prnom invit"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Invit - Nom"}),e.jsx(ge,{value:F,onChange:Ye=>G(Ye.target.value),placeholder:"Nom invit"})]})]}),O&&e.jsxs(Q,{children:[e.jsx(K,{children:"Actions ralises"}),e.jsx(en,{value:Ue,onChange:Ye=>Ht(Ye.target.value),placeholder:"Dtaillez les actions ralises pendant le passage",rows:4})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>M(!1),children:"Annuler"}),e.jsx(J,{colorScheme:O?"green":"orange",onClick:async()=>{const Ye=document.getElementById("pass-conducteur")?.value||"",ln=fe.filter(Sr=>B.includes(Sr.id)).map(Sr=>`${Sr.firstName||""} ${Sr.lastName||""}`.trim()).filter(Boolean),gn=xe||F?`Invit: ${[xe,F].filter(Boolean).join(" ")}`:"",Kt=[Ye?`Conducteur: ${Ye}`:"",...ln,gn].filter(Boolean).join("; "),Ln=(Sr,Kr)=>{if(!Sr&&!Kr)return null;const Wn=Sr||new Date().toISOString().split("T")[0],Bi=Kr||new Date().toTimeString().slice(0,5),[ji,Xo,Qr]=Wn.split("-").map(Number),[$i,Fi]=Bi.split(":").map(Number);return new Date(ji,Xo-1,Qr,$i,Fi,0).toISOString()},ot=Ln(X,ve),An=He||Xe?Ln(He,Xe):null;try{if(O){if(!it)throw new Error("Aucun pointage en cours");const Sr=Bt?`
Sortie GPS: ${Bt.lat?.toFixed(5)},${Bt.lng?.toFixed(5)} (${Math.round(Bt.accuracy||0)}m)`:"",Kr=Ue?`
Actions:
${Ue}`:"";await In(it,{endedAt:An||new Date().toISOString(),conducteur:Ye||null,participants:Kt||null,note:`${Kr}${Sr}`.trim()}),zn(null),r({status:"success",title:"Pointage termin"})}else{const Sr=we?`
Arrive GPS: ${we.lat?.toFixed(5)},${we.lng?.toFixed(5)} (${Math.round(we.accuracy||0)}m)`:"",Kr=await bt({startedAt:ot||new Date().toISOString(),conducteur:Ye||null,participants:Kt||null,note:Sr||""});zn(Kr?.id||null),r({status:"success",title:"Pointage dmarr"})}M(!1),ie([]),$(""),G(""),Ee(""),ye(""),be(""),ct(""),dt(""),Ht(""),Ke(null),ce(null)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(wt,{isOpen:U,onClose:()=>ae(!1),isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Ajouter un vnement"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsxs(P,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsx(ge,{id:"evt-type",placeholder:"ex: Rvision"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Note"}),e.jsx(en,{id:"evt-note",placeholder:"Dtails..."})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>ae(!1),children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:async()=>{const Ye=document.getElementById("evt-type")?.value||"vnement",Mt=document.getElementById("evt-note")?.value||"";try{await Qe({type:Ye,note:Mt}),ae(!1)}catch{}},children:"Ajouter"})]})]})]})]})}function wM({value:t=[],onChange:n,uploadEndpoint:r,deleteEndpoint:i,authHeader:l}){const u=on(),[d,m]=v.useState(!1),p=(S,w)=>{const C=[...t],_=S+w;_<0||_>=C.length||([C[S],C[_]]=[C[_],C[S]],n(C))},g=async S=>{if(!i){n(t.filter(w=>w!==S));return}try{const w=await fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({image:S})});if(!w.ok)throw new Error;const C=await w.json();n(C.gallery||[])}catch{n(t.filter(w=>w!==S))}},x=async S=>{if(!S?.length)return;m(!0);const w=new FormData;[...S].forEach(C=>w.append("images",C)),console.log(" Upload debug:",{endpoint:r,filesCount:S.length,hasAuth:!!l});try{const C=await fetch(r,{method:"POST",headers:{Authorization:l},body:w});if(console.log(" Upload response:",{status:C.status,statusText:C.statusText,headers:Object.fromEntries(C.headers)}),!C.ok){const T=await C.text().catch(()=>"");throw console.error(" Upload failed:",C.status,T),u({status:"error",title:"chec upload",description:`Erreur ${C.status}: ${T||C.statusText}`}),new Error(`HTTP ${C.status}: ${T}`)}const _=await C.json();n(_.gallery||[]),u({status:"success",title:"Images ajoutes"})}catch(C){console.error("Upload error",C),u({status:"error",title:"chec upload",description:C.message||"Erreur rseau"})}finally{m(!1)}},y=S=>!S||S.startsWith("http://")||S.startsWith("https://")||S.startsWith("data:")||S.startsWith("blob:")?S:"https://attractive-kindness-rbe-serveurs.up.railway.app"+S;return e.jsxs(ue,{children:[e.jsx(ge,{type:"file",multiple:!0,accept:"image/*",onChange:S=>x(S.target.files),isDisabled:d,mb:3}),t.length===0&&e.jsx(P,{fontSize:"sm",color:"gray.500",mb:2,children:"Aucune image dans la galerie."}),e.jsx(ft,{columns:{base:2,md:4},spacing:3,children:t.map((S,w)=>e.jsxs(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:1,children:[e.jsx(Oi,{src:y(S),w:"100%",h:"110px",objectFit:"cover",borderRadius:"sm"}),e.jsxs(re,{mt:1,justify:"space-between",children:[e.jsxs(re,{children:[e.jsx(yt,{"aria-label":"Monter",icon:e.jsx(k1,{}),size:"xs",onClick:()=>p(w,-1),isDisabled:w===0}),e.jsx(yt,{"aria-label":"Descendre",icon:e.jsx(R1,{}),size:"xs",onClick:()=>p(w,1),isDisabled:w===t.length-1})]}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"xs",colorScheme:"red",onClick:()=>g(S)})]})]},S+w))})]})}function RQ({value:t=[],onChange:n}){const r=(u,d,m)=>{const p=[...t];p[u]={...p[u],[d]:m},n(p)},i=()=>n([...t||[],{label:"",value:""}]),l=u=>{const d=[...t];d.splice(u,1),n(d)};return e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(K,{mb:0,children:"Caractristiques"}),e.jsx(J,{size:"xs",leftIcon:e.jsx(_n,{}),onClick:i,children:"Ajouter"})]}),(t||[]).map((u,d)=>e.jsxs(re,{align:"flex-start",children:[e.jsx(ge,{placeholder:"Label",value:u.label,onChange:m=>r(d,"label",m.target.value)}),e.jsx(ge,{placeholder:"Valeur",value:u.value,onChange:m=>r(d,"value",m.target.value)}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(cQ,{}),size:"sm",onClick:()=>l(d)})]},d))]})}const HT=[{value:"disponible",label:" Disponible",color:"green"},{value:"preserv",label:" Prserv",color:"blue"},{value:"en_restauration",label:" En restauration",color:"orange"},{value:"en_achat",label:" En achat",color:"yellow"},{value:"en_panne",label:" En panne",color:"red"},{value:"maintenance",label:" Maintenance",color:"orange"},{value:"a_venir",label:"  venir",color:"gray"}],kQ=[{value:"diesel",label:" Diesel"},{value:"essence",label:" Essence"},{value:"electrique",label:" lectrique"},{value:"gpl",label:"GPL"},{value:"hybride",label:"Hybride"},{value:"autre",label:"Autre"}];function DQ({data:t={},onUpdate:n=()=>{},readOnly:r=!1}){const i=(l,u)=>{n(l,u)};return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:4,fontSize:"lg",children:" Informations techniques"}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"600",children:"tat du vhicule"}),e.jsx(st,{value:t.etat||"disponible",onChange:l=>i("etat",l.target.value),isDisabled:r,placeholder:"Slectionner l'tat",children:HT.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsxs(P,{fontSize:"xs",color:"gray.500",mt:1,children:["Statut du vhicule: ",t.etat?HT.find(l=>l.value===t.etat)?.label:"Non dfini"]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"600",children:"Type d'nergie"}),e.jsx(st,{value:t.energie||"",onChange:l=>i("energie",l.target.value),isDisabled:r,placeholder:"Slectionner l'nergie",children:kQ.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Carburant/nergie du vhicule"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"600",children:"Immatriculation"}),e.jsx(ge,{type:"text",placeholder:"ex: FG-920-RE",value:t.immat||"",onChange:l=>i("immat",l.target.value),isReadOnly:r}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Numro de plaque d'immatriculation"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"600",children:"Mise en circulation"}),e.jsx(ge,{type:"date",value:t.miseEnCirculation||"",onChange:l=>i("miseEnCirculation",l.target.value),isReadOnly:r}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Date de mise en service"})]})]})]}),e.jsx(ue,{children:e.jsxs(P,{fontSize:"xs",color:"gray.600",p:3,bg:"blue.50",borderRadius:"md",children:[" ",e.jsx("strong",{children:"Important:"})," Toutes les informations techniques peuvent tre modifies  tout moment. Ces donnes ne sont pas geles et restent flexibles selon les besoins de gestion du parc."]})})]})}const PQ="https://attractive-kindness-rbe-serveurs.up.railway.app";function MQ(){const t=co(),n=on(),[r,i]=v.useState({parc:"",modele:"",marque:"",subtitle:"",etat:"disponible",immat:"",energie:"",miseEnCirculation:"",description:"",history:"",caracteristiques:[],gallery:[],isPublic:!1}),[l,u]=v.useState(!1),d=(p,g)=>i(x=>({...x,[p]:g})),m=async()=>{if(!r.parc.trim()){n({status:"error",title:"Parc requis"});return}u(!0);try{const p=await fetch(`${PQ}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({parc:r.parc.trim(),modele:r.modele,marque:r.marque,subtitle:r.subtitle,etat:r.etat,immat:r.immat,energie:r.energie,miseEnCirculation:r.miseEnCirculation,description:r.description,history:r.history,caracteristiques:r.caracteristiques,gallery:r.gallery,isPublic:r.isPublic})});if(!p.ok){const x=await p.json();throw new Error(x.error||"Erreur cration")}const g=await p.json();n({status:"success",title:"Vhicule cr !",description:`Le vhicule ${r.parc} a t cr avec succs`}),t(`/dashboard/vehicules/${g.parc}`)}catch(p){console.error(" Erreur cration:",p),n({status:"error",title:"Erreur sauvegarde",description:p.message})}finally{u(!1)}};return e.jsxs(ue,{p:8,children:[e.jsxs(re,{mb:6,children:[e.jsx(J,{as:"a",href:"/dashboard/vehicules",leftIcon:e.jsx(nM,{}),variant:"outline",children:"Retour"}),e.jsx(Pe,{children:" Crer un vhicule"})]}),e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Identit du vhicule"}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Numro de parc"}),e.jsx(ge,{placeholder:"ex: 920",value:r.parc,onChange:p=>d("parc",p.target.value),fontWeight:"bold"}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Identifiant unique du vhicule"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Marque"}),e.jsx(ge,{placeholder:"ex: Mercedes-Benz",value:r.marque,onChange:p=>d("marque",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Modle"}),e.jsx(ge,{placeholder:"ex: Citaro",value:r.modele,onChange:p=>d("modele",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Sous-titre"}),e.jsx(ge,{placeholder:"ex: Un grand classique",value:r.subtitle,onChange:p=>d("subtitle",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Immatriculation"}),e.jsx(ge,{placeholder:"ex: FG-920-RE",value:r.immat,onChange:p=>d("immat",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"tat"}),e.jsx(ge,{placeholder:"ex: Disponible, Prserv, En restauration...",value:r.etat,onChange:p=>d("etat",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"nergie"}),e.jsx(ge,{placeholder:"ex: Diesel",value:r.energie,onChange:p=>d("energie",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Mise en circulation"}),e.jsx(ge,{type:"date",value:r.miseEnCirculation,onChange:p=>d("miseEnCirculation",p.target.value)})]})]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Descriptions"}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{rows:4,placeholder:"Description gnrale du vhicule...",value:r.description,onChange:p=>d("description",p.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Historique"}),e.jsx(en,{rows:5,placeholder:"Historique, anecdotes, restaurations...",value:r.history,onChange:p=>d("history",p.target.value)})]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Caractristiques techniques"}),e.jsx(DQ,{data:r,onUpdate:d})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Caractristiques additionnelles"}),e.jsx(RQ,{value:r.caracteristiques,onChange:p=>d("caracteristiques",p)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Galerie photos"}),e.jsx(wM,{value:r.gallery,onChange:p=>d("gallery",p),parc:r.parc||"nouveau"})]})})}),e.jsx(Ne,{bg:"blue.50",children:e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:" Publication"}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:0,flex:1,children:"Afficher sur le site public"}),e.jsx(ur,{isChecked:r.isPublic,onChange:p=>d("isPublic",p.target.checked),size:"lg",colorScheme:"green"})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:r.isPublic?" Ce vhicule sera visible sur le site public":" Ce vhicule n'est visible que par les administrateurs"})]})})}),e.jsx(bn,{}),e.jsxs(re,{spacing:4,justify:"flex-end",children:[e.jsx(J,{variant:"outline",onClick:()=>t("/dashboard/vehicules"),children:"Annuler"}),e.jsx(J,{colorScheme:"green",leftIcon:e.jsx(Pl,{}),isLoading:l,loadingText:"Cration...",onClick:m,size:"lg",children:"Crer le vhicule"})]})]})]})}function zQ({parc:t,marque:n,modele:r,onSuccess:i}){const{isOpen:l,onOpen:u,onClose:d}=Rt(),[m,p]=v.useState(!1),[g,x]=v.useState(""),y=on(),S=co(),w="https://attractive-kindness-rbe-serveurs.up.railway.app",C=`DELETE ${t}`,_=async()=>{if(g!==C){y({status:"error",title:"Confirmation incorrecte",description:`Veuillez taper exactement: ${C}`});return}p(!0);try{const T=await fetch(`${w}/vehicles/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!T.ok){const R=await T.json();throw new Error(R.error||"Erreur lors de la suppression")}y({status:"success",title:"Vhicule supprim",description:`Le vhicule ${t} a t supprim avec succs`,duration:3e3}),d(),x(""),setTimeout(()=>{i?i():S("/dashboard/vehicules")},500)}catch(T){console.error("Erreur suppression:",T),y({status:"error",title:"Erreur suppression",description:T.message})}finally{p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(J,{leftIcon:e.jsx(Zn,{}),colorScheme:"red",variant:"outline",onClick:u,size:"sm",children:"Supprimer ce vhicule"}),e.jsxs(wt,{isOpen:l,onClose:d,isCentered:!0,size:"md",children:[e.jsx(_t,{backdropFilter:"blur(5px)"}),e.jsxs(kt,{children:[e.jsx(Et,{children:e.jsxs(re,{spacing:2,color:"red.600",children:[e.jsx(tM,{size:24}),e.jsx(P,{children:"Supprimer le vhicule?"})]})}),e.jsx($t,{isDisabled:m}),e.jsx(Ct,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(ue,{bg:"red.50",p:3,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:[e.jsx(P,{fontWeight:"600",color:"red.700",mb:2,children:" Action irrversible"}),e.jsxs(P,{fontSize:"sm",color:"red.600",children:["Cette action ne peut pas tre annule. Le vhicule ",t," (",n," ",r,") et toutes ses donnes seront supprims dfinitivement."]})]}),e.jsxs(ue,{bg:"gray.50",p:3,borderRadius:"md",children:[e.jsx(P,{fontWeight:"600",fontSize:"sm",mb:2,children:"Vhicule  supprimer:"}),e.jsxs(ne,{align:"stretch",spacing:1,fontSize:"sm",children:[e.jsxs(P,{children:[e.jsx("strong",{children:"Parc:"})," ",t]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Marque:"})," ",n||"Non dfini"]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Modle:"})," ",r||"Non dfini"]})]})]}),e.jsxs(ue,{children:[e.jsxs(P,{fontWeight:"600",fontSize:"sm",mb:2,children:["Pour confirmer, tapez: ",e.jsx("code",{style:{background:"#f0f0f0",padding:"2px 6px",borderRadius:"3px",fontWeight:"bold"},children:C})]}),e.jsx("input",{type:"text",placeholder:C,value:g,onChange:T=>x(T.target.value),style:{width:"100%",padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"4px",fontSize:"14px",fontFamily:"monospace",boxSizing:"border-box"},disabled:m,autoFocus:!0})]})]})}),e.jsx(Ft,{children:e.jsxs(re,{spacing:3,children:[e.jsx(J,{variant:"outline",onClick:d,isDisabled:m,children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:_,isLoading:m,loadingText:"Suppression...",isDisabled:g!==C,children:"Supprimer dfinitivement"})]})})]})]})]})}const IQ=window.location.origin;function NQ({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(et,{colorScheme:n[t]||"purple",children:t})}function LQ({vehicle:t,parc:n,onChange:r,authHeader:i}){const{isOpen:l,onOpen:u,onClose:d}=Rt(),m=v.useRef(),[p,g]=v.useState(!1),[x,y]=v.useState(null),[S,w]=v.useState(!1),C=on(),_=async N=>{if(!N)return;g(!0);const M=new FormData;M.append("image",N);try{const O=await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${n}/background`,{method:"POST",headers:{Authorization:i},body:M});if(!O.ok)throw new Error("Upload failed");const H=await O.json();r({backgroundImage:H.backgroundImage}),C({status:"success",title:"Image de fond mise  jour"})}catch{C({status:"error",title:"Erreur upload image de fond"})}finally{g(!1)}},T=async()=>{try{await Nt.put(`/vehicles/${n}`,{backgroundImage:null,backgroundPosition:null}),r({backgroundImage:null,backgroundPosition:null}),C({status:"success",title:"Image de fond supprime"})}catch{C({status:"error",title:"Erreur suppression image de fond"})}},R=async N=>{const M=N.target.getBoundingClientRect(),O=(N.clientX-M.left)/M.width*100,H=(N.clientY-M.top)/M.height*100,U=`${O.toFixed(1)}% ${H.toFixed(1)}%`;y({x:O,y:H});try{await Nt.put(`/vehicles/${n}`,{backgroundPosition:U}),r({backgroundPosition:U}),C({status:"success",title:"Position focale sauvegarde",description:U})}catch{C({status:"error",title:"Erreur sauvegarde position"})}},D=t.backgroundImage??null,k=D&&t.backgroundPosition||"center";return e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",cursor:"pointer",onClick:()=>w(!S),children:[e.jsx(Pe,{size:"md",children:" Image de fond Hero"}),e.jsxs(re,{spacing:2,children:[D&&S&&e.jsx(J,{leftIcon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:N=>{N.stopPropagation(),T()},children:"Supprimer"}),e.jsx(yt,{icon:S?e.jsx(k1,{}):e.jsx(R1,{}),size:"sm",variant:"ghost","aria-label":S?"Replier":"Dplier"})]})]}),e.jsx(ZS,{in:S,animateOpacity:!0,children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Gestion de l'image de fond plein cran pour la page publique"}),e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(dQ,{}),size:"sm",onClick:N=>{N.stopPropagation(),m.current?.click()},isLoading:p,colorScheme:"blue",children:"Changer le fond"}),D&&e.jsx(J,{leftIcon:e.jsx(oQ,{}),size:"sm",colorScheme:"orange",onClick:N=>{N.stopPropagation(),u()},children:"Position focale"})]})]}),e.jsx(ge,{ref:m,type:"file",accept:"image/*",onChange:N=>_(N.target.files[0]),display:"none"}),D&&e.jsxs(ue,{borderRadius:"md",overflow:"hidden",bg:"gray.100",border:"1px solid",borderColor:"gray.200",children:[e.jsx(Oi,{src:D,alt:"Aperu image de fond",w:"100%",h:"200px",objectFit:"cover",objectPosition:k}),e.jsxs(P,{fontSize:"sm",color:"gray.600",p:2,bg:"gray.50",children:[" Position focale : ",k]})]}),!D&&e.jsxs(ue,{borderRadius:"md",border:"2px dashed",borderColor:"gray.300",p:8,textAlign:"center",bg:"gray.50",children:[e.jsx(P,{color:"gray.500",mb:2,children:"Aucune image de fond dfinie"}),e.jsx(P,{fontSize:"sm",color:"gray.400",children:"La premire image de la galerie sera utilise par dfaut"})]})]})}),e.jsxs(wt,{isOpen:l,onClose:d,size:"4xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Ajuster la position focale"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{color:"gray.600",children:"Cliquez sur l'image pour dfinir le point focal qui sera visible sur la page publique"}),D&&e.jsxs(ue,{position:"relative",borderRadius:"md",overflow:"hidden",children:[e.jsx(Oi,{src:D,alt:"Rglage position focale",w:"100%",h:"400px",objectFit:"cover",cursor:"crosshair",onClick:R}),x&&e.jsx(ue,{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,transform:"translate(-50%, -50%)",w:"20px",h:"20px",borderRadius:"50%",bg:"red.500",border:"2px solid white",boxShadow:"0 0 0 2px red.500",zIndex:1})]}),e.jsxs(P,{fontSize:"sm",color:"gray.500",mb:4,children:[" Position actuelle : ",k]})]})})]})]})]})}function OQ(){const{parc:t}=Vx(),n=co(),r=on(),[i,l]=v.useState(!0),[u,d]=v.useState(!1),[m,p]=v.useState(null),[g,x]=v.useState({}),[y,S]=v.useState([]),w={marque:"Mercedes-Benz",modele:"Citaro ",subtitle:"Citaro 1 |  II |  | ",etat:"Prserv",type:"Bus",immat:"FG-920-RE",energie:"Diesel",miseEnCirculation:"2001-07-01",numerosFlotte:"592 / 720 / X / 920",constructeur:"Mercedes-Benz",longueur:"11,95 m",placesAssises:"32",placesDebout:"64",ufr:"1",statut:"Prserv",preservePar:"Association RtroBus Essonne",normeEuro:"Euro II",moteur:"Mercedes-Benz OM906hLA - 279 ch",boiteVitesses:"Automatique ZF5HP-502C",nombrePortes:"2",livree:"Grise",girouette:"Duhamel LED Oranges + Pastilles Vertes",climatisation:"Complte",description:"Ce vhicule est un exemple emblmatique de la gamme Citaro de premire gnration. Mis en service commercial en juillet 2001, il reprsente l'volution technologique des transports urbains du dbut des annes 2000. quip d'une climatisation complte et accessible aux personnes  mobilit rduite.",history:"Le Mercedes-Benz Citaro est un autobus urbain produit par Daimler AG depuis 1997. Ce modle a rvolutionn les transports publics europens avec son design moderne et ses innovations techniques. Notre exemplaire FG-920-RE a t command par Cars Bridet  Wissous pour le rseau du Palladin et mis en service en juillet 2001. Au cours de sa carrire, il a port successivement les numros 592, 720, X, puis 920. Il a assur la desserte Le Palladin jusqu'en aot 2014. Aprs plusieurs annes de service fidle, il est pass brivement par Brtigny en 2018, puis a rejoint Transdev STRAV  Limeil-Brvannes, avant d'tre exploit par Cars Sur. En mai 2025, ce vhicule historique a trouv sa place au sein de la collection de l'association RtroBus Essonne, o il tmoigne de l'volution du transport public francilien au dbut du XXIe sicle.",caracteristiques:[{label:"Numros de flotte",value:"592 / 720 / X / 920"},{label:"Constructeur",value:"Mercedes-Benz"},{label:"Modle",value:"Citaro "},{label:"Immatriculation",value:"FG-920-RE"},{label:"Mise en circulation",value:"juillet 2001"},{label:"Longueur",value:"11,95 m"},{label:"Places assises",value:"32"},{label:"Places debout",value:"64"},{label:"UFR",value:"1"},{label:"Statut",value:"Prserv"},{label:"Prserv par",value:"Association RtroBus Essonne"},{label:"nergie",value:"Diesel"},{label:"Norme Euro",value:"Euro II"},{label:"Moteur",value:"Mercedes-Benz OM906hLA - 279 ch"},{label:"Bote de vitesses",value:"Automatique ZF5HP-502C"},{label:"Nombre de portes",value:"2"},{label:"Livre",value:"Grise"},{label:"Girouette",value:"Duhamel LED Oranges + Pastilles Vertes"},{label:"Climatisation",value:"Complte"}]},C=v.useCallback(async()=>{if(t){l(!0);try{const k=await Nt.get(`/vehicles/${t}`);p(k);try{const M=await Nt.get(`/vehicles/${t}/usages`);S(Array.isArray(M)?M:[])}catch{S([])}const N={...w,...k,caracteristiques:k.caracteristiques&&k.caracteristiques.length>0?k.caracteristiques:w.caracteristiques,description:k.description||w.description,history:k.history||w.history};x(N)}catch(k){r({status:"error",title:k.message||"Erreur chargement"}),n("/dashboard/vehicules")}finally{l(!1)}}},[t,r,n]);v.useEffect(()=>{C()},[C]);const _=v.useCallback(()=>{const k=[{label:"Numros de flotte",value:g.numerosFlotte||""},{label:"Constructeur",value:g.constructeur||""},{label:"Modle",value:g.modele||""},{label:"Immatriculation",value:g.immat||""},{label:"Mise en circulation",value:g.miseEnCirculation?"juillet 2001":""},{label:"Longueur",value:g.longueur||""},{label:"Places assises",value:g.placesAssises||""},{label:"Places debout",value:g.placesDebout||""},{label:"UFR",value:g.ufr||""},{label:"Statut",value:g.statut||""},{label:"Prserv par",value:g.preservePar||""},{label:"nergie",value:g.energie||""},{label:"Norme Euro",value:g.normeEuro||""},{label:"Moteur",value:g.moteur||""},{label:"Bote de vitesses",value:g.boiteVitesses||""},{label:"Nombre de portes",value:g.nombrePortes||""},{label:"Livre",value:g.livree||""},{label:"Girouette",value:g.girouette||""},{label:"Climatisation",value:g.climatisation||""}].filter(N=>N.value);x(N=>({...N,caracteristiques:k}))},[g.numerosFlotte,g.constructeur,g.modele,g.immat,g.miseEnCirculation,g.longueur,g.placesAssises,g.placesDebout,g.ufr,g.statut,g.preservePar,g.energie,g.normeEuro,g.moteur,g.boiteVitesses,g.nombrePortes,g.livree,g.girouette,g.climatisation]);v.useEffect(()=>{_()},[_]);const T=async()=>{try{d(!0);const k=g.statut||g.etat;await Nt.put(`/vehicles/${t}`,{etat:k,marque:g.marque,modele:g.modele,type:g.type,immat:g.immat,energie:g.energie,miseEnCirculation:g.miseEnCirculation,subtitle:g.subtitle,description:g.description,history:g.history,caracteristiques:g.caracteristiques,gallery:g.gallery,backgroundImage:g.backgroundImage,backgroundPosition:g.backgroundPosition,isPublic:g.isPublic!==void 0?g.isPublic:m?.isPublic||!1,numerosFlotte:g.numerosFlotte,constructeur:g.constructeur,longueur:g.longueur,placesAssises:g.placesAssises,placesDebout:g.placesDebout,ufr:g.ufr,statut:g.statut,preservePar:g.preservePar,normeEuro:g.normeEuro,moteur:g.moteur,boiteVitesses:g.boiteVitesses,nombrePortes:g.nombrePortes,livree:g.livree,girouette:g.girouette,climatisation:g.climatisation}),r({status:"success",title:" Sauvegard avec succs",description:"Visible sur la page publique"}),C()}catch{r({status:"error",title:" Erreur sauvegarde"})}finally{d(!1)}},R=k=>{p(N=>({...N,...k})),x(N=>({...N,...k}))},D=()=>{x(k=>({...k,...w,parc:k.parc,id:k.id,createdAt:k.createdAt,updatedAt:k.updatedAt,gallery:k.gallery,backgroundImage:k.backgroundImage,backgroundPosition:k.backgroundPosition})),r({status:"info",title:" Donnes par dfaut restaures",description:"N'oubliez pas de sauvegarder"})};return i?e.jsx(vn,{h:"60vh",children:e.jsx(mn,{size:"xl"})}):m?(m.marque?`${m.marque}${m.modele}`:m.modele,e.jsxs(ue,{p:8,children:[e.jsxs(nr,{align:"center",justify:"space-between",mb:6,children:[e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(nM,{}),variant:"ghost",onClick:()=>n("/dashboard/vehicules"),children:"Retour"}),e.jsxs(Pe,{size:"lg",children:[" dition vhicule ",m.parc]}),e.jsx(NQ,{etat:m.etat})]}),e.jsxs(re,{children:[e.jsx(J,{size:"sm",variant:"outline",onClick:D,children:" Donnes par dfaut"}),e.jsx(J,{leftIcon:e.jsx(iM,{}),colorScheme:"blue",variant:"outline",onClick:()=>window.open(IQ+"/vehicles/"+t,"_blank"),children:" Voir la page publique"})]})]}),e.jsxs(ne,{spacing:8,align:"stretch",children:[e.jsx(ue,{bg:"blue.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"blue.200",children:e.jsx(LQ,{vehicle:m,parc:t,onChange:R,authHeader:`Bearer ${localStorage.getItem("token")}`})}),e.jsxs(ue,{bg:"gray.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"gray.200",children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:4,children:[e.jsx(Pe,{size:"md",children:" Informations principales"}),e.jsxs(Q,{display:"flex",alignItems:"center",w:"auto",children:[e.jsxs(K,{htmlFor:"isPublic",mb:"0",mr:3,fontWeight:"bold",children:[g.isPublic?" Visible":" Cach"," sur le site public:"]}),e.jsx(ur,{id:"isPublic",isChecked:g.isPublic||!1,onChange:k=>x(N=>({...N,isPublic:k.target.checked})),colorScheme:g.isPublic?"green":"red",size:"lg"})]})]}),e.jsxs(ft,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Parc"}),e.jsx(ge,{value:m.parc,isReadOnly:!0,bg:"gray.100"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Numros de flotte"}),e.jsx(ge,{value:g.numerosFlotte||"",onChange:k=>x(N=>({...N,numerosFlotte:k.target.value})),placeholder:"592 / 720 / X / 920"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Constructeur"}),e.jsx(ge,{value:g.constructeur||"",onChange:k=>x(N=>({...N,constructeur:k.target.value})),placeholder:"Mercedes-Benz"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Modle"}),e.jsx(ge,{value:g.modele||"",onChange:k=>x(N=>({...N,modele:k.target.value})),placeholder:"Citaro "})]})]}),e.jsxs(ft,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Immatriculation"}),e.jsx(ge,{value:g.immat||"",onChange:k=>x(N=>({...N,immat:k.target.value})),placeholder:"FG-920-RE"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Mise en circulation"}),e.jsx(ge,{type:"date",value:g.miseEnCirculation?new Date(g.miseEnCirculation).toISOString().split("T")[0]:"",onChange:k=>x(N=>({...N,miseEnCirculation:k.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Longueur"}),e.jsx(ge,{value:g.longueur||"",onChange:k=>x(N=>({...N,longueur:k.target.value})),placeholder:"11,95 m"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Places assises"}),e.jsx(ge,{value:g.placesAssises||"",onChange:k=>x(N=>({...N,placesAssises:k.target.value})),placeholder:"32"})]})]}),e.jsxs(ft,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Places debout"}),e.jsx(ge,{value:g.placesDebout||"",onChange:k=>x(N=>({...N,placesDebout:k.target.value})),placeholder:"64"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"UFR"}),e.jsx(ge,{value:g.ufr||"",onChange:k=>x(N=>({...N,ufr:k.target.value})),placeholder:"1"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsxs(st,{value:g.statut||"",onChange:k=>x(N=>({...N,statut:k.target.value})),children:[e.jsx("option",{value:"Prserv",children:"Prserv"}),e.jsx("option",{value:"Service",children:"Service"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"en_panne",children:"En panne"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"A VENIR",children:"A venir"}),e.jsx("option",{value:"Restauration",children:"Restauration"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"nergie"}),e.jsxs(st,{value:g.energie||"",onChange:k=>x(N=>({...N,energie:k.target.value})),children:[e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"lectrique",children:"lectrique"}),e.jsx("option",{value:"Hybride",children:"Hybride"}),e.jsx("option",{value:"GNV",children:"GNV"})]})]})]}),e.jsx(ft,{columns:{base:1,md:1},spacing:4,mb:4,children:e.jsxs(Q,{children:[e.jsx(K,{children:"Prserv par"}),e.jsx(ge,{value:g.preservePar||"",onChange:k=>x(N=>({...N,preservePar:k.target.value})),placeholder:"Association RtroBus Essonne"})]})}),e.jsxs(ft,{columns:{base:1,md:2,lg:3},spacing:4,mb:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Norme Euro"}),e.jsx(ge,{value:g.normeEuro||"",onChange:k=>x(N=>({...N,normeEuro:k.target.value})),placeholder:"Euro II"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Moteur"}),e.jsx(ge,{value:g.moteur||"",onChange:k=>x(N=>({...N,moteur:k.target.value})),placeholder:"Mercedes-Benz OM906hLA - 279 ch"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Bote de vitesses"}),e.jsx(ge,{value:g.boiteVitesses||"",onChange:k=>x(N=>({...N,boiteVitesses:k.target.value})),placeholder:"Automatique ZF5HP-502C"})]})]}),e.jsxs(ft,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Nombre de portes"}),e.jsx(ge,{value:g.nombrePortes||"",onChange:k=>x(N=>({...N,nombrePortes:k.target.value})),placeholder:"2"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Livre"}),e.jsx(ge,{value:g.livree||"",onChange:k=>x(N=>({...N,livree:k.target.value})),placeholder:"Grise"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Girouette"}),e.jsx(ge,{value:g.girouette||"",onChange:k=>x(N=>({...N,girouette:k.target.value})),placeholder:"Duhamel LED Oranges + Pastilles Vertes"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Climatisation"}),e.jsx(ge,{value:g.climatisation||"",onChange:k=>x(N=>({...N,climatisation:k.target.value})),placeholder:"Complte"})]})]}),e.jsxs(Q,{mt:4,children:[e.jsx(K,{children:"Sous-titre (badges affichs)"}),e.jsx(ge,{value:g.subtitle||"",onChange:k=>x(N=>({...N,subtitle:k.target.value})),placeholder:"Citaro 1 |  II |  | "}),e.jsx(P,{fontSize:"sm",color:"gray.600",mt:1,children:'Exemple avec mojis : "Citaro 1 |  II |  | "'})]}),e.jsx(Ne,{mt:6,bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",children:e.jsx(Ie,{children:e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:0,flex:1,children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"bold",children:" Afficher sur le site public"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:m?.isPublic?" Ce vhicule est visible par tous":" Ce vhicule n'est visible que par les administrateurs"})]})}),e.jsx(ur,{isChecked:m?.isPublic||!1,onChange:k=>p(N=>({...N,isPublic:k.target.checked})),size:"lg",colorScheme:"green"})]})})}),e.jsx(P,{fontSize:"xs",color:"blue.600",mt:4,fontStyle:"italic",children:" Les caractristiques techniques sont automatiquement mises  jour en fonction des champs ci-dessus"})]}),e.jsxs(ue,{bg:"green.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"green.200",children:[e.jsx(Pe,{size:"md",mb:4,children:" Textes descriptifs"}),e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:g.description||"",onChange:k=>x(N=>({...N,description:k.target.value})),rows:4,placeholder:"Ce vhicule est un exemple emblmatique..."}),e.jsx(P,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Description" sur la page publique'})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Histoire"}),e.jsx(en,{value:g.history||"",onChange:k=>x(N=>({...N,history:k.target.value})),rows:6,placeholder:"Le Mercedes-Benz Citaro est un autobus urbain..."}),e.jsx(P,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Histoire" sur la page publique'})]})]})]}),e.jsxs(ue,{bg:"purple.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"purple.200",children:[e.jsx(Pe,{size:"md",mb:4,children:" Galerie photos"}),e.jsx(wM,{value:g.gallery||[],onChange:k=>x(N=>({...N,gallery:k})),uploadEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,deleteEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,authHeader:`Bearer ${localStorage.getItem("token")}`}),e.jsx(P,{fontSize:"sm",color:"gray.600",mt:2,children:"La premire image peut servir de fond si aucune image de fond spcifique n'est dfinie. Les autres images apparaissent dans le carrousel."})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(Pe,{size:"md",mb:4,children:" Carnet de suivi"}),!y?.length&&e.jsx(P,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(ne,{align:"stretch",spacing:3,divider:e.jsx(bn,{}),mt:y?.length?2:0,children:y.map(k=>e.jsxs(ue,{children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontWeight:"bold",children:k.conducteur||""}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:k.startedAt?new Date(k.startedAt).toLocaleString():""})]}),k.participants&&e.jsx(P,{mt:1,fontSize:"sm",children:k.participants}),k.note&&e.jsx(P,{mt:1,fontSize:"sm",color:"gray.700",children:k.note})]},k.id))})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(Pe,{size:"md",mb:4,children:" Carnet de suivi"}),!y?.length&&e.jsx(P,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(ne,{align:"stretch",spacing:3,divider:e.jsx(bn,{}),mt:y?.length?2:0,children:y.map(k=>{const N=k.startedAt?new Date(k.startedAt):null,M=k.endedAt?new Date(k.endedAt):null,O=N&&M?Math.round((M-N)/6e4):null;return e.jsxs(ue,{children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontWeight:"bold",children:k.conducteur||""}),k.participants&&e.jsx(P,{mt:1,fontSize:"sm",children:k.participants})]}),e.jsxs(ne,{align:"end",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:N?N.toLocaleString():""}),M&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[" ",M.toLocaleString()," ",O!=null?`(${O} min)`:""]})]})]}),k.note&&e.jsx(P,{mt:2,fontSize:"sm",whiteSpace:"pre-wrap",children:k.note})]},k.id)})})]}),e.jsxs(ue,{textAlign:"center",py:4,children:[e.jsxs(re,{spacing:4,justify:"center",children:[e.jsx(J,{leftIcon:e.jsx(Pl,{}),colorScheme:"blue",size:"lg",onClick:T,isLoading:u,loadingText:"Sauvegarde en cours...",children:" Sauvegarder les modifications"}),e.jsx(zQ,{parc:t,marque:g.marque,modele:g.modele,onSuccess:()=>n("/dashboard/vehicules")})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",mt:2,children:"Les modifications seront visibles immdiatement sur la page publique"})]})]})]})):null}const BQ=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"),$Q=(BQ?"https://attractive-kindness-rbe-serveurs.up.railway.app":"").replace(/\/$/,""),Ff=async t=>{if(t.status===204)return null;if(!t.headers.get("content-type")?.includes("application/json")){const r=await t.text().catch(()=>"");throw new Error(`Non-JSON: ${t.status}: ${r?.slice(0,200)}`)}return t.json()},Vf=t=>{const n=String(t||"").replace(/^\/+/,"/");return`${$Q}${n}`},Bg=(t={})=>{const n=Cc.getToken();return ZP({Accept:"application/json",...t},n)},Uf=t=>{if(t.status===401)throw console.warn(" Unauthorized - clearing auth"),Cc.setToken(null),window.location.href="/login",new Error("Unauthorized");if(t.status===403)throw new Error("Forbidden");if(t.status===404)return{notFound:!0};throw new Error(`HTTP ${t.status}`)},$g={async get(t,n={}){const r=Vf(t),i=Bg(n.headers);console.log(` GET ${r}`);try{const l=await fetch(r,{method:"GET",headers:i,credentials:"include",...n});return l.ok?await Ff(l):Uf(l)}catch(l){throw console.error(` GET ${t}:`,l.message),l}},async post(t,n,r={}){const i=Vf(t),l=Bg({"Content-Type":"application/json",...r.headers});console.log(` POST ${i}`,n);try{const u=await fetch(i,{method:"POST",headers:l,body:JSON.stringify(n),credentials:"include",...r});return u.ok?await Ff(u):Uf(u)}catch(u){throw console.error(` POST ${t}:`,u.message),u}},async patch(t,n,r={}){const i=Vf(t),l=Bg({"Content-Type":"application/json",...r.headers});console.log(` PATCH ${i}`,n);try{const u=await fetch(i,{method:"PATCH",headers:l,body:JSON.stringify(n),credentials:"include",...r});return u.ok?await Ff(u):Uf(u)}catch(u){throw console.error(` PATCH ${t}:`,u.message),u}},async delete(t,n={}){const r=Vf(t),i=Bg(n.headers);console.log(` DELETE ${r}`);try{const l=await fetch(r,{method:"DELETE",headers:i,credentials:"include",...n});return l.ok?await Ff(l):Uf(l)}catch(l){throw console.error(` DELETE ${t}:`,l.message),l}},async upload(t,n,r={}){const i=Vf(t),l=Cc.getToken(),u=ZP({},l);console.log(` UPLOAD ${i}`);try{const d=await fetch(i,{method:"POST",headers:u,body:n,credentials:"include",...r});return d.ok?await Ff(d):Uf(d)}catch(d){throw console.error(` UPLOAD ${t}:`,d.message),d}}},Da=async(t,n={})=>{const r=n.method?.toUpperCase()||"GET";if(r==="GET")return $g.get(t,n);if(r==="POST")return $g.post(t,n.body,n);if(r==="PATCH")return $g.patch(t,n.body,n);if(r==="DELETE")return $g.delete(t,n);throw new Error(`Unsupported: ${r}`)};function FQ(t){const[n,r]=v.useState([]),[i,l]=v.useState(!1),[u,d]=v.useState(null);return v.useEffect(()=>{if(!t)return;(async()=>{try{l(!0),d(null);const y=await Da(`/api/user-permissions/${t}`);if(y.success){const S=(y.permissions||[]).map(w=>({...w,actions:Array.isArray(w.actions)?w.actions:JSON.parse(w.actions||"[]")}));r(S)}else d(y.error||"Failed to load permissions")}catch(y){console.error("Error loading permissions:",y),d(y.message)}finally{l(!1)}})()},[t]),{permissions:n,loading:i,error:u,hasPermission:(x,y)=>{const S=n.find(w=>w.resource===x);return!S||S.expiresAt&&new Date(S.expiresAt)<new Date?!1:S.actions.includes(y)},hasResourceAccess:x=>n.some(y=>y.resource===x),getResourceActions:x=>{const y=n.find(S=>S.resource===x);return!y||y.expiresAt&&new Date(y.expiresAt)<new Date?[]:y.actions}}}const Ll=({title:t,subtitle:n,breadcrumbs:r=[],children:i,headerActions:l,bgGradient:u,maxW:d="container.xl",titleSize:m="2xl",titleWeight:p="800",headerVariant:g="full"})=>{const x=Tn(u||"linear(to-r, rbe.600, rbe.800)","linear(to-r, rbe.700, rbe.900)");return e.jsxs(ue,{minH:"100vh",fontFamily:"Montserrat, system-ui, sans-serif",children:[g==="full"?e.jsxs(ue,{bgGradient:x,color:"white",py:{base:12,md:16},position:"relative",overflow:"hidden",children:[e.jsx(ue,{position:"absolute",inset:0,bgGradient:"radial(circle at 30% 30%, whiteAlpha.200, transparent 50%)",pointerEvents:"none"}),e.jsx(ks,{maxW:d,position:"relative",children:e.jsxs(ne,{spacing:6,align:"stretch",children:[r.length>0&&e.jsx(eb,{separator:e.jsx(Nx,{color:"whiteAlpha.700"}),color:"whiteAlpha.800",fontSize:"sm",children:r.map((y,S)=>e.jsx(nb,{children:e.jsx(Rx,{as:cr,to:y.href,_hover:{color:"white"},children:y.label})},S))}),e.jsxs(ne,{spacing:4,textAlign:"center",children:[e.jsx(Pe,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.025em",textShadow:"0 2px 4px rgba(0,0,0,0.1)",children:t}),n&&e.jsx(P,{fontSize:{base:"lg",md:"xl"},opacity:.9,maxW:"2xl",lineHeight:"relaxed",children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]})})]}):e.jsxs(ks,{maxW:d,py:{base:6,md:8},children:[r.length>0&&e.jsx(eb,{separator:e.jsx(Nx,{}),color:Tn("gray.600","gray.300"),fontSize:"sm",mb:4,children:r.map((y,S)=>e.jsx(nb,{children:e.jsx(Rx,{as:cr,to:y.href,children:y.label})},S))}),e.jsxs(ue,{bgGradient:x,color:"white",p:{base:6,md:8},borderRadius:"xl",textAlign:"center",boxShadow:"lg",children:[e.jsx(Pe,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.02em",children:t}),n&&e.jsx(P,{mt:2,opacity:.9,fontSize:{base:"md",md:"lg"},children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]}),e.jsx(ks,{maxW:d,py:{base:8,md:12},children:i})]})},wl=({title:t,description:n,icon:r,badge:i,children:l,variant:u="modern",color:d="gray",onClick:m,...p})=>{const g=Tn("white","gray.800"),x=Tn("gray.200","gray.600"),y=Tn("0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)");return e.jsxs(Ne,{variant:u,bg:g,borderColor:x,cursor:m?"pointer":"default",onClick:m,_hover:m?{boxShadow:y,transform:"translateY(-4px)",borderColor:`${d}.300`}:{},transition:"all 0.3s ease-out",...p,children:[(t||r||i)&&e.jsx(St,{pb:n?3:6,children:e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(re,{spacing:3,flex:1,children:[r&&e.jsx(Mn,{as:r,color:`${d}.600`,boxSize:6,flexShrink:0}),e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsx(Pe,{size:"md",color:"gray.700",fontWeight:"600",children:t}),n&&e.jsx(P,{variant:"description",fontSize:"sm",children:n})]})]}),i&&e.jsx(et,{colorScheme:i.color||d,variant:"subtle",children:i.label})]})}),l&&e.jsx(Ie,{pt:t?0:6,children:l})]})};function CM(){on();const{isOpen:t,onOpen:n,onClose:r}=Rt(),[i,l]=v.useState(!0),[u,d]=v.useState(null),[m,p]=v.useState(null),[g,x]=v.useState({functions:[],roles:[],roleFunctionDefaults:{}}),[y,S]=v.useState([]),[w,C]=v.useState(null),[_,T]=v.useState({}),[R,D]=v.useState(""),[k,N]=v.useState(""),[M,O]=v.useState({userId:"",functionId:"",access:!1,read:!1,write:!1,expiresAt:null});v.useEffect(()=>{H()},[]);const H=async()=>{try{l(!0);const de=localStorage.getItem("token");if(!de)throw new Error("No authentication token");const Re=await fetch("/api/permissions/definitions",{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(!Re.ok)throw new Error(`API error: ${Re.status}`);const fe=await Re.json();x({functions:Array.isArray(fe.functions)?fe.functions:Object.values(fe.functions||{}),roles:fe.roles||[],roleFunctionDefaults:fe.roleFunctionDefaults||{}}),d(null)}catch(de){console.error("Error fetching permission definitions:",de),d(`Erreur lors du chargement des permissions: ${de.message}`)}finally{l(!1)}},U=async de=>{try{const Re=localStorage.getItem("token");if(!Re)throw new Error("No authentication token");const fe=await fetch(`/api/permissions/user/${de}`,{headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"}});if(!fe.ok)throw new Error(`API error: ${fe.status}`);const se=await fe.json();T(se.permissions||{})}catch(Re){console.error("Error fetching user permissions:",Re),d(`Erreur lors du chargement des permissions utilisateur: ${Re.message}`)}},ae=async()=>{try{if(!M.userId||!M.functionId){d("Veuillez slectionner un utilisateur et une fonction");return}const de=localStorage.getItem("token");if(!de)throw new Error("No authentication token");const Re=await fetch("/api/permissions/grant",{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({userId:M.userId,functionId:M.functionId,access:M.access,read:M.read,write:M.write,expiresAt:M.expiresAt})});if(!Re.ok)throw new Error(`API error: ${Re.status}`);p("Permission accorde avec succs"),r(),O({userId:"",functionId:"",access:!1,read:!1,write:!1,expiresAt:null}),w&&U(w.id)}catch(de){console.error("Error granting permission:",de),d(`Erreur lors de l'octroi de la permission: ${de.message}`)}},he=async de=>{try{const Re=localStorage.getItem("token");if(!Re)throw new Error("No authentication token");const fe=await fetch(`/api/permissions/${de}`,{method:"DELETE",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"}});if(!fe.ok)throw new Error(`API error: ${fe.status}`);p("Permission rvoque avec succs"),w&&U(w.id)}catch(Re){console.error("Error revoking permission:",Re),d(`Erreur lors de la rvocation: ${Re.message}`)}},le=(Array.isArray(g.functions)?g.functions:[]).filter(de=>!(R&&!de.name.toLowerCase().includes(R.toLowerCase())||k&&!de.group?.toLowerCase().includes(k.toLowerCase())));return i?e.jsx(ue,{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",children:e.jsxs(ne,{spacing:4,children:[e.jsx(zP,{isIndeterminate:!0,color:"blue.300"}),e.jsx(P,{children:"Chargement des permissions..."})]})}):e.jsxs(ks,{maxW:"container.lg",py:8,children:[e.jsx(Pe,{size:"2xl",mb:6,children:" Gestionnaire des Permissions du Site"}),u&&e.jsxs(Wt,{status:"error",mb:4,borderRadius:"md",children:[e.jsx(qt,{}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",children:"Erreur"}),e.jsx(P,{fontSize:"sm",children:u})]})]}),m&&e.jsxs(Wt,{status:"success",mb:4,borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(P,{children:m})]}),e.jsxs(Tabs,{colorScheme:"blue",variant:"enclosed",children:[e.jsxs(Oa,{mb:4,children:[e.jsx(dn,{children:"Vue d'ensemble des permissions"}),e.jsx(dn,{children:"Gestion des utilisateurs"}),e.jsx(dn,{children:"Audit et logs"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{spacing:2,children:[e.jsx(ge,{placeholder:"Rechercher une fonction...",value:R,onChange:de=>D(de.target.value)}),e.jsxs(st,{value:k,onChange:de=>N(de.target.value),maxW:"200px",children:[e.jsx("option",{value:"",children:"Tous les groupes"}),[...new Set(g.functions.map(de=>de.group))].map(de=>e.jsx("option",{value:de,children:de},de))]})]}),e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{size:"sm",variant:"striped",children:[e.jsx(Yn,{bg:"gray.100",children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Fonction"}),e.jsx(ke,{children:"Groupe"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Rles par dfaut"})]})}),e.jsx(Gn,{children:le.map(de=>e.jsxs(jt,{children:[e.jsx(Ae,{fontWeight:"medium",children:de.name}),e.jsx(Ae,{children:de.group}),e.jsx(Ae,{children:de.description}),e.jsx(Ae,{children:e.jsx(re,{spacing:1,children:g.roleFunctionDefaults[de.id]?.roles?.map(Re=>e.jsx(et,{colorScheme:"purple",size:"sm",children:Re},Re))})})]},de.id))})]})})]})}),e.jsx(hn,{children:e.jsxs(vi,{templateColumns:{base:"1fr",md:"1fr 2fr"},gap:4,children:[e.jsx(Fu,{children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Utilisateurs"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:2,align:"stretch",children:[e.jsx(ge,{placeholder:"Rechercher un utilisateur...",size:"sm"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Chargement des utilisateurs..."})]})})]})}),e.jsx(Fu,{children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Permissions"}),e.jsx(J,{leftIcon:e.jsx(GP,{}),colorScheme:"blue",size:"sm",onClick:n,children:"Ajouter une permission"})]})}),e.jsx(Ie,{children:w?e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{size:"sm",variant:"striped",children:[e.jsx(Yn,{bg:"gray.100",children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Fonction"}),e.jsx(ke,{textAlign:"center",children:"Accs"}),e.jsx(ke,{textAlign:"center",children:"Lecture"}),e.jsx(ke,{textAlign:"center",children:"criture"}),e.jsx(ke,{children:"Expiration"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:Object.entries(_).map(([de,Re])=>e.jsxs(jt,{children:[e.jsx(Ae,{children:de}),e.jsx(Ae,{textAlign:"center",children:Re.access&&e.jsx(et,{colorScheme:"green",children:""})}),e.jsx(Ae,{textAlign:"center",children:Re.read&&e.jsx(et,{colorScheme:"green",children:""})}),e.jsx(Ae,{textAlign:"center",children:Re.write&&e.jsx(et,{colorScheme:"green",children:""})}),e.jsx(Ae,{fontSize:"sm",children:Re.expiresAt||"Jamais"}),e.jsx(Ae,{children:e.jsx(J,{leftIcon:e.jsx(vv,{}),size:"xs",colorScheme:"red",onClick:()=>he(Re.id),children:"Rvoquer"})})]},de))})]})}):e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Slectionnez un utilisateur pour voir ses permissions"})})]})})]})}),e.jsx(hn,{children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Audit des permissions"})}),e.jsx(Ie,{children:e.jsx(P,{color:"gray.600",children:"Historique des modifications de permissions (en dveloppement)"})})]})})]})]}),e.jsxs(wt,{isOpen:t,onClose:r,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Accorder une permission"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Utilisateur"}),e.jsxs(st,{value:M.userId,onChange:de=>O({...M,userId:de.target.value}),children:[e.jsx("option",{value:"",children:"Slectionner..."}),y.map(de=>e.jsxs("option",{value:de.id,children:[de.firstName," ",de.lastName," (",de.email,")"]},de.id))]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Fonction"}),e.jsxs(st,{value:M.functionId,onChange:de=>O({...M,functionId:de.target.value}),children:[e.jsx("option",{value:"",children:"Slectionner..."}),g.functions.map(de=>e.jsxs("option",{value:de.id,children:[de.name," (",de.group,")"]},de.id))]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Autorisations"}),e.jsxs(uo,{spacing:2,children:[e.jsx(so,{isChecked:M.access,onChange:de=>O({...M,access:de.target.checked}),children:"Accs"}),e.jsx(so,{isChecked:M.read,onChange:de=>O({...M,read:de.target.checked}),children:"Lecture"}),e.jsx(so,{isChecked:M.write,onChange:de=>O({...M,write:de.target.checked}),children:"criture"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Expiration (optionnel)"}),e.jsx(ge,{type:"datetime-local",value:M.expiresAt||"",onChange:de=>O({...M,expiresAt:de.target.value})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:r,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:ae,children:"Accorder"})]})]})]})]})}const VQ=[{title:"RtroDemandes",description:"Crez vos demandes et consultez vos devis",to:"/dashboard/retro-requests",icon:_n,color:"blue",resource:"RETRODEMANDES",cardAccess:!0},{title:"Rcapitulatif Demandes",description:"Vue d'ensemble de toutes les RtroDemandes",to:"/dashboard/president/retro-requests",icon:_n,color:"cyan",requiredRole:["PRESIDENT","ADMIN"],resource:"RETRODEMANDES",cardAccess:!0},{title:"RtroBus",description:"Mcanique, vhicules et maintenance",to:"/dashboard/retrobus",icon:lQ,color:"teal",resource:"VEHICLES",cardAccess:!0},{title:"Gestion Financire",description:"Recettes, dpenses et oprations programmes",to:"/admin/finance-v2",icon:Mc,color:"rbe",resource:"FINANCE",cardAccess:!0},{title:"Gestion des vnements",description:"Cration, planification et suivi",to:"/dashboard/events-management",icon:$s,color:"green",resource:"EVENTS",cardAccess:!0},{title:"Grer les adhsions",description:"Membres, cotisations et documents",to:"/dashboard/members-management",icon:zi,color:"blue",resource:"MEMBERS",cardAccess:!0},{title:"Gestion des Stocks",description:"Inventaire et matriel de l'association",to:"/dashboard/stock-management",icon:Ox,color:"yellow",resource:"STOCK",cardAccess:!0},{title:"Gestion Newsletter",description:"Abonns et campagnes d'envoi",to:"/dashboard/newsletter",icon:zc,color:"purple",resource:"NEWSLETTER",cardAccess:!0},{title:"RtroPlanning",description:"Calendrier centralis: campagnes, tournes, affectations",to:"/dashboard/retroplanning",icon:$s,color:"orange",resource:"PLANNING",cardAccess:!0,hidden:!0},{title:"Gestion du Site",description:"Changelog, contenu et mise  jour",to:"/dashboard/site-management",icon:ch,color:"pink",resource:"SITE_MANAGEMENT",cardAccess:!0},{title:"Gestion des Autorisations",description:"Rles et permissions des utilisateurs",to:"/dashboard/myrbe/permissions",icon:M1,color:"red",requiredRole:["ADMIN","MANAGER","OPERATOR"],resource:"PERMISSIONS_MANAGEMENT",cardAccess:!0},{title:"Retromail",description:"Messagerie interne de l'quipe",to:"/retromail",icon:QK,color:"teal",resource:"RETROMAIL",cardAccess:!0,hidden:!0},{title:"RtroSupport",description:"Tickets: incidents, bugs et amliorations",to:"/dashboard/support",icon:JK,color:"cyan",resource:"RETROSUPPORT",cardAccess:!0},{title:"Mon Profil",description:"Informations personnelles et permissions",to:"/dashboard/profile",icon:zi,color:"blue",hidden:!0}];function UQ(){const t=Tn("blue.50","blue.900"),n=Tn("blue.500","blue.300"),{user:r,roles:i,customPermissions:l}=vs(),u=i?.[0]||"MEMBER",{permissions:d,loading:m}=FQ(r?.id),[p,g]=un.useState(!1),x=un.useMemo(()=>window.location.pathname,[]);un.useEffect(()=>{x.includes("permissions")&&g(!0)},[x]);const y=w=>{if(w.hidden&&u!=="ADMIN")return!1;if(u==="ADMIN")return!0;if(u==="PRESTATAIRE")return w.title==="RtroSupport";if(w.requiredRole&&!w.requiredRole.includes(u))return!1;if(w.cardAccess){if(d.some(_=>_.resource===w.resource))return!0;if(u==="PARTENAIRE")return!1;if(w.resource){const T={VEHICLES:_e.VEHICLES,EVENTS:_e.EVENTS,PLANNING:_e.RETROPLANNING,FINANCE:_e.FINANCE,MEMBERS:_e.MEMBERS,STOCK:_e.STOCK,NEWSLETTER:_e.NEWSLETTER,SITE_MANAGEMENT:_e.SITE_MANAGEMENT,RETRODEMANDES:_e.RETRODEMANDES,RETROMAIL:_e.RETROMAIL,RETROSUPPORT:_e.RETROSUPPORT,PERMISSIONS_MANAGEMENT:_e.PERMISSIONS_MANAGEMENT}[w.resource];return!T||yl(u,T,l)}return!0}return!0},S=VQ.filter(y);return m?e.jsx(Ll,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",bgGradient:"linear(to-r, blue.500, purple.600)",children:e.jsxs(ne,{spacing:4,py:8,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{children:"Chargement des permissions..."})]})}):e.jsx(Ll,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",headerVariant:"card",bgGradient:"linear(to-r, blue.500, purple.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"}],children:e.jsxs(ne,{spacing:8,align:"stretch",children:[p&&(i?.includes("ADMIN")||i?.includes("MANAGER")||i?.includes("OPERATOR"))&&e.jsxs(ue,{children:[e.jsx(J,{mb:4,variant:"ghost",onClick:()=>g(!1),size:"sm",children:" Retour  MyRBE"}),e.jsxs(ue,{bg:Tn("white","gray.800"),borderRadius:"md",p:6,borderWidth:"1px",borderColor:Tn("gray.200","gray.700"),children:[e.jsx(Pe,{size:"md",mb:4,children:" Gestion des Autorisations"}),e.jsx(CM,{})]})]}),!p&&e.jsx(e.Fragment,{children:S.length>0?e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:6,children:S.map(w=>e.jsx(wl,{title:w.title,description:w.description,icon:w.icon,color:w.color,badge:w.badge,as:w.title==="Gestion des Autorisations"?"button":cr,to:w.title!=="Gestion des Autorisations"?w.to:void 0,onClick:w.title==="Gestion des Autorisations"?()=>g(!0):void 0},w.title))}):e.jsxs(ue,{bg:Tn("gray.50","gray.900"),borderRadius:"md",p:12,textAlign:"center",borderWidth:"2px",borderStyle:"dashed",borderColor:Tn("gray.300","gray.600"),children:[e.jsx(re,{justify:"center",mb:3,children:e.jsx(T1,{size:32})}),e.jsx(Pe,{size:"md",mb:2,children:"Accs limit"}),e.jsx(P,{color:"gray.600",mb:4,children:"Vous n'avez pas accs aux fonctionnalits de MyRBE avec votre rle et vos permissions actuels."}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Contactez un administrateur pour demander l'accs."})]})}),!p&&S.length>0&&e.jsxs(ne,{spacing:6,children:[e.jsx(ue,{bg:t,p:6,borderRadius:"xl",borderLeft:"4px solid",borderLeftColor:n,w:"full",children:e.jsxs(ne,{spacing:3,align:"start",children:[e.jsx(re,{children:e.jsx(P,{fontSize:"lg",fontWeight:"600",color:"blue.700",children:" Guide d'utilisation"})}),e.jsx(P,{color:"blue.600",lineHeight:"relaxed",fontSize:"sm",children:"Votre vue MyRBE est personnalise selon vos permissions individuelles et votre rle. Les cartes affiches correspondent  vos droits d'accs. Les modifications que vous effectuez sont automatiquement sauvegardes et synchronises avec les autres membres de l'quipe."}),e.jsxs(re,{spacing:3,pt:2,children:[e.jsx(J,{size:"sm",variant:"secondary",colorScheme:"blue",children:"Guide complet"}),e.jsx(J,{size:"sm",variant:"modern",as:cr,to:"/dashboard/support",children:"Support technique"})]})]})}),e.jsxs(ft,{columns:{base:2,md:4},spacing:4,w:"full",children:[e.jsx(wl,{title:"Cartes visibles",description:`${S.length}`,color:"blue",variant:"modern"}),e.jsx(wl,{title:"Votre rle",description:u,color:"green",variant:"modern"}),e.jsx(wl,{title:"Permissions individuelles",description:`${d.length}`,color:"orange",variant:"modern"}),e.jsx(wl,{title:"Version",description:"v2.2.0",color:"purple",variant:"modern"})]})]})]})})}const yc="https://attractive-kindness-rbe-serveurs.up.railway.app",WT=[{matricule:"w.belaidi",label:"Waiyl Belaidi"},{matricule:"m.ravichandran",label:"Mthusan Ravichandran"}];function qT(t,n){return`pointage:${t}:${n}`}function HQ(t){try{const n="rbe:reports:local",r=localStorage.getItem(n),i=r?JSON.parse(r):[];return i.unshift(t),localStorage.setItem(n,JSON.stringify(i)),!0}catch(n){return console.error("saveLocalReport failed",n),!1}}function WQ(){const{parc:t}=Vx(),n=on(),{matricule:r,prenom:i}=vs(),[l,u]=v.useState(null),[d,m]=v.useState(!0),[p,g]=v.useState(WT),[x,y]=v.useState(""),[S,w]=v.useState([]),[C,_]=v.useState(null),[T,R]=v.useState(!1),[D,k]=v.useState(!1),[N,M]=v.useState(!1),[O,H]=v.useState(""),[U,ae]=v.useState(""),[he,le]=v.useState(!1),[de,Re]=v.useState(""),[fe,se]=v.useState([]),[Y,q]=v.useState(!1),[W,Ee]=v.useState(null);v.useEffect(()=>{let be=!1;return(async()=>{try{m(!0);const He=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}`);if(!He.ok)throw new Error("Vhicule introuvable");const ct=await He.json();be||u(ct)}catch(He){console.error(He),n({status:"error",title:"Impossible de charger le vhicule",description:String(He.message)})}finally{be||m(!1)}})(),()=>{be=!0}},[t,n]),v.useEffect(()=>{r&&r.trim()?(y(r),p.some(be=>be.matricule===r)||g(be=>[{matricule:r,label:i?`${i} (${r})`:r},...be])):x||y(WT[0].matricule)},[r,i]),v.useEffect(()=>{if(!x)return;const be=qT(t,x);try{const He=localStorage.getItem(be);if(He){const ct=JSON.parse(He);_(ct)}else _(null)}catch(He){console.warn("failed reading pointage from storage",He)}},[t,x]);const B=be=>{const He=qT(t,x);if(be)try{localStorage.setItem(He,JSON.stringify(be))}catch(ct){console.warn("persistActiveLocal failed",ct)}else try{localStorage.removeItem(He)}catch(ct){console.warn("persistActiveLocal remove failed",ct)}},ie=be=>{try{return new Date(be).toLocaleString()}catch{return be}},xe=()=>{const be=O.trim();if(!be)return n({status:"warning",title:"Matricule requis"});if(be===x)return H(""),n({status:"info",title:"C'est dj le membre principal"});if(S.includes(be))return H(""),n({status:"info",title:"Participant dj ajout"});w(He=>[...He,be]),p.some(He=>He.matricule===be)||g(He=>[{matricule:be,label:be},...He]),H(""),n({status:"success",title:"Participant ajout"})},$=be=>{w(He=>He.filter(ct=>ct!==be))},F=async()=>{R(!0);try{try{if(!(await fetch(`${yc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Le serveur est indisponible  le pointage informatique est dsactiv."}),R(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage informatique est dsactiv."}),R(!1);return}const be=[...S],He={conducteur:x||null,participants:be,note:"pointage:start",startedAt:new Date().toISOString()},ct=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json","x-user-matricule":x||""},body:JSON.stringify(He)});if(!ct.ok){let Ue=null;try{Ue=await ct.json()}catch{Ue=await ct.text().catch(()=>null)}console.warn("startPointage server error",ct.status,Ue),n({status:"error",title:"chec du pointage",description:Ue?.error||`Erreur serveur (${ct.status})`}),R(!1);return}const Xe=await ct.json(),dt={id:Xe.id||`local-${Date.now()}`,startedAt:Xe.startedAt||He.startedAt,conducteur:He.conducteur,participants:He.participants||[]};_(dt),B(dt),n({status:"success",title:"Pointage dmarr",description:` ${ie(dt.startedAt)}`}),k(!1)}catch(be){console.error(be),n({status:"error",title:"chec du pointage",description:String(be.message)})}finally{R(!1)}},G=async()=>{if(!C)return;R(!0);const be=new Date().toISOString(),He=(ct,Xe)=>{try{const dt="rbe:usages:local",Ue=localStorage.getItem(dt),Ht=Ue?JSON.parse(Ue):[],we={id:`local-end-${Date.now()}`,relatedTo:ct,parc:t,startedAt:Xe||C.startedAt,endedAt:be,conducteur:C.conducteur||x,participants:C.participants||S,note:U||"depointe",createdAt:new Date().toISOString(),synced:!1};return Ht.unshift(we),localStorage.setItem(dt,JSON.stringify(Ht)),we}catch(dt){return console.error("saveLocalEnded failed",dt),null}};try{try{if(!(await fetch(`${yc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Impossible de terminer le pointage  serveur indisponible."}),R(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage ne peut pas tre termin."}),R(!1);return}const ct={endedAt:be,note:U||"depointe",participants:C.participants||S};let Xe=null;try{const we=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(C.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});if(we.ok){try{Xe=await we.json()}catch{Xe=null}B(null),_(null),M(!1),ae(""),n({status:"success",title:"Dpointe",description:`arrt  ${new Date(be).toLocaleString()}`})}else{let Ke=null;try{Ke=await we.json()}catch{Ke=await we.text().catch(()=>null)}console.warn("depointerWithNote: PATCH failed",we.status,Ke)}}catch(we){console.warn("depointerWithNote: PATCH network error",we)}if(!Xe)try{const we=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conducteur:x||null,note:U||"pointage:end",relatedTo:C.id,participants:C.participants||S,endedAt:be})});if(we.ok){try{Xe=await we.json()}catch{Xe=null}B(null),_(null),M(!1),ae(""),n({status:"success",title:"Dpointe (fallback)",description:`arrt  ${new Date(be).toLocaleString()}`})}else{let Ke=null;try{Ke=await we.json()}catch{Ke=await we.text().catch(()=>null)}console.warn("depointerWithNote: POST fallback failed",we.status,Ke)}}catch(we){console.warn("depointerWithNote: POST fallback network error",we)}if(!Xe){const we=He(C.id,C.startedAt);B(null),_(null),M(!1),ae(""),n({status:"warning",title:"Dpointe local",description:we?"Le pointage a t enregistr localement (pas d'API). La fiche peut tre envoye plus tard.":"Le serveur est indisponible et la sauvegarde locale a chou."}),Ee({usageId:we?we.id:`local-${Date.now()}`,startedAt:we?.startedAt||C.startedAt,endedAt:we?.endedAt||be,conducteur:C.conducteur||x,participants:C.participants||S}),Re(U||""),se([]),le(!0);return}const dt=Xe?.id||C.id,Ue=Xe?.startedAt||C.startedAt,Ht=Xe?.endedAt||be;Ee({usageId:dt,startedAt:Ue,endedAt:Ht,conducteur:x,participants:C.participants||S}),Re(U||""),se([]),le(!0)}catch(ct){console.error("depointerWithNote: unexpected error",ct),n({status:"error",title:"chec du dpointeur",description:String(ct.message)})}finally{R(!1)}},X=be=>{const He=Array.from(be.target.files||[]);se(ct=>[...ct,...He]),be.target.value=""},ye=be=>{se(He=>He.filter((ct,Xe)=>Xe!==be))},ve=async()=>{if(W){q(!0);try{const{usageId:be,startedAt:He,endedAt:ct,conducteur:Xe,participants:dt}=W,Ue=new FormData;Ue.append("description",de||""),Ue.append("startedAt",He||""),Ue.append("endedAt",ct||""),Ue.append("conducteur",Xe||""),Ue.append("participants",JSON.stringify(dt||[])),fe.forEach((we,Ke)=>Ue.append("files",we,we.name));let Ht=!1;try{const we=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(be)}/report`,{method:"POST",body:Ue});we.ok?(Ht=!0,n({status:"success",title:"Fiche enregistre",description:"La fiche a t enregistre sur le serveur."})):console.warn("primary report endpoint failed",we.status)}catch(we){console.warn("primary report endpoint error",we)}if(!Ht)try{const we=await fetch(`${yc}/vehicles/${encodeURIComponent(t)}/reports`,{method:"POST",body:Ue});we.ok?(Ht=!0,n({status:"success",title:"Fiche enregistre (fallback)",description:"La fiche a t envoye au fallback serveur."})):console.warn("fallback report endpoint failed",we.status)}catch(we){console.warn("fallback report endpoint error",we)}if(!Ht){const we={id:`local-${Date.now()}`,parc:t,usageId:be,startedAt:He,endedAt:ct,conducteur:Xe,participants:dt||[],description:de||"",files:fe.map(Bt=>({name:Bt.name,size:Bt.size,type:Bt.type})),createdAt:new Date().toISOString()},Ke=HQ(we);n(Ke?{status:"warning",title:"Fiche sauvegarde localement",description:"Pas d'API disponible  la fiche est dans votre navigateur."}:{status:"error",title:"chec sauvegarde locale",description:"Impossible de sauvegarder la fiche."})}le(!1),Re(""),se([]),Ee(null)}catch(be){console.error(be),n({status:"error",title:"Erreur lors de l'envoi de la fiche",description:String(be.message)})}finally{q(!1)}}};return d?e.jsx(vn,{p:8,children:e.jsx(mn,{size:"lg"})}):e.jsxs(ks,{maxW:"4xl",py:10,children:[e.jsx(Pe,{as:"h1",size:"xl",mb:4,children:"MyRBE  Actions rapides"}),e.jsxs(ue,{mb:4,children:[e.jsxs(P,{fontSize:"md",children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Parc ",t]})]}),e.jsxs(ue,{mb:4,children:[e.jsx(P,{mb:2,children:e.jsx("b",{children:"Initiateur (scan)"})}),e.jsxs(re,{spacing:3,align:"start",children:[e.jsxs(st,{value:x,onChange:be=>y(be.target.value),maxW:"360px",children:[p.map(be=>e.jsxs("option",{value:be.matricule,children:[be.label," (",be.matricule,")"]},be.matricule)),r&&!p.some(be=>be.matricule===r)&&e.jsx("option",{value:r,children:i?`${i} (${r})`:r})]}),e.jsx(ue,{children:e.jsx(ge,{placeholder:"Ajouter participant (matricule)",value:O,onChange:be=>H(be.target.value),maxW:"220px"})}),e.jsx(J,{size:"sm",onClick:xe,children:"Ajouter"})]}),e.jsxs(ue,{mt:3,children:[e.jsx(P,{mb:2,fontSize:"sm",children:"Participants prsents :"}),e.jsxs(WP,{spacing:2,children:[S.length===0&&e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Aucun participant ajout"}),S.map(be=>e.jsxs(Uu,{size:"sm",borderRadius:"full",variant:"solid",colorScheme:"blue",children:[e.jsx(Hu,{children:be}),e.jsx(E1,{onClick:()=>$(be)})]},be))]})]})]}),e.jsxs(uo,{direction:{base:"column",md:"row"},spacing:4,mb:4,children:[e.jsx(J,{colorScheme:"blue",size:"lg",onClick:()=>n({status:"info",title:"Planifier",description:"Fonctionnalit planification  ajouter"}),children:"Planifier une intervention"}),e.jsx(J,{colorScheme:"red",size:"lg",onClick:()=>n({status:"info",title:"Signaler",description:"Fonctionnalit signalement  ajouter"}),children:"Signaler une anomalie"}),e.jsx(J,{colorScheme:C?"orange":"green",size:"lg",onClick:()=>{C?M(!0):k(!0)},isLoading:T,children:C?"Dpointer":"Pointer"})]}),e.jsxs(ue,{children:[e.jsxs(P,{fontSize:"sm",color:"gray.700",children:[e.jsx("b",{children:"Initiateur :"})," ",x," ",r===x&&i?`  ${i}`:""]}),C?e.jsxs(P,{fontSize:"sm",color:"gray.700",children:["Point depuis : ",ie(C.startedAt)]}):e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Aucun pointage actif pour ce membre sur ce vhicule."})]}),e.jsxs(wt,{isOpen:D,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Pointer  dmarrer"}),e.jsx($t,{}),e.jsxs(Ct,{children:[e.jsxs(P,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(P,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(P,{mb:3,children:["Participants : ",S.length?S.join(", "):""]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Confirmer pour crer le pointage (heure actuelle enregistre)."})]}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(J,{colorScheme:"green",onClick:F,isLoading:T,children:"Confirmer"})]})]})]}),e.jsxs(wt,{isOpen:N,onClose:()=>M(!1),isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Dpointer  terminer"}),e.jsx($t,{}),e.jsxs(Ct,{children:[e.jsxs(P,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(P,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description des activits ralises"}),e.jsx(en,{value:U,onChange:be=>ae(be.target.value),placeholder:"Ex: contrle frein, remplacement ampoule..."})]}),e.jsx(P,{mt:3,fontSize:"sm",color:"gray.500",children:"(Aprs validation, vous pourrez ajouter photos/vidos  la fiche.)"})]}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>M(!1),children:"Annuler"}),e.jsx(J,{colorScheme:"orange",onClick:G,isLoading:T,isDisabled:!U.trim(),children:"Confirmer dpointer"})]})]})]}),e.jsxs(wt,{isOpen:he,onClose:()=>le(!1),size:"xl",isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Fiche de pointage  dtails"}),e.jsx($t,{}),e.jsxs(Ct,{children:[e.jsxs(ue,{mb:3,children:[e.jsxs(P,{children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(P,{children:[e.jsx("b",{children:"Initiateur :"})," ",W?.conducteur]}),e.jsxs(P,{children:[e.jsx("b",{children:"Participants :"})," ",(W?.participants||[]).join(", ")||""]}),e.jsxs(P,{children:[e.jsx("b",{children:"Dbut :"})," ",W?ie(W.startedAt):""]}),e.jsxs(P,{children:[e.jsx("b",{children:"Fin :"})," ",W?ie(W.endedAt):""]})]}),e.jsxs(Q,{mb:3,children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:de,onChange:be=>Re(be.target.value),placeholder:"Dcrivez les actions effectues..."})]}),e.jsxs(Q,{mb:3,children:[e.jsx(K,{children:"Photos / Vidos"}),e.jsx(ge,{type:"file",accept:"image/*,video/*",multiple:!0,onChange:X}),fe.length>0&&e.jsx(ft,{columns:{base:2,md:3},spacing:2,mt:3,children:fe.map((be,He)=>e.jsxs(ue,{borderRadius:"md",overflow:"hidden",pos:"relative",bg:"gray.50",p:2,children:[be.type.startsWith("image/")?e.jsx(Oi,{src:URL.createObjectURL(be),alt:be.name,objectFit:"cover",maxH:"140px",w:"100%"}):e.jsxs(ue,{p:2,children:[e.jsx(P,{fontSize:"sm",noOfLines:2,children:be.name}),e.jsxs(P,{fontSize:"xs",color:"gray.600",children:[be.size/1024|0," KB"]})]}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",pos:"absolute",top:"6px",right:"6px",onClick:()=>ye(He),icon:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),e.jsx("path",{d:"M10 11v6"}),e.jsx("path",{d:"M14 11v6"})]})})]},He))})]}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Les fichiers seront envoys au serveur si disponible ; sinon la fiche sera sauvegarde localement."})]}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:()=>le(!1),children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:ve,isLoading:Y,children:"Enregistrer la fiche"})]})]})]})]})}const wp={getAll:async()=>Nt.get("/vehicles"),getByParc:async t=>Nt.get(`/vehicles/${t}`),create:async t=>Nt.post("/vehicles",t),update:async(t,n)=>Nt.put(`/vehicles/${t}`,n),delete:async t=>Nt.delete(`/vehicles/${t}`)},Pa={getAll:async()=>Nt.get("/events"),getById:async t=>Nt.get(`/events/${t}`),create:async t=>Nt.post("/events",t),update:async(t,n)=>Nt.put(`/events/${t}`,n),delete:async t=>Nt.delete(`/events/${t}`),publish:async(t,n)=>Nt.put(`/events/${t}`,{status:n})},GT="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),Tb=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}},qQ=async t=>{const n=(t.headers.get("content-type")||"").toLowerCase();if(!(n.includes("application/json")||n.includes("+json"))){const r=await t.text().catch(()=>"");throw new Error(`Rponse non-JSON (${t.status}) ${r?.slice(0,200)||""}`)}},Ab=(t,n={},r=8e3)=>{const i=new AbortController,l=setTimeout(()=>i.abort(),r);return fetch(t,{...n,signal:i.signal}).finally(()=>clearTimeout(l))},ip=t=>{const n=String(t||"").replace(/^\/+|\/+$/g,"");return GT?`${GT}/${n}`:`/${n}`},Rb=["api/members","members","api/v1/members","v1/members"];async function Hf(t,n,r){let i=null;for(const l of Rb)try{const u=ip(l),d=await Ab(u,{method:t,headers:{Accept:"application/json","Content-Type":n instanceof FormData?void 0:"application/json",...Tb(),...r||{}},body:n==null?void 0:n instanceof FormData?n:JSON.stringify(n)});if(!d.ok){i=new Error(`HTTP ${d.status}`);continue}return await qQ(d),await d.json()}catch(u){i=u;continue}throw i||new Error("Aucun endpoint membre valide")}const El={async getAll(){try{const t=await Hf("GET");return Array.isArray(t)?{members:t}:Array.isArray(t?.members)?t:Array.isArray(t?.data)?{members:t.data}:{members:[]}}catch{return{members:[]}}},async testConnectivity(){const t=[ip("api/health"),ip("health"),ip(Rb[0])];for(const n of t)try{if((await Ab(n,{method:"GET",headers:{...Tb()}},3e3)).ok)return!0}catch{}return!1},async create(t){const n=await Hf("POST",t);return n?.member||n?.data||n},async update(t,n){try{const r=await Hf("PATCH",{id:t,...n},{"X-Method-Override":"PATCH"});return r?.member||r?.data||r}catch{const r=await Hf("PUT",{id:t,...n});return r?.member||r?.data||r}},async delete(t){const n={id:t};try{const r=await Hf("DELETE",n);return r?.ok===!0?r:{ok:!0}}catch(r){for(const i of Rb)try{const l=ip(`${i}/${encodeURIComponent(t)}`);if((await Ab(l,{method:"DELETE",headers:{...Tb()}})).ok)return{ok:!0}}catch{}throw r}}},GQ="rbe:announcements";function YQ(){try{const t=localStorage.getItem(GQ);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const r=Date.now();return n.filter(i=>i&&i.active&&(!i.expiresAt||new Date(i.expiresAt).getTime()>r))}catch(t){return console.warn("loadFlashes:",t),[]}}function ij(){const t=vs(),[n,r]=v.useState([]),[i,l]=v.useState({vehicles:{total:0,active:0,loading:!0},events:{total:0,upcoming:0,published:0,loading:!0},members:{total:0,active:0,loading:!0}}),[u,d]=v.useState([]),[m,p]=v.useState(!0),[g,x]=v.useState([]),[y,S]=v.useState([]),[w,C]=v.useState(0);on();const _=Tn("white","gray.800"),T=Tn("linear(to-r, blue.500, purple.600)","linear(to-r, blue.600, purple.700)"),R=Tn("gray.200","gray.700");v.useEffect(()=>{r(YQ()),D();const le=setInterval(D,300*1e3);return()=>clearInterval(le)},[]);const D=async()=>{console.log(" Chargement des donnes du dashboard..."),N(),M(),O(),H(),U(),k()},k=async()=>{try{const le="https://attractive-kindness-rbe-serveurs.up.railway.app",de=[`${le}/api/retro-news`,`${le}/retro-news`,"/data/retro-news.json"];for(const Re of de)try{const fe=await fetch(Re);if(!fe.ok)continue;const se=await fe.json();S(Array.isArray(se)?se:[]);return}catch(fe){console.warn(`chec chargement depuis ${Re}:`,fe)}S([])}catch(le){console.error("Erreur chargement RtroActus:",le),S([])}},N=async()=>{try{if(console.log(" Chargement des vhicules..."),!wp||typeof wp.getAll!="function"){console.warn("vehiculesAPI non disponible"),l(fe=>({...fe,vehicles:{total:0,active:0,loading:!1}}));return}const le=await wp.getAll();console.log(" Rponse vhicules:",le);let de=[];le?.data?de=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(de=le);const Re={total:de.length,active:de.filter(fe=>{const se=fe?.statut||fe?.status||fe?.etat||"";return se==="ACTIF"||se==="ACTIVE"||se==="active"||se==="En service"}).length,loading:!1};if(console.log(" Stats vhicules:",Re),l(fe=>({...fe,vehicles:Re})),de.length>0){const fe=de.filter(se=>{const Y=new Date(se.createdAt||se.dateCreation||se.created_at),q=new Date(Date.now()-1440*60*1e3);return Y>q});fe.length>0&&d(se=>[{id:`vehicles-${Date.now()}`,type:"vehicle",title:`${fe.length} nouveau(x) vhicule(s) ajout(s)`,time:"Aujourd'hui",icon:Tc,color:"blue"},...se.filter(Y=>Y.type!=="vehicle")])}}catch(le){console.error(" Erreur chargement vhicules:",le),l(de=>({...de,vehicles:{total:0,active:0,loading:!1}}))}},M=async()=>{try{if(console.log(" Chargement des vnements..."),!Pa||typeof Pa.getAll!="function"){console.warn("eventsAPI non disponible"),l(se=>({...se,events:{total:0,upcoming:0,published:0,loading:!1}}));return}const le=await Pa.getAll();console.log(" Rponse vnements:",le);let de=[];le?.data?de=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(de=le);const Re=new Date,fe={total:de.length,upcoming:de.filter(se=>{try{const Y=new Date(se?.date||se?.dateEvent||se?.startDate),q=se?.status||se?.statut||"";return Y>Re&&(q==="PUBLISHED"||q==="published"||q==="Publi")}catch{return!1}}).length,published:de.filter(se=>{const Y=se?.status||se?.statut||"";return Y==="PUBLISHED"||Y==="published"||Y==="Publi"}).length,loading:!1};if(console.log(" Stats vnements:",fe),l(se=>({...se,events:fe})),de.length>0){const se=de.filter(Y=>{const q=new Date(Y.createdAt||Y.dateCreation||Y.created_at),W=new Date(Date.now()-1440*60*1e3);return q>W});se.length>0&&d(Y=>[{id:`events-${Date.now()}`,type:"event",title:`${se.length} nouvel(s) vnement(s) cr(s)`,time:"Aujourd'hui",icon:$s,color:"green"},...Y.filter(q=>q.type!=="event")])}}catch(le){console.error(" Erreur chargement vnements:",le),l(de=>({...de,events:{total:0,upcoming:0,published:0,loading:!1}}))}},O=async()=>{try{if(console.log(" Chargement des membres..."),!El||typeof El.getAll!="function"){console.warn("membersAPI non disponible"),l(fe=>({...fe,members:{total:0,active:0,loading:!1}}));return}const le=await El.getAll();console.log(" Rponse membres:",le);let de=[];le?.members?de=Array.isArray(le.members)?le.members:[le.members]:le?.data?de=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(de=le);const Re={total:de.length,active:de.filter(fe=>{const se=fe?.membershipStatus||fe?.statut||fe?.status||fe?.adhesionStatus||"";return se==="ACTIVE"||se==="active"||se==="Actif"||se===" jour"}).length,loading:!1};if(console.log(" Stats membres:",Re),l(fe=>({...fe,members:Re})),de.length>0){const fe=de.filter(se=>{const Y=new Date(se.createdAt||se.dateCreation||se.dateAdhesion||se.created_at),q=new Date(Date.now()-1440*60*1e3);return Y>q});fe.length>0&&d(se=>[{id:`members-${Date.now()}`,type:"member",title:`${fe.length} nouvelle(s) adhsion(s)`,time:"Aujourd'hui",icon:zi,color:"purple"},...se.filter(Y=>Y.type!=="member")])}}catch(le){console.error(" Erreur chargement membres:",le),l(de=>({...de,members:{total:0,active:0,loading:!1}}))}},H=()=>{const le=[{id:"system-1",type:"system",title:"Dashboard mis  jour",time:" l'instant",icon:Lo,color:"gray"}];d(de=>de.length>0?de:le)},U=()=>{x([{title:"Nouveau vhicule",icon:_n,to:"/dashboard/vehicules",color:"blue"},{title:"Crer vnement",icon:$s,to:"/dashboard/events-management",color:"green"},{title:"Gestion membres",icon:zi,to:"/dashboard/members-management",color:"purple"},{title:"Finance",icon:Mc,to:"/admin",color:"orange"}])};v.useEffect(()=>{!i.vehicles.loading&&!i.events.loading&&!i.members.loading&&m&&(console.log(" Toutes les donnes sont charges"),p(!1))},[i,m]);const ae=()=>{const le=new Date().getHours();return le<12?"Bonjour":le<17?"Bon aprs-midi":"Bonsoir"},he=v.useMemo(()=>n.map(le=>({id:le.id,message:le.message,category:le.category||"info",createdAt:le.createdAt})),[n]);return m?e.jsx(ks,{maxW:"container.xl",py:8,children:e.jsxs(ne,{spacing:8,children:[e.jsxs(ue,{bgGradient:T,color:"white",p:8,borderRadius:"xl",textAlign:"center",w:"full",children:[e.jsx(Pe,{size:"xl",children:"Chargement des donnes..."}),e.jsx(P,{mt:2,opacity:.9,children:"Rcupration des vhicules, vnements et membres"})]}),e.jsx(mn,{size:"xl",color:"blue.500"})]})}):e.jsxs(ks,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(ue,{bgGradient:T,color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsxs(Pe,{size:"xl",mb:4,children:[ae(),", ",t?.prenom||t?.email||"Utilisateur"," ! "]}),e.jsx(P,{fontSize:"lg",opacity:.9,children:"Voici un aperu de votre activit RtrobuS Essonne"})]}),e.jsxs(ft,{columns:{base:1,lg:4},spacing:8,children:[e.jsx(Fu,{colSpan:{base:1,lg:3},children:e.jsxs(ne,{spacing:8,align:"stretch",children:[e.jsxs(ft,{columns:{base:2,md:4},spacing:6,children:[e.jsx(Ne,{bg:_,borderColor:R,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{color:"gray.600",children:"Vhicules actifs"}),e.jsx(vt,{color:"blue.500",children:e.jsxs(re,{children:[e.jsx(Mn,{as:Tc}),i.vehicles.loading?e.jsx(mn,{size:"sm"}):e.jsxs(P,{children:[i.vehicles.active,"/",i.vehicles.total]})]})}),e.jsx(Ec,{value:i.vehicles.total>0?i.vehicles.active/i.vehicles.total*100:0,colorScheme:"blue",size:"sm",mt:2,isIndeterminate:i.vehicles.loading})]})})}),e.jsx(Ne,{bg:_,borderColor:R,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{color:"gray.600",children:"vnements  venir"}),e.jsx(vt,{color:"green.500",children:e.jsxs(re,{children:[e.jsx(Mn,{as:$s}),i.events.loading?e.jsx(mn,{size:"sm"}):e.jsxs(P,{children:[i.events.upcoming,"/",i.events.total]})]})}),e.jsx(Ec,{value:i.events.total>0?i.events.upcoming/i.events.total*100:0,colorScheme:"green",size:"sm",mt:2,isIndeterminate:i.events.loading})]})})}),e.jsx(Ne,{bg:_,borderColor:R,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{color:"gray.600",children:"Membres actifs"}),e.jsx(vt,{color:"purple.500",children:e.jsxs(re,{children:[e.jsx(Mn,{as:zi}),i.members.loading?e.jsx(mn,{size:"sm"}):e.jsxs(P,{children:[i.members.active,"/",i.members.total]})]})}),e.jsx(Ec,{value:i.members.total>0?i.members.active/i.members.total*100:0,colorScheme:"purple",size:"sm",mt:2,isIndeterminate:i.members.loading})]})})})]}),e.jsxs(Ne,{bg:_,borderColor:R,shadow:"lg",children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",fontWeight:"700",children:"Actions rapides"})}),e.jsx(Ie,{children:e.jsx(ft,{columns:{base:2,md:4},spacing:4,children:g.map(le=>e.jsx(J,{as:cr,to:le.to,leftIcon:e.jsx(Mn,{as:le.icon}),colorScheme:le.color,variant:"outline",size:"sm",h:"auto",py:4,flexDirection:"column",textAlign:"center",children:le.title},le.title))})})]}),y.length>0&&e.jsxs(Ne,{bg:_,borderColor:R,shadow:"lg",children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",fontWeight:"700",children:" Les RtroActus"}),e.jsxs(re,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(sM,{}),size:"sm",variant:"ghost",onClick:()=>C(le=>le===0?y.length-1:le-1),"aria-label":"Actu prcdente",isDisabled:y.length<=1}),e.jsxs(P,{fontSize:"xs",color:"gray.500",children:[w+1," / ",y.length]}),e.jsx(yt,{icon:e.jsx(Nx,{}),size:"sm",variant:"ghost",onClick:()=>C(le=>(le+1)%y.length),"aria-label":"Actu suivante",isDisabled:y.length<=1})]})]})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"start",spacing:3,children:[e.jsx(Pe,{size:"sm",color:"blue.600",children:y[w]?.title||"Sans titre"}),y[w]?.date&&e.jsxs(re,{spacing:2,color:"gray.500",fontSize:"sm",children:[e.jsx(Mn,{as:$s}),e.jsx(P,{children:new Date(y[w].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(P,{fontSize:"sm",color:"gray.700",children:y[w]?.content||""}),y[w]?.imageUrl&&e.jsx(Oi,{src:y[w].imageUrl,alt:y[w]?.title,maxH:"150px",w:"100%",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsxs(Ne,{bg:_,borderColor:R,shadow:"lg",children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",fontWeight:"700",children:"Activit rcente"}),e.jsx(yt,{icon:e.jsx(io,{}),size:"sm",variant:"ghost",onClick:D,title:"Actualiser"})]})}),e.jsx(Ie,{children:e.jsx(ne,{spacing:4,align:"stretch",children:u.length===0?e.jsx(P,{color:"gray.500",textAlign:"center",py:4,children:"Aucune activit rcente"}):u.slice(0,5).map(le=>e.jsxs(re,{spacing:4,p:3,bg:"gray.50",borderRadius:"lg",children:[e.jsx(Mn,{as:le.icon,color:`${le.color}.500`}),e.jsxs(ne,{align:"start",spacing:0,flex:1,children:[e.jsx(P,{fontWeight:"600",fontSize:"sm",children:le.title}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:le.time})]}),e.jsx(et,{colorScheme:le.color,variant:"subtle",children:le.type})]},le.id))})})]})]})}),e.jsx(Fu,{children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{bg:_,borderColor:R,shadow:"lg",children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",fontWeight:"700",children:"Notifications"}),e.jsx(et,{colorScheme:"blue",variant:"subtle",children:n.length})]})}),e.jsx(Ie,{children:e.jsx(ne,{spacing:3,align:"stretch",children:he.length===0?e.jsx(P,{color:"gray.500",fontSize:"sm",textAlign:"center",py:4,children:"Aucune notification"}):he.slice(0,5).map(le=>e.jsx(ue,{p:3,borderRadius:"lg",bg:"gray.50",children:e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",children:le.message}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:le.createdAt?new Date(le.createdAt).toLocaleDateString("fr-FR"):""})]}),e.jsx(et,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:le.category})]})},le.id))})})]}),e.jsxs(Ne,{bg:_,borderColor:R,shadow:"lg",children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",fontWeight:"700",children:"Liens utiles"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsx(J,{as:cr,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(KK,{}),size:"sm",children:"MyRBE"}),e.jsxs(J,{as:cr,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Tc,{}),size:"sm",children:["Vhicules (",i.vehicles.total,")"]}),e.jsxs(J,{as:cr,to:"/dashboard/events-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx($s,{}),size:"sm",children:["vnements (",i.events.total,")"]}),e.jsxs(J,{as:cr,to:"/dashboard/members-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(zi,{}),size:"sm",children:["Membres (",i.members.total,")"]}),e.jsx(J,{as:cr,to:"/admin",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Mc,{}),size:"sm",children:"Finance"}),e.jsx(bn,{my:1}),e.jsx(J,{as:cr,to:"/dashboard/api-diagnostics",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(GK,{}),size:"sm",colorScheme:"orange",children:" Diagnostiques API"})]})})]}),e.jsxs(Wt,{status:"info",borderRadius:"md",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",children:"APIs disponibles"}),e.jsx(P,{fontSize:"xs",children:"Les donnes sont rcupres en temps rel quand les APIs sont disponibles."})]})]})]})})]})]})}const Bd="https://attractive-kindness-rbe-serveurs.up.railway.app";function aj(t){return`retromail:read:${t||"anon"}`}function YT(t){return`retromail:released:${t}`}function ZQ(){const{matricule:t,prenom:n,isAdmin:r}=vs(),i=on(),[l,u]=v.useState(!0),[d,m]=v.useState([]),[p,g]=v.useState([]),[x,y]=v.useState(null),[S,w]=v.useState("");v.useEffect(()=>{let N=!0;return(async()=>{u(!0);try{const M=await fetch(`${Bd.replace(/\/$/,"")}/retromail/list`);if(!N)return;if(!M.ok)throw new Error(`status ${M.status}`);const O=await M.json();m(Array.isArray(O)?O:[])}catch(M){console.warn("retromail list failed",M),m(null)}finally{N&&u(!1)}})(),()=>{N=!1}},[]),v.useEffect(()=>{let N=!0;if(!d||d.length===0){g([]);return}return(async()=>{try{const M=await Promise.all(d.map(async H=>{try{const U=await fetch(`${Bd.replace(/\/$/,"")}/retromail/${encodeURIComponent(H)}`);if(!U.ok)return null;const ae=await U.json();return{filename:H,json:ae}}catch{return null}}));if(!N)return;const O=M.filter(Boolean).sort((H,U)=>{const ae=new Date(H.json.createdAt||0).getTime();return new Date(U.json.createdAt||0).getTime()-ae});g(O),!x&&O.length>0&&y(O[0].filename)}catch(M){console.error(M)}})(),()=>{N=!1}},[d]);const C=N=>{const M=aj(t);try{const O=localStorage.getItem(M),H=O?JSON.parse(O):{};H[N]=Date.now(),localStorage.setItem(M,JSON.stringify(H))}catch{}},_=N=>{try{const M=localStorage.getItem(aj(t));if(!M)return!1;const O=JSON.parse(M);return!!(O&&O[N])}catch{return!1}},T=N=>{try{localStorage.setItem(YT(N),"1"),i({status:"success",title:"Vido libre",description:"Le tlchargement est maintenant autoris localement."}),g(M=>[...M])}catch(M){i({status:"error",title:"Impossible",description:String(M.message)})}},R=N=>localStorage.getItem(YT(N))==="1",D=v.useMemo(()=>{if(!p)return[];const N=(S||"").trim().toLowerCase();return N?p.filter(M=>{const O=M.json||{};return String(O.parc||"").toLowerCase().includes(N)||String(O.id||"").toLowerCase().includes(N)||String(O.description||"").toLowerCase().includes(N)}):p},[p,S]),k=p.find(N=>N.filename===x);return v.useEffect(()=>{x&&(C(x),g(N=>[...N]))},[x]),e.jsxs(ue,{p:6,children:[e.jsx(Pe,{size:"lg",mb:4,children:"RtroMail"}),e.jsxs(nr,{gap:6,align:"stretch",children:[e.jsxs(ue,{w:{base:"100%",md:"360px"},borderWidth:"1px",borderRadius:"md",p:3,bg:"white",children:[e.jsxs(re,{mb:3,children:[e.jsx(ge,{placeholder:"Rechercher par parc / id / texte",value:S,onChange:N=>w(N.target.value)}),e.jsx(J,{size:"sm",onClick:()=>{w("")},children:"Effacer"})]}),l&&e.jsx(vn,{p:6,children:e.jsx(mn,{})}),!l&&d===null&&e.jsxs(ue,{p:4,bg:"orange.50",borderRadius:"md",children:[e.jsx(P,{color:"orange.800",fontWeight:"600",children:"API Retromail non disponible"}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Aucune liste trouve. Vrifie que le serveur expose ",e.jsx("code",{children:"/retromail/list"}),"."]})]}),!l&&D&&D.length===0&&e.jsx(P,{color:"gray.600",mt:3,children:"Aucun message."}),e.jsx(ne,{align:"stretch",spacing:2,mt:3,children:D.map(N=>{const M=N.json||{},O=M.parc?`Parc ${M.parc}`:`Fiche ${M.id||N.filename}`,H=(M.description||"").slice(0,120),U=!_(N.filename);return e.jsx(Ne,{size:"sm",onClick:()=>y(N.filename),cursor:"pointer",bg:x===N.filename?"gray.50":"white",children:e.jsx(St,{children:e.jsxs(nr,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsxs(P,{fontWeight:"600",children:[O," ",M.id?e.jsx(et,{ml:2,children:`#${M.id}`}):null]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:H||e.jsx("i",{children:"(Pas de description)"})})]}),e.jsxs(ue,{textAlign:"right",children:[U?e.jsx(et,{colorScheme:"red",children:"Nouveau"}):e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Lu"}),e.jsx(P,{fontSize:"xs",color:"gray.400",children:M.createdAt?new Date(M.createdAt).toLocaleString():""})]})]})})},N.filename)})})]}),e.jsx(ue,{flex:"1",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",children:k?e.jsxs(e.Fragment,{children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:3,children:[e.jsxs(ue,{children:[e.jsxs(Pe,{size:"md",children:["Fiche pointage  ",k.json.parc?`Parc ${k.json.parc}`:k.json.id]}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["ID: ",k.json.id||k.filename,"  ",k.json.createdAt?new Date(k.json.createdAt).toLocaleString():""]})]}),e.jsx(ue,{children:e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",as:"a",href:`${Bd.replace(/\/$/,"")}/retromail/${encodeURIComponent(k.filename.replace(/\.json$/,"")+".pdf")}`,target:"_blank",rel:"noreferrer",children:"Tlcharger PDF"}),e.jsx(J,{size:"sm",variant:"outline",onClick:()=>{const N=aj(t),M=localStorage.getItem(N),O=M?JSON.parse(M):{};O[k.filename]?delete O[k.filename]:O[k.filename]=Date.now(),localStorage.setItem(N,JSON.stringify(O)),g(H=>[...H])},children:_(k.filename)?"Marquer non lu":"Marquer lu"})]})})]}),e.jsx(bn,{mb:3}),e.jsxs(ue,{mb:4,children:[e.jsx(P,{fontWeight:"600",children:"Initiateur :"}),e.jsx(P,{mb:2,children:k.json.conducteur||""}),e.jsx(P,{fontWeight:"600",children:"Participants :"}),e.jsx(P,{mb:2,children:(k.json.participants||[]).join(", ")||""}),e.jsx(P,{fontWeight:"600",children:"Description :"}),e.jsx(P,{mb:3,whiteSpace:"pre-wrap",children:k.json.description||""}),e.jsx(P,{fontWeight:"600",mb:2,children:"Images :"}),(k.json.files||[]).filter(N=>(N.mime||"").startsWith("image/")).length===0?e.jsx(P,{color:"gray.600",mb:2,children:"Aucune image."}):e.jsx(ft,{columns:{base:1,md:3},gap:3,mb:3,children:(k.json.files||[]).filter(N=>(N.mime||"").startsWith("image/")).map((N,M)=>e.jsxs(ue,{borderWidth:"1px",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Oi,{src:`${Bd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(N.filename)}`,alt:N.originalname||N.filename,objectFit:"cover",maxH:"160px",w:"100%"}),e.jsxs(re,{mt:2,justify:"space-between",children:[e.jsx(P,{fontSize:"sm",noOfLines:1,children:N.originalname||N.filename}),e.jsx(J,{size:"sm",as:"a",href:`${Bd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(N.filename)}`,target:"_blank",rel:"noreferrer",children:"Ouvrir"})]})]},M))}),e.jsx(P,{fontWeight:"600",mb:2,children:"Vidos (spares)"}),(k.json.files||[]).filter(N=>(N.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(N.originalname||N.filename)).length===0?e.jsx(P,{color:"gray.600",children:"Aucune vido."}):e.jsx(ne,{align:"stretch",spacing:2,mb:3,children:(k.json.files||[]).filter(N=>(N.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(N.originalname||N.filename)).map((N,M)=>{const O=R(N.filename);return e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",children:e.jsxs(nr,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"600",noOfLines:1,children:N.originalname||N.filename}),e.jsxs(P,{fontSize:"sm",color:"gray.500",children:[N.size/1024|0," KB"]}),!O&&e.jsx(P,{fontSize:"xs",color:"orange.600",children:"Tlchargement restreint ( analyser)"})]}),e.jsxs(re,{children:[r&&!O&&e.jsx(J,{size:"sm",colorScheme:"green",onClick:()=>T(N.filename),children:"Librer le tlchargement"}),e.jsx(J,{size:"sm",as:"a",href:O?`${Bd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(N.filename)}`:"#",target:"_blank",rel:"noreferrer",isDisabled:!O,children:O?"Tlcharger":"Demand"})]})]})},M)})})]})]}):e.jsx(vn,{p:6,children:e.jsx(P,{color:"gray.600",children:"Slectionne un message  lire."})})})]})]})}function XQ({template:t,data:n}){if(!t)return e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),e.jsx(P,{children:"Aucun template slectionn"})]});if(!t.htmlContent)return e.jsxs(Wt,{status:"error",children:[e.jsx(qt,{}),e.jsx(P,{children:"Contenu HTML du template vide"})]});if(!n||typeof n!="object")return console.warn(" QuoteTemplatePreview: data is invalid or missing",n),e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),e.jsx(P,{children:"Donnes de template manquantes"})]});let r=t.htmlContent;try{Object.entries(n).forEach(([i,l])=>{if(i==="DEVIS_LINES_TR")return;const u=`{{${i}}}`,d=new RegExp(u,"g"),m=String(l||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");r=r.replace(d,m)}),n.DEVIS_LINES_TR&&(r=r.replace(/{{DEVIS_LINES_TR}}/g,n.DEVIS_LINES_TR))}catch(i){return console.error(" Erreur remplacement placeholders:",i),e.jsxs(Wt,{status:"error",children:[e.jsx(qt,{}),e.jsxs(P,{children:["Erreur lors du rendu du template: ",i.message]})]})}try{t.logoBig&&(r=r.replace(/{{LOGO_BIG}}/g,`data:image/png;base64,${t.logoBig}`)),t.logoSmall&&(r=r.replace(/{{LOGO_SMALL}}/g,`data:image/png;base64,${t.logoSmall}`))}catch(i){console.warn(" Erreur remplacement logos:",i)}return e.jsx(ue,{maxH:"600px",overflowY:"auto",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",className:"template-preview",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r},style:{fontSize:"14px",lineHeight:"1.6",color:"#333"}})})}function KQ({devisId:t,onTotalChange:n}){const[r,i]=v.useState([]),[l,u]=v.useState(!1),[d,m]=v.useState(null),[p,g]=v.useState({}),x=on(),{isOpen:y,onOpen:S,onClose:w}=Rt(),[C,_]=v.useState({quantity:1,description:"",unitPrice:0});v.useEffect(()=>{t&&T()},[t]),v.useEffect(()=>{const H=r.reduce((U,ae)=>U+(ae.totalPrice||0),0);n&&n(H)},[r,n]);const T=async()=>{if(t)try{u(!0);const H=await Da(`/api/devis-lines/${t}`);i(Array.isArray(H)?H:[])}catch(H){console.error(" Erreur chargement lignes:",H),x({title:"Erreur",description:"Impossible de charger les lignes",status:"error",duration:3e3})}finally{u(!1)}},R=async()=>{if(!C.description||C.unitPrice<=0){x({title:"Validation",description:"Description et prix unitaire requis",status:"warning",duration:3e3});return}try{const H={devisId:t,quantity:parseFloat(C.quantity)||1,description:C.description,unitPrice:parseFloat(C.unitPrice)||0,order:r.length},U=await Da("/api/devis-lines",{method:"POST",body:JSON.stringify(H)});i([...r,U]),_({quantity:1,description:"",unitPrice:0}),w(),x({title:"Succs",description:"Ligne ajoute",status:"success",duration:2e3})}catch(H){console.error(" Erreur ajout ligne:",H),x({title:"Erreur",description:H.message,status:"error",duration:3e3})}},D=async H=>{if(!p[H]?.description||p[H]?.unitPrice<=0){x({title:"Validation",description:"Description et prix unitaire requis",status:"warning",duration:3e3});return}try{const U=await Da(`/api/devis-lines/${H}`,{method:"PUT",body:JSON.stringify({quantity:parseFloat(p[H].quantity)||1,description:p[H].description,unitPrice:parseFloat(p[H].unitPrice)||0})});i(r.map(ae=>ae.id===H?U:ae)),m(null),x({title:"Succs",description:"Ligne mise  jour",status:"success",duration:2e3})}catch(U){console.error(" Erreur mise  jour:",U),x({title:"Erreur",description:U.message,status:"error",duration:3e3})}},k=async H=>{try{await Da(`/api/devis-lines/${H}`,{method:"DELETE"}),i(r.filter(U=>U.id!==H)),x({title:"Succs",description:"Ligne supprime",status:"success",duration:2e3})}catch(U){console.error(" Erreur suppression:",U),x({title:"Erreur",description:U.message,status:"error",duration:3e3})}},N=H=>{m(H.id),g(U=>({...U,[H.id]:{quantity:H.quantity,description:H.description,unitPrice:H.unitPrice}}))},M=(H,U,ae)=>{g(he=>({...he,[H]:{...he[H],[U]:ae}}))},O=r.reduce((H,U)=>H+(U.totalPrice||0),0);return e.jsxs(ne,{spacing:4,width:"100%",align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Lignes du Devis"}),e.jsxs(re,{children:[e.jsxs(et,{children:[r.length," ligne(s)"]}),e.jsx(J,{size:"sm",colorScheme:"green",leftIcon:e.jsx(_n,{}),onClick:S,isDisabled:!t,children:"Ajouter une ligne"})]})]}),r.length===0?e.jsx(P,{color:"gray.500",textAlign:"center",py:6,children:"Aucune ligne pour le moment. Ajoutez-en une!"}):e.jsx(ue,{overflowX:"auto",width:"100%",children:e.jsxs(Un,{size:"sm",variant:"striped",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Description"}),e.jsx(ke,{isNumeric:!0,children:"Quantit"}),e.jsx(ke,{isNumeric:!0,children:"P.U. "}),e.jsx(ke,{isNumeric:!0,children:"Total "}),e.jsx(ke,{textAlign:"center",children:"Actions"})]})}),e.jsx(Gn,{children:r.map(H=>e.jsxs(jt,{children:[e.jsx(Ae,{children:d===H.id?e.jsx(ge,{size:"sm",value:p[H.id]?.description||"",onChange:U=>M(H.id,"description",U.target.value)}):H.description}),e.jsx(Ae,{isNumeric:!0,children:d===H.id?e.jsx(On,{size:"sm",min:.01,value:p[H.id]?.quantity||1,onChange:U=>M(H.id,"quantity",parseFloat(U)),children:e.jsx(Bn,{})}):H.quantity}),e.jsx(Ae,{isNumeric:!0,children:d===H.id?e.jsx(On,{size:"sm",min:0,value:p[H.id]?.unitPrice||0,onChange:U=>M(H.id,"unitPrice",parseFloat(U)),children:e.jsx(Bn,{})}):H.unitPrice.toFixed(2)}),e.jsx(Ae,{isNumeric:!0,fontWeight:"bold",children:(H.totalPrice||0).toFixed(2)}),e.jsx(Ae,{textAlign:"center",children:e.jsxs(re,{justify:"center",spacing:1,children:[d===H.id?e.jsx(yt,{size:"sm",icon:e.jsx(Pl,{}),colorScheme:"green",onClick:()=>D(H.id),"aria-label":"Enregistrer"}):e.jsx(yt,{size:"sm",icon:e.jsx(Jd,{}),colorScheme:"blue",variant:"ghost",onClick:()=>N(H),"aria-label":"diter"}),e.jsx(yt,{size:"sm",icon:e.jsx(Zn,{}),colorScheme:"red",variant:"ghost",onClick:()=>k(H.id),"aria-label":"Supprimer"})]})})]},H.id))})]})}),e.jsx(bn,{}),e.jsxs(re,{width:"100%",justify:"flex-end",fontWeight:"bold",fontSize:"lg",children:[e.jsx(P,{children:"Total:"}),e.jsxs(P,{color:"green.600",children:[O.toFixed(2)," "]})]}),e.jsxs(wt,{isOpen:y,onClose:w,size:"md",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Ajouter une ligne"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{placeholder:"Description de la prestation",value:C.description,onChange:H=>_({...C,description:H.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Quantit"}),e.jsx(On,{min:.01,value:C.quantity,onChange:H=>_({...C,quantity:parseFloat(H)||1}),children:e.jsx(Bn,{})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prix unitaire ()"}),e.jsx(On,{min:0,step:.01,value:C.unitPrice,onChange:H=>_({...C,unitPrice:parseFloat(H)||0}),children:e.jsx(Bn,{})})]}),C.quantity>0&&C.unitPrice>0&&e.jsx(ue,{p:3,bg:"green.50",borderRadius:"md",width:"100%",textAlign:"center",children:e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Total: ",(C.quantity*C.unitPrice).toFixed(2)," "]})})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:w,children:"Annuler"}),e.jsx(J,{colorScheme:"green",onClick:R,isLoading:l,children:"Ajouter"})]})]})]})]})}const QQ={},JQ=()=>{const[t,n]=v.useState(!1),[r,i]=v.useState(0),[l,u]=v.useState(0),[d,m]=v.useState(null),[p,g]=v.useState(!0),[x,y]=v.useState({totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),[S,w]=v.useState([]),[C,_]=v.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[T,R]=v.useState([]),[D,k]=v.useState({categoryId:"",allocatedAmount:"",notes:""}),[N,M]=v.useState([]),[O,H]=v.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[U,ae]=v.useState(null),[he,le]=v.useState(()=>{const I=new Date;return`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`}),[de,Re]=v.useState(""),[fe,se]=v.useState(null),[Y,q]=v.useState([]),[W,Ee]=v.useState(!1),[B,ie]=v.useState(""),[xe,$]=v.useState(""),[F,G]=v.useState(""),[X,ye]=v.useState([]),[ve,be]=v.useState({scenarios:[],activeScenario:null,projectionMonths:12}),[He,ct]=v.useState(null),[Xe,dt]=v.useState(null),[Ue,Ht]=v.useState(null),[we,Ke]=v.useState({name:"",description:"",projectionMonths:12}),[Bt,ce]=v.useState({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),[je,it]=v.useState({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),[It,zn]=v.useState([]),[dr,We]=v.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),at=new Date().getFullYear(),[Lt,Qe]=v.useState(at),[bt,In]=v.useState(null),[Ye,Mt]=v.useState([]),[ln,gn]=v.useState([]),[Kt,Ln]=v.useState(null),[ot,An]=v.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",destinataireSociete:"",destinataireContacts:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),[Sr,Kr]=v.useState([]),[Wn,Bi]=v.useState({quantity:1,description:"",unitPrice:0}),[ji,Xo]=v.useState("manual"),[Qr,$i]=v.useState(null),[Fi,fo]=v.useState([]),[Vs,Vi]=v.useState(null),[Er,Jr]=v.useState(null),{isOpen:ga,onOpen:ys,onClose:Tt}=Rt(),{isOpen:Ol,onOpen:Ko,onClose:bi}=Rt(),[kr,cs]=v.useState(null),{isOpen:js,onOpen:Us,onClose:ei}=Rt(),[xr,Qo]=v.useState(null),[po,ti]=v.useState(""),{isOpen:ni,onOpen:Jo,onClose:Ds}=Rt(),lt=on(),{isOpen:Fc,onOpen:Ui,onClose:Hi}=Rt(),{isOpen:ri,onOpen:$a,onClose:Si}=Rt(),{isOpen:wi,onOpen:Fa,onClose:si}=Rt(),{isOpen:Sn,onOpen:sr,onClose:Dr}=Rt(),{isOpen:Wi,onOpen:Ci,onClose:qi}=Rt(),{isOpen:nn,onOpen:ir,onClose:Gi}=Rt(),{isOpen:Pr,onOpen:es,onClose:mo}=Rt(),{isOpen:Yi,onOpen:bs,onClose:hr}=Rt(),Ps=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173")?QQ?.VITE_API_BASE_URL||"https://attractive-kindness-rbe-serveurs.up.railway.app":"",Va=String(Ps||"").replace(/\/$/,""),yn=I=>`${Va}${I}`,Lr=I=>{const te=String(I||"");return te.startsWith("/api/")?[te,te.replace(/^\/api/,"")]:[te,`/api${te}`]},Ss=async(I,te={})=>{const nt=Array.isArray(I)?I:[I];let At=null;for(const xn of nt)try{const Zt=await fetch(yn(xn),te);if(!Zt.ok)throw new Error(`${Zt.status} ${Zt.statusText}`);return(Zt.headers.get("content-type")||"").includes("application/json")?await Zt.json():{}}catch(Zt){At=Zt}if(At)throw At;return{}},go=async(I,te={})=>{const nt=Array.isArray(I)?I:[I];let At=null;for(const xn of nt)try{const Zt=await fetch(yn(xn),{method:"DELETE",headers:te});if(!Zt.ok)throw new Error(`${Zt.status} ${Zt.statusText}`);return!0}catch(Zt){At=Zt}if(At)throw At;return!1},xo=async(I,te={},nt={})=>{const At=Array.isArray(I)?I:[I];let xn=null;for(const Zt of At)try{const qn=await fetch(yn(Zt),{method:"PATCH",headers:{"Content-Type":"application/json",...nt},body:JSON.stringify(te)});if(!qn.ok)throw new Error(`${qn.status} ${qn.statusText}`);return(qn.headers.get("content-type")||"").includes("application/json")?await qn.json():te}catch(qn){xn=qn}if(xn)throw xn;return te},Xi=()=>{try{const I=localStorage.getItem("rbe:finance:documents");return I?JSON.parse(I):[]}catch{return[]}},Hs=I=>{try{localStorage.setItem("rbe:finance:documents",JSON.stringify(I||[]))}catch{}},ii=async()=>{try{n(!0),await Promise.all([Ki(),Ut(),Or(),_r(),qs(),Gs(),ws(),Cs(Lt),Qi()])}catch(I){console.error(" Erreur chargement donnes financires:",I),lt({status:"error",title:"Erreur de chargement",description:"Impossible de charger les donnes financires",duration:4e3,isClosable:!0})}finally{n(!1)}},ws=async()=>{try{const I=Lr("/api/finance/documents"),te=await Ss(I,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),nt=Array.isArray(te?.documents)?te.documents:Array.isArray(te?.items)?te.items:Array.isArray(te)?te:[];if(nt.length===0){const At=Xi();gn(At)}else gn(nt),Hs(nt)}catch{const te=Xi();gn(te)}},Ws=async()=>{try{const I=Lr("/api/quote-templates"),te=await fetch(I[0]||"/api/quote-templates",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(te.ok){const nt=await te.json(),At=Array.isArray(nt)?nt:nt?.templates||[];fo(At)}}catch(I){console.warn(" Impossible de charger les templates:",I),fo([])}},Ki=async()=>{try{const I=await fetch(yn("/api/finance/balance"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();u(te.balance||0),m(te.lastUpdate),g(te.isLocked!==!1)}else console.warn(" Solde non disponible, utilisation de 0"),u(0)}catch(I){console.error(" Erreur chargement solde:",I),u(0)}},Ut=async()=>{try{const I=await fetch(yn("/api/finance/transactions"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();w(te.transactions||[])}else console.warn(" Transactions non disponibles"),w([])}catch(I){console.error(" Erreur chargement transactions:",I),w([])}},Or=async()=>{try{const I=await fetch(yn("/api/finance/scheduled-operations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();M(te.operations||[])}else console.warn(" Oprations programmes non disponibles"),M([])}catch(I){console.error(" Erreur chargement oprations programmes:",I),M([])}},Rn=async I=>{try{const te=await fetch(yn(`/api/finance/scheduled-operations/${I}/payments`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const nt=await te.json();q(nt.payments||[])}else q([])}catch(te){console.error(" Erreur chargement paiements chance:",te),q([])}},_r=async()=>{try{const I=await fetch(yn("/api/finance/simulations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();be(nt=>({...nt,scenarios:te.scenarios||[]}))}else console.warn(" Simulations non disponibles"),be(te=>({...te,scenarios:[]}))}catch(I){console.error(" Erreur chargement simulations:",I),be(te=>({...te,scenarios:[]}))}},qs=async()=>{try{const I=await fetch(yn("/api/finance/balance/history"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();ye(te.history||[])}else console.warn(" Historique non disponible"),ye([])}catch(I){console.error(" Erreur chargement historique:",I),ye([])}},Gs=async()=>{try{const I=await fetch(yn("/api/finance/expense-reports"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();zn(te.reports||[])}else zn([])}catch(I){console.error(" Erreur chargement notes de frais:",I),zn([])}},Cs=async I=>{try{const te=await fetch(yn(`/api/finance/reports?year=${encodeURIComponent(I)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const nt=await te.json();In(nt)}else In(null)}catch(te){console.error(" Erreur chargement rapports:",te),In(null)}},ai=async()=>{try{const I=await fetch(yn(`/api/finance/reports/pdf?year=${encodeURIComponent(Lt)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!I.ok){lt({status:"error",title:"Export PDF chou"});return}const te=await I.blob(),nt=URL.createObjectURL(te),At=document.createElement("a");At.href=nt,At.download=`rapport-financier-${Lt}.pdf`,document.body.appendChild(At),At.click(),At.remove(),URL.revokeObjectURL(nt)}catch(I){console.error(" Export PDF:",I),lt({status:"error",title:"Export PDF chou"})}},Qi=async()=>{try{const I=await fetch(yn("/api/finance/categories"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const te=await I.json();Mt(Array.isArray(te)?te:[])}}catch(I){console.error(" Erreur chargement catgories:",I)}},[Ua,vr]=v.useState(!1),[us,el]=v.useState(null),oe=(us?.roles||[]).some(I=>String(I).toUpperCase()==="TRESORIER"),Ce=async()=>{try{const I=await fetch(yn("/api/me"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const te=await I.json();el(te),vr(!0),console.log(" Utilisateur connect:",te.matricule,"- Modification du solde contrle par code")}}catch(I){console.error(" Erreur chargement utilisateur:",I)}},Be=()=>{const I=S.filter(Nn=>Nn.type==="CREDIT").reduce((Nn,$r)=>Nn+($r.amount||0),0),te=S.filter(Nn=>Nn.type==="DEBIT").reduce((Nn,$r)=>Nn+($r.amount||0),0),nt=new Date,At=new Date(nt.getFullYear(),nt.getMonth(),1),xn=new Date(nt.getFullYear(),nt.getMonth()+1,0),Zt=S.filter(Nn=>{const $r=new Date(Nn.date||Nn.createdAt);return $r>=At&&$r<=xn}),qn=Zt.filter(Nn=>Nn.type==="CREDIT").reduce((Nn,$r)=>Nn+($r.amount||0),0),Ei=Zt.filter(Nn=>Nn.type==="DEBIT").reduce((Nn,$r)=>Nn+($r.amount||0),0),Es=qn-Ei,Br=N.filter(Nn=>Nn.isActive).reduce((Nn,$r)=>{const ds=fn($r.frequency),va=$r.type==="SCHEDULED_CREDIT"?$r.amount||0:-($r.amount||0);return Nn+va*ds},0);y({totalCredits:I,totalDebits:te,monthlyBalance:Es,scheduledMonthlyImpact:Br,scheduledCount:N.filter(Nn=>Nn.isActive).length})},pt=({percent:I,color:te="gray"})=>{const nt=typeof I=="number"?Math.max(0,Math.min(1,I)):null,At=50,xn=60,Zt=60,qn=Math.PI,Ei=Math.PI*(1-(nt??0)),Es=xn+At*Math.cos(qn),Br=Zt-At*Math.sin(qn),Nn=xn+At*Math.cos(Ei),$r=Zt-At*Math.sin(Ei),ds=0,va=0,yo=`M ${Es} ${Br} A ${At} ${At} 0 ${ds} ${va} ${Nn} ${$r}`;return e.jsxs("svg",{viewBox:"0 0 120 70",width:"100%",height:"70",role:"img","aria-label":nt!=null?`${Math.round(nt*100)}%`:"N/A",children:[e.jsx("path",{d:`M ${Es} ${Br} A ${At} ${At} 0 0 ${va} ${xn+At} ${Zt}`,stroke:"#E2E8F0",strokeWidth:"10",fill:"none"}),nt!=null&&nt>0&&e.jsx("path",{d:yo,stroke:te,strokeWidth:"10",fill:"none",strokeLinecap:"round"}),e.jsx("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"10",fill:"#4A5568",children:nt!=null?`${Math.round(nt*100)}%`:"N/A"})]})},rt=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(I||0),an=I=>I?new Date(I).toLocaleDateString("fr-FR"):"N/A",Dt=I=>({ADHESION:"Adhsion",MAINTENANCE:"Maintenance",CARBURANT:"Carburant",ASSURANCE:"Assurance",AUTRE:"Autre"})[I]||I,fn=I=>{switch(I){case"SEMI_ANNUAL":return .5;case"ONE_SHOT":return 0;case"WEEKLY":return 4.33;case"QUARTERLY":return 1/3;case"YEARLY":return 1/12;case"MONTHLY":default:return 1}},cn=I=>{switch(I){case"ONE_SHOT":return"Ponctuel";case"SEMI_ANNUAL":return"Semestriel (6 mois)";case"WEEKLY":return"Hebdomadaire";case"QUARTERLY":return"Trimestriel";case"YEARLY":return"Annuel";case"MONTHLY":default:return"Mensuel"}},Mr=async()=>{if(!B||B.length!==4){lt({status:"warning",title:"Code requis",description:"Veuillez saisir le code  4 chiffres (0920)",duration:3e3,isClosable:!0});return}if(B!=="0920"){lt({status:"error",title:"Code incorrect",description:"Le code de scurit n'est pas valide",duration:4e3,isClosable:!0});return}if(!xe||isNaN(parseFloat(xe))){lt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide",duration:3e3,isClosable:!0});return}try{n(!0);const I=await fetch(yn("/api/finance/balance/configure"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({code:B,newBalance:parseFloat(xe),reason:F?.trim()||`Mise  jour manuelle du solde par ${us?.matricule||us?.username||"inconnu"} - ${new Date().toLocaleDateString("fr-FR")}`})});if(I.ok){const te=await I.json();u(te.newBalance),ie(""),$(""),G(""),Ee(!1),Hi(),lt({status:"success",title:"Solde mis  jour",description:`Nouveau solde: ${rt(te.newBalance)} (diffrence: ${te.difference>=0?"+":""}${rt(te.difference)})`,duration:5e3,isClosable:!0}),await qs(),await Ki()}else{const te=await I.text().catch(()=>"");let nt={};try{nt=te?JSON.parse(te):{}}catch{nt={message:te?.slice(0,200)||"Erreur inconnue"}}I.status===403?lt({status:"error",title:"Accs refus",description:"Vous n'avez pas l'autorisation de modifier le solde",duration:5e3,isClosable:!0}):I.status===401?lt({status:"error",title:"Code incorrect",description:"Le code de scurit 0920 est incorrect",duration:4e3,isClosable:!0}):lt({status:"error",title:"Erreur de configuration",description:nt.message||"Erreur serveur",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur configuration solde:",I),lt({status:"error",title:"Erreur",description:"Impossible de configurer le solde. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},ts=async()=>{if(!dr.description||!dr.amount){lt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires"});return}try{n(!0);const I=await fetch(yn("/api/finance/expense-reports"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:dr.description,amount:parseFloat(dr.amount),date:dr.date})});if(I.ok)lt({status:"success",title:"Note de frais ajoute"}),We({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),await Gs();else{const te=await I.json().catch(()=>({}));lt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la note de frais"})}}catch(I){console.error(" Erreur cration note de frais:",I),lt({status:"error",title:"Erreur",description:"Impossible d'ajouter la note de frais"})}finally{n(!1)}},Ji=async(I,te)=>{try{(await fetch(yn(`/api/finance/expense-reports/${I}`),{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:te})})).ok?await Gs():lt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}catch(nt){console.error(" Erreur MAJ statut note de frais:",nt),lt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}},Ha=async I=>{try{(await fetch(yn(`/api/finance/expense-reports/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(lt({status:"success",title:"Note de frais supprime"}),await Gs()):lt({status:"error",title:"Erreur",description:"Suppression impossible"})}catch(te){console.error(" Erreur suppression note de frais:",te),lt({status:"error",title:"Erreur",description:"Suppression impossible"})}},Wa=async()=>{if(!C.type||!C.amount||!C.description){lt({status:"warning",title:"Champs requis",description:"Type, montant et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const I=Lr("/api/finance/transactions"),te=await Ss(I,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...C,amount:parseFloat(C.amount)})});if(te){if(T.length>0){const nt=Lr(`/api/finance/transactions/${te.id}/categories`),At=T.map(xn=>({categoryId:xn.categoryId,allocatedAmount:parseFloat(xn.allocatedAmount),notes:xn.notes||null}));await Ss(nt,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({allocations:At})})}lt({status:"success",title:"Transaction ajoute",description:T.length>0?`Transaction ajoute avec ${T.length} allocation(s)`:"La transaction a t enregistre avec succs",duration:3e3,isClosable:!0}),_({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),R([]),k({categoryId:"",allocatedAmount:"",notes:""}),Si(),await Ut(),await Ki()}}catch(I){console.error(" Erreur ajout transaction:",I),lt({status:"error",title:"Erreur",description:"Impossible d'ajouter la transaction. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},tl=I=>{cs({...I}),Ko()},Ih=async()=>{if(!(!kr||!kr.id))try{n(!0);const I=Lr(`/api/finance/transactions/${encodeURIComponent(kr.id)}`);await Ss(I,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:kr.description,category:kr.category,type:kr.type,amount:parseFloat(kr.amount),date:kr.date})}),lt({status:"success",title:"Transaction mise  jour"}),bi(),await Ut(),await Ki()}catch(I){console.error(" Erreur modification transaction:",I),lt({status:"error",title:"Erreur",description:"Impossible de modifier la transaction"})}finally{n(!1)}},Nh=async I=>{try{if(!confirm("Supprimer cette transaction ?"))return;const te=Lr(`/api/finance/transactions/${encodeURIComponent(I)}`);await go(te,{Authorization:`Bearer ${localStorage.getItem("token")}`}),lt({status:"success",title:"Transaction supprime"}),await Ut(),await Ki()}catch(te){console.error(" Erreur suppression transaction:",te),lt({status:"error",title:"Erreur",description:"Suppression impossible"})}},Vc=I=>{Qo(I),ti(I?.documentId||""),Us()},Lh=async()=>{try{if(!xr)return;const I=Lr(`/api/finance/transactions/${encodeURIComponent(xr.id)}`);await Ss(I,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({documentId:po||null})}),w(te=>te.map(nt=>nt.id===xr.id?{...nt,documentId:po||null}:nt)),ei(),Qo(null),ti(""),lt({status:"success",title:"Transaction lie au document"})}catch(I){console.error(" Erreur liaison transaction/document:",I),lt({status:"error",title:"Erreur",description:"Impossible de lier la transaction"})}},oi=async()=>{if(!Qr){lt({status:"warning",title:"Erreur",description:"Slectionnez un template"});return}try{if(!ot.number){lt({status:"warning",title:"Champ requis",description:"Le numro du document est obligatoire"});return}if(!ot.title){lt({status:"warning",title:"Champ requis",description:"Le titre du document est obligatoire"});return}if(!ot.amount){lt({status:"warning",title:"Champ requis",description:"Le montant est obligatoire"});return}let I="";try{const nt=Kt?.id||"temp-"+Date.now(),At=await fetchJson(`/api/devis-lines/${nt}`),xn=Array.isArray(At)?At:[];xn.length>0&&(I=xn.map(Zt=>`
            <tr>
              <td class="num">${Zt.quantity}</td>
              <td class="desc">${Zt.description}</td>
              <td class="num">${Zt.unitPrice.toFixed(2)} </td>
              <td class="num">${Zt.totalPrice.toFixed(2)} </td>
            </tr>
          `).join(""))}catch(nt){console.warn(" Impossible de charger les lignes:",nt.message)}const te={NUM_DEVIS:ot.number,TITRE:ot.title,OBJET:ot.title,DESCRIPTION:ot.description||"",MONTANT:parseFloat(ot.amount||0).toFixed(2),PRIX_NET:parseFloat(ot.amount||0).toFixed(2),DATE:new Date(ot.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:ot.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:ot.destinataireAdresse||"",DESTINATAIRE_SOCIETE:ot.destinataireSociete||"",DESTINATAIRE_CONTACTS:ot.destinataireContacts||"",NOTES:ot.notes||"",LOGO_BIG:Qr.logoBig||"",LOGO_SMALL:Qr.logoSmall||"",DEVIS_LINES_TR:I};Jr({templateId:Qr.id,data:te,templateName:Qr.name}),ys(),lt({status:"success",title:"Aperu gnr",description:"Vrifiez l'aperu avant d'imprimer"})}catch(I){console.error(" Erreur gnration aperu:",I),lt({status:"error",title:"Erreur",description:"Impossible de gnrer l'aperu"})}},Oh=()=>{Ln(null),An({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),$i(null),Jo()},Qu=I=>{Ln(I),An({type:I.type||"QUOTE",number:I.number||"",title:I.title||"",description:I.description||"",date:(I.date||new Date().toISOString()).slice(0,10),dueDate:I.dueDate?I.dueDate.slice(0,10):"",amountExcludingTax:String(I.amountExcludingTax??""),taxRate:I.taxRate||20,taxAmount:I.taxAmount||0,amount:String(I.amount??""),status:I.quoteStatus||I.invoiceStatus||I.status||"DRAFT",eventId:I.eventId||"",memberId:I.memberId||"",destinataireName:I.destinataireName||"",destinataireAdresse:I.destinataireAdresse||"",notes:I.notes||"",paymentMethod:I.paymentMethod||"",paymentDate:I.paymentDate?I.paymentDate.slice(0,10):"",amountPaid:String(I.amountPaid??"")}),$i(null),Jo()},xa=async()=>{try{if(!ot.number||!ot.title){lt({status:"warning",title:"Erreur",description:"Numro et titre obligatoires"});return}const I=!!Kt?.id,te=Lr(I?`/api/finance/documents/${encodeURIComponent(Kt.id)}`:"/api/finance/documents"),nt=parseFloat(ot.amount)||0,At={type:ot.type,number:ot.number,title:ot.title,description:ot.description||null,date:ot.date,dueDate:ot.dueDate||null,amountExcludingTax:nt,taxRate:0,taxAmount:0,amount:nt,quoteStatus:ot.type==="QUOTE"?ot.status:null,invoiceStatus:ot.type==="INVOICE"?ot.status:null,eventId:ot.eventId||null,memberId:ot.memberId||null,destinataireName:ot.destinataireName||null,destinataireAdresse:ot.destinataireAdresse||null,notes:ot.notes||null,paymentMethod:ot.paymentMethod||null,paymentDate:ot.paymentDate||null,amountPaid:parseFloat(ot.amountPaid||0)},xn=await Ss(te,{method:I?"PUT":"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(At)});await ws(),Ds(),lt({status:"success",title:I?"Document modifi":"Document cr"})}catch{const te=Kt?.id||`local-${Date.now()}`,nt=parseFloat(ot.amount)||0,At={...ot,id:te,amountExcludingTax:nt,taxRate:0,taxAmount:0,amount:nt,quoteStatus:ot.type==="QUOTE"?ot.status:null,invoiceStatus:ot.type==="INVOICE"?ot.status:null},xn=Kt?ln.map(Zt=>Zt.id===Kt.id?At:Zt):[At,...ln];Hs(xn),gn(xn),Ds(),lt({status:"info",title:"Document enregistr en local"})}},Ju=async I=>{try{const te=Lr(`/api/finance/documents/${encodeURIComponent(I)}`);await go(te,{Authorization:`Bearer ${localStorage.getItem("token")}`}),await ws(),lt({status:"success",title:"Document supprim"})}catch{const nt=ln.filter(At=>At.id!==I);Hs(nt),gn(nt),lt({status:"info",title:"Document supprim (local)"})}},Ms=async(I,te)=>{try{const nt=Lr(`/api/finance/documents/${encodeURIComponent(I)}/status`),At=await xo(nt,{status:te},{Authorization:`Bearer ${localStorage.getItem("token")}`});gn(Zt=>Zt.map(qn=>qn.id===I?At:qn));const xn=I.type==="QUOTE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[te]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente",PAID:"Pay",DEPOSIT_PAID:"Accompte"}[te];lt({status:"success",title:"Statut mis  jour",description:` ${xn}`}),await ws()}catch(nt){console.error("Erreur changement statut:",nt),lt({status:"error",title:"Erreur",description:"Impossible de mettre  jour le statut"})}},Uc=I=>{Ln(I),An({type:"QUOTE",number:`${I.number}-REV`,title:`${I.title} (Rvision)`,date:new Date().toISOString().split("T")[0],amount:I.amount,status:"DRAFT",eventId:I.eventId||""}),Jo()},Bh=async()=>{const I=r===2;if(!O.amount||!O.description||!O.nextDate||!I&&!O.type||!I&&!O.frequency){lt({status:"warning",title:"Champs requis",description:"Tous les champs sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const te=await fetch(yn("/api/finance/scheduled-operations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...O,type:I?"SCHEDULED_PAYMENT":O.type,frequency:I?"MONTHLY":O.frequency,amount:parseFloat(O.amount),totalAmount:O.totalAmount!==""&&O.totalAmount!==null?parseFloat(O.totalAmount):void 0})});if(te.ok)lt({status:"success",title:I?"chancier cr":"Opration programme",description:I?"L'chancier a t cr avec succs":"L'opration a t programme avec succs",duration:3e3,isClosable:!0}),H({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),si(),await Or();else{const nt=await te.json();lt({status:"error",title:"Erreur",description:nt.message||"Impossible de programmer l'opration",duration:4e3,isClosable:!0})}}catch(te){console.error(" Erreur programmation opration:",te),lt({status:"error",title:"Erreur",description:"Impossible de programmer l'opration. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Hc=async I=>{try{if(!confirm("Supprimer cette opration programme et tous ses paiements ?"))return;const te=await fetch(yn(`/api/finance/scheduled-operations/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok)lt({status:"success",title:"Opration supprime"}),await Or();else{const nt=await te.json().catch(()=>({}));lt({status:"error",title:"Erreur",description:nt.message||"Suppression impossible"})}}catch(te){console.error(" Erreur suppression opration programme:",te),lt({status:"error",title:"Erreur",description:"Suppression impossible"})}},Bl=I=>{ae(I),Re(I.amount||"");const te=I.nextDate?new Date(I.nextDate):new Date,nt=`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}`;le(nt),se(null),es()},$h=async()=>{if(U){if(!he||!/^\d{4}-\d{2}$/.test(he)){lt({status:"warning",title:"Priode invalide",description:"Format attendu: YYYY-MM"});return}if(!de||isNaN(parseFloat(de))){lt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide"});return}try{n(!0);const I=new FormData;I.append("period",he),I.append("amount",String(parseFloat(de))),fe&&I.append("attachment",fe);const te=await fetch(yn(`/api/finance/scheduled-operations/${U.id}/payments`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:I});if(te.ok)lt({status:"success",title:"Mensualit dclare paye"}),mo(),await Promise.all([Or(),Ut(),Ki()]);else{const nt=await te.json().catch(()=>({}));lt({status:"error",title:"Erreur",description:nt.message||"Dclaration impossible"})}}catch(I){console.error(" Erreur dclaration paiement:",I),lt({status:"error",title:"Erreur",description:"Dclaration impossible"})}finally{n(!1)}}},ed=async I=>{ae(I),await Rn(I.id),bs()};v.useEffect(()=>{(async()=>{await Ce(),await ii(),await Ws()})()},[]),v.useEffect(()=>{S.length>=0&&N.length>=0&&Be()},[S.length,N.length]);const Wc=async()=>{if(!we.name||!we.description){lt({status:"warning",title:"Champs requis",description:"Nom et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const I=await fetch(yn("/api/finance/simulations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(we)});if(I.ok){const te=await I.json();lt({status:"success",title:"Scnario cr",description:"Vous pouvez maintenant ajouter les recettes et dpenses",duration:4e3,isClosable:!0}),Ke({name:"",description:"",projectionMonths:12}),await _r(),Dr(),Ht(te.scenario),Ci()}else{const te=await I.json();lt({status:"error",title:"Erreur",description:te.message||"Impossible de crer le scnario",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur cration scnario:",I),lt({status:"error",title:"Erreur",description:"Impossible de crer le scnario. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},vo=async I=>{try{const te=await fetch(yn(`/api/finance/simulations/${I}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const nt=await te.json();Ht(nt.scenario)}else lt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur chargement dtails scnario:",te),lt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}},td=async()=>{if(!Bt.description||!Bt.amount){lt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const I=await fetch(yn(`/api/finance/simulations/${Ue.id}/income`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Bt,amount:parseFloat(Bt.amount)})});if(I.ok)lt({status:"success",title:"Recette ajoute",duration:2e3,isClosable:!0}),ce({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),await vo(Ue.id);else{const te=await I.json();lt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur ajout recette:",I),lt({status:"error",title:"Erreur",description:"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}},nd=async()=>{if(!je.description||!je.amount){lt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const I=await fetch(yn(`/api/finance/simulations/${Ue.id}/expense`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...je,amount:parseFloat(je.amount)})});if(I.ok)lt({status:"success",title:"Dpense ajoute",duration:2e3,isClosable:!0}),it({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),await vo(Ue.id);else{const te=await I.json();lt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur ajout dpense:",I),lt({status:"error",title:"Erreur",description:"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}},$l=async I=>{try{(await fetch(yn(`/api/finance/simulations/income/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(lt({status:"success",title:"Recette supprime",duration:2e3,isClosable:!0}),await vo(Ue.id)):lt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression recette:",te),lt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}},qa=async I=>{try{(await fetch(yn(`/api/finance/simulations/expense/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(lt({status:"success",title:"Dpense supprime",duration:2e3,isClosable:!0}),await vo(Ue.id)):lt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression dpense:",te),lt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}},qc=async I=>{try{n(!0);const te=await fetch(yn(`/api/finance/simulations/${I}/run`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const nt=await te.json();dt(nt.simulation),ir()}else{const nt=await te.json();lt({status:"error",title:"Erreur",description:nt.message||"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}}catch(te){console.error(" Erreur excution simulation:",te),lt({status:"error",title:"Erreur",description:"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}finally{n(!1)}},Ga=async I=>{try{(await fetch(yn(`/api/finance/simulations/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(lt({status:"success",title:"Scnario supprim",duration:2e3,isClosable:!0}),await _r()):lt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression scnario:",te),lt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}},ns=async(I,te="simulation")=>{try{const nt=await fetch(yn(`/api/finance/simulations/${I}/report.pdf`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!nt.ok){lt({status:"error",title:"Export PDF",description:"chec de la gnration du PDF"});return}const At=await nt.blob(),xn=URL.createObjectURL(At),Zt=document.createElement("a");Zt.href=xn;const qn=(te||"simulation").replace(/[^a-z0-9-_]+/gi,"_");Zt.download=`simulation-${qn}.pdf`,document.body.appendChild(Zt),Zt.click(),document.body.removeChild(Zt),URL.revokeObjectURL(xn),lt({status:"success",title:"Export PDF",description:"Tlchargement dmarr"})}catch(nt){console.error(" Erreur export PDF:",nt),lt({status:"error",title:"Export PDF",description:"Erreur lors du tlchargement"})}};return e.jsx(ue,{p:6,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Pe,{size:"lg",color:"blue.600",children:" Gestion Financire"}),e.jsxs(re,{children:[e.jsx(yt,{icon:e.jsx(io,{}),onClick:ii,isLoading:t,variant:"outline",size:"sm"}),e.jsx(yt,{icon:e.jsx(Dh,{}),onClick:Ui,variant:"outline",size:"sm",colorScheme:"purple"}),e.jsxs(et,{colorScheme:l>=0?"green":"red",fontSize:"lg",p:2,borderRadius:"md",cursor:"pointer",onClick:()=>Ee(!W),children:[p?e.jsx(Go,{style:{marginRight:"0.5rem",display:"inline-block"}}):e.jsx(Cb,{style:{marginRight:"0.5rem",display:"inline-block"}}),"Solde: ",rt(l)]})]})]}),W&&e.jsxs(Wt,{status:"warning",borderRadius:"md",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"stretch",spacing:3,flex:1,children:[e.jsx(P,{fontWeight:"bold",children:"Configuration du solde (Code requis)"}),e.jsxs(re,{children:[e.jsxs(re,{children:[e.jsx(P,{fontSize:"sm",children:"Code:"}),e.jsx(re,{children:e.jsxs(yb,{value:B,onChange:ie,type:"number",children:[e.jsx(vl,{}),e.jsx(vl,{}),e.jsx(vl,{}),e.jsx(vl,{})]})})]}),e.jsxs(On,{value:xe,onChange:$,precision:2,step:.01,width:"150px",children:[e.jsx(Bn,{placeholder:"Nouveau solde"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsx(ge,{value:F,onChange:I=>G(I.target.value),placeholder:"Motif de rgularisation",width:"280px",size:"sm"}),e.jsx(J,{size:"sm",colorScheme:"orange",onClick:Mr,isLoading:t,leftIcon:e.jsx(Hp,{}),children:"Appliquer"}),e.jsx(J,{size:"sm",variant:"ghost",onClick:()=>Ee(!1),leftIcon:e.jsx(qu,{}),children:"Annuler"})]})]})]}),e.jsxs(ft,{columns:{base:2,md:6},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde Actuel"}),e.jsx(vt,{color:l>=0?"green.600":"red.600",children:rt(l)}),d&&e.jsxs(Pi,{fontSize:"xs",children:["MAJ: ",an(d)]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Recettes Total"}),e.jsx(vt,{color:"green.600",children:rt(x.totalCredits)}),e.jsxs(Pi,{children:[e.jsx(Qd,{type:"increase"}),"Entres"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Dpenses Total"}),e.jsx(vt,{color:"red.600",children:rt(x.totalDebits)}),e.jsxs(Pi,{children:[e.jsx(Qd,{type:"decrease"}),"Sorties"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Ce Mois"}),e.jsx(vt,{color:x.monthlyBalance>=0?"green.600":"red.600",children:rt(x.monthlyBalance)}),e.jsxs(Pi,{children:[e.jsx(Qd,{type:x.monthlyBalance>=0?"increase":"decrease"}),"Rsultat mensuel"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Programm/Mois"}),e.jsx(vt,{color:x.scheduledMonthlyImpact>=0?"green.600":"red.600",children:rt(x.scheduledMonthlyImpact)}),e.jsxs(Pi,{children:[x.scheduledCount," oprations"]})]})})})]}),e.jsxs(ho,{index:r,onChange:i,children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:" Transactions"}),e.jsx(dn,{children:" Devis & Factures"}),e.jsx(dn,{children:" chanciers"}),e.jsx(dn,{children:" Paiements programms"}),e.jsx(dn,{children:" Notes de frais"}),e.jsx(dn,{children:" Simulations"}),e.jsx(dn,{children:" Rapports"}),e.jsx(dn,{children:" Configuration"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Transactions"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:$a,size:"sm",children:"Nouvelle transaction"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{mt:2,children:"Chargement..."})]}):S.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucune transaction enregistre"]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{children:"Document"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:S.map((I,te)=>e.jsxs(jt,{children:[e.jsx(Ae,{children:an(I.date||I.createdAt)}),e.jsx(Ae,{children:I.description}),e.jsx(Ae,{children:e.jsx(et,{size:"sm",variant:"outline",children:Dt(I.category)})}),e.jsx(Ae,{children:(()=>{const nt=ln.find(At=>At.id===I.documentId);return nt?e.jsxs(re,{spacing:2,children:[e.jsx(et,{colorScheme:nt.type==="INVOICE"?"purple":"gray",children:nt.type==="INVOICE"?"Facture":"Devis"}),e.jsx(P,{fontSize:"sm",children:nt.number||nt.title||nt.id})]}):e.jsx(P,{fontSize:"sm",color:"gray.500",children:""})})()}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:I.type==="CREDIT"?"green":"red",size:"sm",children:I.type==="CREDIT"?"Recette":"Dpense"})}),e.jsx(Ae,{isNumeric:!0,children:e.jsxs(P,{color:I.type==="CREDIT"?"green.600":"red.600",fontWeight:"bold",children:[I.type==="CREDIT"?"+":"-",rt(Math.abs(I.amount))]})}),e.jsx(Ae,{children:e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Jd,{}),onClick:()=>tl(I),children:"Modifier"}),e.jsx(En,{onClick:()=>Vc(I),children:"Lier  devis/facture"}),e.jsx(En,{icon:e.jsx(Zn,{}),color:"red.500",onClick:()=>Nh(I.id),children:"Supprimer"})]})]})})]},I.id||te))})]})})})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Devis & Factures"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"purple",size:"sm",onClick:Oh,children:"Nouveau document"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{mt:2,children:"Chargement"})]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Numro"}),e.jsx(ke,{children:"Titre"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"vnement"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:ln.map(I=>e.jsxs(jt,{children:[e.jsx(Ae,{children:e.jsx(et,{colorScheme:I.type==="INVOICE"?"purple":"gray",children:I.type==="INVOICE"?"Facture":"Devis"})}),e.jsx(Ae,{children:I.number||""}),e.jsx(Ae,{children:I.title||""}),e.jsx(Ae,{children:an(I.date)}),e.jsx(Ae,{isNumeric:!0,children:rt(Number(I.amount||0))}),e.jsx(Ae,{children:I.eventId?e.jsx(et,{children:I.eventId}):e.jsx(P,{fontSize:"sm",color:"gray.500",children:""})}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:I.type==="INVOICE"?{DRAFT:"gray",SENT:"blue",ACCEPTED:"cyan",PENDING_PAYMENT:"orange",PAID:"green",DEPOSIT_PAID:"yellow"}[I.invoiceStatus||"gray"]:{DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REFUSED:"red",REEDITED:"orange"}[I.quoteStatus||"gray"],variant:"subtle",children:I.type==="INVOICE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente de paiement",PAID:"Pay",DEPOSIT_PAID:"Accompte pay"}[I.invoiceStatus||"DRAFT"]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[I.quoteStatus||"DRAFT"]})}),e.jsx(Ae,{children:e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Jd,{}),onClick:()=>Qu(I),children:"Modifier"}),e.jsx(Px,{}),e.jsx(gP,{title:"Changer le statut",children:I.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx(ca,{onClick:()=>Ms(I.id,"DRAFT"),children:"Brouillon"}),e.jsx(ca,{onClick:()=>Ms(I.id,"SENT"),children:"Envoy"}),e.jsx(ca,{onClick:()=>Ms(I.id,"ACCEPTED"),children:"Accept"}),e.jsx(ca,{onClick:()=>Ms(I.id,"REFUSED"),children:"Refus"}),e.jsx(ca,{onClick:()=>Uc(I),children:"Rdit vers un nouveau"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ca,{onClick:()=>Ms(I.id,"DRAFT"),children:"Brouillon"}),e.jsx(ca,{onClick:()=>Ms(I.id,"SENT"),children:"Envoy"}),e.jsx(ca,{onClick:()=>Ms(I.id,"ACCEPTED"),children:"Accept"}),e.jsx(ca,{onClick:()=>Ms(I.id,"PENDING_PAYMENT"),children:"En attente de paiement"}),e.jsx(ca,{onClick:()=>Ms(I.id,"PAID"),children:"Pay"}),e.jsx(ca,{onClick:()=>Ms(I.id,"DEPOSIT_PAID"),children:"Accompte pay"})]})}),e.jsx(Px,{}),e.jsx(En,{icon:e.jsx(Zn,{}),color:"red.500",onClick:()=>Ju(I.id),children:"Supprimer"})]})]})})]},I.id))})]})})})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"chanciers"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"purple",onClick:Fa,size:"sm",children:"Nouvel chancier"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{mt:2,children:"Chargement..."})]}):(()=>{const I=N.filter(te=>te.type==="SCHEDULED_PAYMENT"&&String(te.frequency||"").toUpperCase()==="MONTHLY");return I.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:4,children:I.map((te,nt)=>{const At=Number.isFinite(te.totalAmount)&&te.totalAmount>0,xn=At?Math.max(te.totalAmount-(te.remainingTotalAmount||0),0):null,Zt=Number.isFinite(te.plannedCountYear)&&te.plannedCountYear>0,qn=Zt?Math.max((te.plannedCountYear||0)-(te.remainingCountYear||0),0):null,Ei=Zt?Math.max(0,Math.min(1,qn/te.plannedCountYear)):null,Es=At?Math.max(0,Math.min(1,xn/te.totalAmount)):Ei,Br=Es==null?"gray.400":Es>=.75?"red":Es>=.4?"orange":"red";return e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"sm",noOfLines:2,children:te.description}),e.jsxs(re,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ie,{children:e.jsxs(re,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(pt,{percent:Es,color:Br})}),e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(P,{fontWeight:"medium",children:te.nextDate?an(te.nextDate):""}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(P,{fontWeight:"bold",color:"red.600",children:["- ",rt(Math.abs(te.amount))]}),e.jsxs(re,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",te.paymentsCount??0]}),At&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",rt(te.remainingTotalAmount||0)]}),!At&&Zt&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",qn]})]}),te.monthsRemainingTotal&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Mensualits restantes: ",te.monthsRemainingTotal]}),te.estimatedEndDate&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",an(te.estimatedEndDate)]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(re,{children:[e.jsx(J,{size:"sm",onClick:()=>Bl(te),children:"Dclarer pay"}),e.jsx(J,{size:"sm",variant:"outline",onClick:()=>ed(te),children:"Voir paiements"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Hc(te.id)})]})})]},te.id||nt)})})})()]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Paiements programms (mensuels)"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"purple",onClick:Fa,size:"sm",children:"Ajouter un prlvement"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{mt:2,children:"Chargement..."})]}):(()=>{const I=N.filter(te=>te.type==="SCHEDULED_PAYMENT"&&String(te.frequency||"").toUpperCase()==="MONTHLY");return I.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun paiement mensuel programm"]}):e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:4,children:I.map((te,nt)=>{const At=Number.isFinite(te.totalAmount)&&te.totalAmount>0,xn=At?Math.max(te.totalAmount-(te.remainingTotalAmount||0),0):null,Zt=Number.isFinite(te.plannedCountYear)&&te.plannedCountYear>0,qn=Zt?Math.max((te.plannedCountYear||0)-(te.remainingCountYear||0),0):null,Ei=Zt?Math.max(0,Math.min(1,qn/te.plannedCountYear)):null,Es=At?Math.max(0,Math.min(1,xn/te.totalAmount)):Ei,Br=Es==null?"gray.400":Es>=.75?"red":Es>=.4?"orange":"red";return e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"sm",noOfLines:2,children:te.description}),e.jsxs(re,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ie,{children:e.jsxs(re,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(pt,{percent:Es,color:Br})}),e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(P,{fontWeight:"medium",children:te.nextDate?an(te.nextDate):""}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(P,{fontWeight:"bold",color:"red.600",children:["- ",rt(Math.abs(te.amount))]}),e.jsxs(re,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",te.paymentsCount??0]}),At&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",rt(te.remainingTotalAmount||0)]}),!At&&Zt&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",qn]})]}),te.estimatedEndDate&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",an(te.estimatedEndDate)]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(re,{children:[e.jsx(J,{size:"sm",onClick:()=>Bl(te),children:"Dclarer pay"}),e.jsx(J,{size:"sm",variant:"outline",onClick:()=>ed(te),children:"Voir paiements"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Hc(te.id)})]})})]},te.id||nt)})})})()]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsx(re,{justify:"space-between",children:e.jsx(Pe,{size:"md",children:"Notes de frais"})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(re,{spacing:3,align:"end",children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:dr.description,onChange:I=>We(te=>({...te,description:I.target.value})),placeholder:"Ex: Achat fournitures"})]}),e.jsxs(Q,{isRequired:!0,width:"220px",children:[e.jsx(K,{children:"Montant ()"}),e.jsxs(On,{value:dr.amount,onChange:I=>We(te=>({...te,amount:I})),precision:2,step:.01,children:[e.jsx(Bn,{placeholder:"0.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{width:"220px",children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:dr.date,onChange:I=>We(te=>({...te,date:I.target.value}))})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:ts,children:"Ajouter"})]})})}),It.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucune note de frais pour le moment"]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Statut"}),oe&&e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:It.map(I=>e.jsxs(jt,{children:[e.jsx(Ae,{children:an(I.date||I.createdAt)}),e.jsx(Ae,{children:I.description}),e.jsx(Ae,{isNumeric:!0,children:rt(I.amount)}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:I.status==="PAID"?"green":I.status==="APPROVED"?"blue":I.status==="REJECTED"?"red":"orange",children:I.status})}),oe&&e.jsx(Ae,{children:e.jsxs(re,{children:[e.jsx(J,{size:"xs",onClick:()=>Ji(I.id,"APPROVED"),leftIcon:e.jsx(Hp,{}),colorScheme:"blue",variant:"outline",children:"Approuver"}),e.jsx(J,{size:"xs",onClick:()=>Ji(I.id,"PAID"),leftIcon:e.jsx(Mc,{}),colorScheme:"green",variant:"outline",children:"Pay"}),e.jsx(J,{size:"xs",onClick:()=>Ji(I.id,"REJECTED"),leftIcon:e.jsx(qu,{}),colorScheme:"red",variant:"outline",children:"Rejeter"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>Ha(I.id)})]})})]},I.id))})]})})})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Simulations Financires"}),e.jsx(J,{leftIcon:e.jsx(Lo,{}),colorScheme:"teal",onClick:sr,size:"sm",children:"Nouveau scnario"})]}),ve.scenarios.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(P,{fontWeight:"bold",children:"Aucun scnario de simulation"}),e.jsx(P,{fontSize:"sm",children:"Crez des scnarios pour simuler l'volution de votre trsorerie. tape 1: Crer le contexte, tape 2: Ajouter recettes/dpenses."})]})]}):e.jsx(ft,{columns:{base:1,md:2},spacing:4,children:ve.scenarios.map(I=>{const te=I.itemsCount>0,nt=I.totalMonthlyIncome-I.totalMonthlyExpenses;return e.jsxs(Ne,{borderWidth:2,borderColor:te?"green.200":"orange.200",children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"sm",children:I.name}),e.jsxs(re,{children:[e.jsx(et,{colorScheme:te?"green":"orange",size:"sm",children:te?"Complet":"Brouillon"}),e.jsxs(et,{variant:"outline",size:"sm",children:[I.itemsCount," lment(s)"]})]})]}),e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Jd,{}),onClick:async()=>{await vo(I.id),Ci()},children:"diter"}),e.jsx(En,{icon:e.jsx(Lo,{}),onClick:()=>qc(I.id),isDisabled:!te,children:"Excuter"}),e.jsx(En,{icon:e.jsx(Mi,{}),onClick:()=>ns(I.id,I.name),isDisabled:!te,children:"Exporter PDF"}),e.jsx(bn,{}),e.jsx(En,{icon:e.jsx(Zn,{}),color:"red.500",onClick:()=>{confirm("Supprimer ce scnario ?")&&Ga(I.id)},children:"Supprimer"})]})]})]})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsx(P,{fontSize:"sm",color:"gray.600",noOfLines:2,children:I.description}),te?e.jsxs(ft,{columns:3,spacing:2,children:[e.jsxs(gt,{size:"sm",children:[e.jsx(xt,{fontSize:"xs",children:"Revenus"}),e.jsx(vt,{fontSize:"sm",color:"green.600",children:rt(I.totalMonthlyIncome)})]}),e.jsxs(gt,{size:"sm",children:[e.jsx(xt,{fontSize:"xs",children:"Dpenses"}),e.jsx(vt,{fontSize:"sm",color:"red.600",children:rt(I.totalMonthlyExpenses)})]}),e.jsxs(gt,{size:"sm",children:[e.jsx(xt,{fontSize:"xs",children:"Rsultat"}),e.jsx(vt,{fontSize:"sm",color:nt>=0?"green.600":"red.600",children:rt(nt)})]})]}):e.jsxs(Wt,{status:"warning",size:"sm",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"xs",children:"Ajoutez des recettes et dpenses pour complter le scnario"})]}),e.jsxs(re,{children:[e.jsx(J,{size:"xs",variant:"outline",leftIcon:e.jsx(Jd,{}),onClick:async()=>{await vo(I.id),Ci()},children:"diter"}),e.jsx(J,{size:"xs",colorScheme:"teal",leftIcon:e.jsx(Lo,{}),onClick:()=>qc(I.id),isDisabled:!te,isLoading:t,children:"Simuler"})]})]})})]},I.id)})})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Rapports Financiers"}),e.jsxs(re,{children:[e.jsxs(Q,{width:"150px",children:[e.jsx(K,{children:"Anne"}),e.jsx(st,{value:Lt,onChange:I=>Qe(parseInt(I.target.value,10)),children:[0,1,2,3,4].map(I=>{const te=new Date().getFullYear()-I;return e.jsx("option",{value:te,children:te},te)})})]}),e.jsx(J,{leftIcon:e.jsx(io,{}),onClick:()=>Cs(Lt),isLoading:t,children:"Actualiser"}),e.jsx(J,{leftIcon:e.jsx(Mi,{}),colorScheme:"purple",onClick:ai,children:"Export PDF"})]})]}),bt?e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(ft,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total recettes (priode)"}),e.jsx(vt,{color:"green.600",children:rt(bt?.totals?.credits||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total dpenses (priode)"}),e.jsx(vt,{color:"red.600",children:rt(bt?.totals?.debits||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Net (priode)"}),e.jsx(vt,{color:(bt?.totals?.net||0)>=0?"green.600":"red.600",children:rt(bt?.totals?.net||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde actuel"}),e.jsx(vt,{children:rt(l)})]})})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Soldes de priode"})}),e.jsx(Ie,{children:e.jsxs(ft,{columns:{base:1,md:3},spacing:4,children:[e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde d'ouverture"}),e.jsx(vt,{children:rt(bt?.balances?.opening||0)})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde de clture (calcul)"}),e.jsx(vt,{children:rt(bt?.balances?.closing||0)})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Ouverture + Net"}),e.jsx(vt,{children:rt(bt?.balances?.closingFromOpeningPlusNet||0)})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(Pe,{size:"sm",children:["Par mois (",Lt,")"]})}),e.jsx(Ie,{p:0,children:e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Mois"}),e.jsx(ke,{isNumeric:!0,children:"Recettes"}),e.jsx(ke,{isNumeric:!0,children:"Dpenses"}),e.jsx(ke,{isNumeric:!0,children:"Net"})]})}),e.jsx(Gn,{children:(bt?.monthly||[]).map(I=>e.jsxs(jt,{children:[e.jsx(Ae,{children:String(I.month).padStart(2,"0")}),e.jsx(Ae,{isNumeric:!0,children:rt(I.credits)}),e.jsx(Ae,{isNumeric:!0,children:rt(I.debits)}),e.jsx(Ae,{isNumeric:!0,children:e.jsx(P,{color:(I.net||0)>=0?"green.600":"red.600",children:rt(I.net)})})]},I.month))})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Par catgorie"})}),e.jsx(Ie,{p:0,children:e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{isNumeric:!0,children:"Recettes"}),e.jsx(ke,{isNumeric:!0,children:"Dpenses"}),e.jsx(ke,{isNumeric:!0,children:"Net"})]})}),e.jsx(Gn,{children:Object.entries(bt?.byCategory||{}).map(([I,te])=>e.jsxs(jt,{children:[e.jsx(Ae,{children:I}),e.jsx(Ae,{isNumeric:!0,children:rt(te.credits)}),e.jsx(Ae,{isNumeric:!0,children:rt(te.debits)}),e.jsx(Ae,{isNumeric:!0,children:e.jsx(P,{color:(te.net||0)>=0?"green.600":"red.600",children:rt(te.net)})})]},I))})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Transactions rcentes (extrait)"})}),e.jsx(Ie,{p:0,children:e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{isNumeric:!0,children:"Montant"})]})}),e.jsx(Gn,{children:(bt?.sample||[]).map(I=>e.jsxs(jt,{children:[e.jsx(Ae,{children:an(I.date)}),e.jsx(Ae,{children:I.description}),e.jsx(Ae,{children:(I.category||"AUTRE").toUpperCase()}),e.jsx(Ae,{isNumeric:!0,children:e.jsx(P,{color:String(I.type).toUpperCase()==="CREDIT"?"green.600":"red.600",children:rt(I.amount)})})]},`${I.id}-${I.date}`))})]})})]})]}):e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(P,{children:["Aucun rapport disponible pour ",Lt,". Essayez d'actualiser."]})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsx(Pe,{size:"md",children:"Configuration Avance"}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Historique des Modifications de Solde"})}),e.jsx(Ie,{children:X.length===0?e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Aucune modification enregistre"}):e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Ancien solde"}),e.jsx(ke,{children:"Nouveau solde"}),e.jsx(ke,{children:"Diffrence"}),e.jsx(ke,{children:"Raison"})]})}),e.jsx(Gn,{children:X.slice(0,10).map((I,te)=>e.jsxs(jt,{children:[e.jsx(Ae,{children:an(I.date)}),e.jsx(Ae,{children:rt(I.oldBalance)}),e.jsx(Ae,{children:rt(I.newBalance)}),e.jsx(Ae,{children:e.jsxs(P,{color:I.newBalance-I.oldBalance>=0?"green.600":"red.600",children:[I.newBalance-I.oldBalance>=0?"+":"",rt(I.newBalance-I.oldBalance)]})}),e.jsx(Ae,{fontSize:"sm",children:I.reason})]},te))})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Paramtres de Simulation"})}),e.jsx(Ie,{children:e.jsxs(Q,{children:[e.jsx(K,{children:"Nombre de mois  projeter"}),e.jsxs(On,{value:ve.projectionMonths,onChange:I=>be(te=>({...te,projectionMonths:parseInt(I)||12})),min:1,max:60,children:[e.jsx(Bn,{}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsxs(P,{fontSize:"xs",color:"gray.500",mt:1,children:["Entre 1 et 60 mois (actuellement: ",ve.projectionMonths," mois)"]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Scurit"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(re,{children:[e.jsx(Mn,{as:p?Go:Cb,color:p?"red.500":"green.500"}),e.jsxs(P,{fontSize:"sm",children:["Solde ",p?"verrouill":"dverrouill"," -",p?" Code requis pour modification":" Modification libre"]})]}),e.jsxs(Wt,{status:"warning",size:"sm",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"xs",children:"Le code de scurit  4 chiffres est requis pour toute modification directe du solde. Contactez l'administrateur systme si vous avez oubli le code."})]})]})})]})]})})]})]}),e.jsxs(wt,{isOpen:Ol,onClose:bi,isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Modifier la transaction"}),e.jsx($t,{}),e.jsx(Ct,{children:kr&&e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:kr.description||"",onChange:I=>cs(te=>({...te,description:I.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsxs(st,{value:kr.category||"ADHESION",onChange:I=>cs(te=>({...te,category:I.target.value})),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"EVENEMENT",children:"vnement"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"CARBURANT",children:"Carburant"}),e.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:kr.type||"CREDIT",onChange:I=>cs(te=>({...te,type:I.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant"}),e.jsxs(On,{value:kr.amount,onChange:I=>cs(te=>({...te,amount:I})),precision:2,step:.5,children:[e.jsx(Bn,{}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:(kr.date||"").slice(0,10),onChange:I=>cs(te=>({...te,date:I.target.value}))})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:bi,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:Ih,children:"Enregistrer"})]})]})]}),e.jsxs(wt,{isOpen:js,onClose:ei,isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Lier  un devis/une facture"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsx(ne,{spacing:3,align:"stretch",children:e.jsxs(Q,{children:[e.jsx(K,{children:"Document"}),e.jsx(st,{placeholder:"Slectionner un document",value:po,onChange:I=>ti(I.target.value),children:ln.map(I=>e.jsxs("option",{value:I.id,children:[I.type==="INVOICE"?"Facture":"Devis","  ",I.number||I.title||I.id,"  ",rt(Number(I.amount||0))]},I.id))})]})})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",onClick:ei,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:Lh,children:"Lier"})]})]})]}),e.jsxs(wt,{isOpen:ni,onClose:Ds,isCentered:!0,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:Kt?"Modifier le document":"Nouveau document"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Type"}),e.jsxs(st,{value:ot.type,onChange:I=>An(te=>({...te,type:I.target.value})),children:[e.jsx("option",{value:"QUOTE",children:" Devis"}),e.jsx("option",{value:"INVOICE",children:" Facture"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Date"}),e.jsx(ge,{type:"date",value:ot.date,onChange:I=>An(te=>({...te,date:I.target.value}))})]}),ot.type==="INVOICE"&&e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"chance"}),e.jsx(ge,{type:"date",value:ot.dueDate||"",onChange:I=>An(te=>({...te,dueDate:I.target.value}))})]})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Numro"}),e.jsx(ge,{value:ot.number,onChange:I=>An(te=>({...te,number:I.target.value})),placeholder:ot.type==="QUOTE"?"ex: DV-2025-001":"ex: FA-2025-001"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Titre"}),e.jsx(ge,{value:ot.title,onChange:I=>An(te=>({...te,title:I.target.value})),placeholder:"Objet du document"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Description"}),e.jsx(en,{value:ot.description||"",onChange:I=>An(te=>({...te,description:I.target.value})),placeholder:"Dtails du document",rows:2})]}),e.jsx(ue,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"sm",children:" Montant"}),e.jsx(P,{fontSize:"xs",color:"gray.600",children:" Association (exempte TVA)"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Montant total"}),e.jsxs(On,{value:ot.amount||"",onChange:I=>{An(te=>({...te,amount:I,amountExcludingTax:I,taxRate:0,taxAmount:0}))},precision:2,step:10,children:[e.jsx(Bn,{placeholder:"0.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsx(ue,{p:3,bg:"green.100",borderRadius:"md",border:"1px solid",borderColor:"green.400",children:e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontSize:"sm",color:"green.700",fontWeight:"bold",children:"Montant TTC:"}),e.jsxs(P,{fontSize:"lg",color:"green.700",fontWeight:"bold",children:[parseFloat(ot.amount||0).toFixed(2)," "]})]})})]})}),e.jsxs(Q,{children:[e.jsx(K,{fontWeight:"bold",children:"Statut"}),e.jsx(st,{value:ot.status,onChange:I=>An(te=>({...te,status:I.target.value})),children:ot.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"REFUSED",children:" Refus"}),e.jsx("option",{value:"REEDITED",children:" Rdit"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"PENDING_PAYMENT",children:" En attente de paiement"}),e.jsx("option",{value:"PAID",children:" Pay"}),e.jsx("option",{value:"DEPOSIT_PAID",children:" Accompte pay"})]})})]}),ot.type==="INVOICE"&&e.jsx(ue,{bg:"purple.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"purple.500",children:e.jsxs(ne,{spacing:2,align:"stretch",children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Infos de paiement"}),e.jsxs(re,{spacing:2,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Mode"}),e.jsx(ge,{size:"sm",value:ot.paymentMethod||"",onChange:I=>An(te=>({...te,paymentMethod:I.target.value})),placeholder:"ex: Virement, Espces"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Date paiement"}),e.jsx(ge,{size:"sm",type:"date",value:ot.paymentDate||"",onChange:I=>An(te=>({...te,paymentDate:I.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Montant pay"}),e.jsx(On,{value:ot.amountPaid||"",onChange:I=>An(te=>({...te,amountPaid:I})),size:"sm",precision:2,children:e.jsx(Bn,{})})]})]})]})}),e.jsxs(re,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"vnement (optionnel)"}),e.jsx(ge,{size:"sm",value:ot.eventId||"",onChange:I=>An(te=>({...te,eventId:I.target.value})),placeholder:"ID d'vnement"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Membre (optionnel)"}),e.jsx(ge,{size:"sm",value:ot.memberId||"",onChange:I=>An(te=>({...te,memberId:I.target.value})),placeholder:"ID de membre"})]})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Nom"}),e.jsx(ge,{size:"sm",value:ot.destinataireName||"",onChange:I=>An(te=>({...te,destinataireName:I.target.value})),placeholder:"Nom du destinataire (pour le template)"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Adresse"}),e.jsx(ge,{size:"sm",value:ot.destinataireAdresse||"",onChange:I=>An(te=>({...te,destinataireAdresse:I.target.value})),placeholder:"Adresse (pour le template)"})]})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Socit"}),e.jsx(ge,{size:"sm",value:ot.destinataireSociete||"",onChange:I=>An(te=>({...te,destinataireSociete:I.target.value})),placeholder:"Socit (optionnel)"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Contacts"}),e.jsx(ge,{size:"sm",value:ot.destinataireContacts||"",onChange:I=>An(te=>({...te,destinataireContacts:I.target.value})),placeholder:"Tlphone, email, etc."})]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Notes (visibles au client)"}),e.jsx(en,{size:"sm",value:ot.notes||"",onChange:I=>An(te=>({...te,notes:I.target.value})),placeholder:"Remarques publiques",rows:1})]}),e.jsx(bn,{}),e.jsx(KQ,{devisId:Kt?.id||"temp-"+Date.now(),onTotalChange:I=>{An(te=>({...te,amount:I.toFixed(2)}))}}),e.jsx(ue,{bg:"amber.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"amber.500",children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsx(re,{justify:"space-between",children:e.jsx(Pe,{size:"sm",children:" Gnrer le document"})}),e.jsxs(ne,{spacing:2,align:"stretch",children:[Fi.length>0?e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",fontWeight:"bold",children:" Slectionner un template"}),e.jsx(st,{size:"sm",value:Qr?.id||"",onChange:I=>{const te=Fi.find(nt=>nt.id===I.target.value);$i(te)},placeholder:"Choisir un template...",children:Fi.map(I=>e.jsxs("option",{value:I.id,children:[I.name," ",I.isDefault?"":""]},I.id))}),Qr&&e.jsxs(P,{fontSize:"xs",color:"gray.600",mt:1,children:[" ",Qr.name]})]}):e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"xs",children:"Aucun template disponible. Crez-en un d'abord."})]}),Qr&&e.jsx(J,{colorScheme:"orange",size:"sm",onClick:oi,leftIcon:e.jsx(Mi,{}),width:"100%",children:" Gnrer l'aperu & PDF"}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:2,children:" Remplissez tous les champs du formulaire (Numro, Titre, Montant, Destinataire) avant de gnrer"})]})]})})]})}),e.jsx(Ft,{children:e.jsxs(re,{spacing:2,children:[e.jsx(J,{variant:"ghost",onClick:Ds,children:"Annuler"}),e.jsx(J,{colorScheme:"purple",onClick:xa,children:Kt?" Enregistrer les modifications":" Crer le document"})]})})]})]}),e.jsxs(wt,{isOpen:Fc,onClose:Hi,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Configuration Rapide"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"sm",children:"Configuration scurise du solde de base. Un code  4 chiffres est requis."})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Code de scurit (4 chiffres)"}),e.jsx(re,{children:e.jsxs(yb,{value:B,onChange:ie,type:"number",children:[e.jsx(vl,{}),e.jsx(vl,{}),e.jsx(vl,{}),e.jsx(vl,{})]})})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nouveau solde ()"}),e.jsxs(On,{value:xe,onChange:$,precision:2,step:.01,children:[e.jsx(Bn,{placeholder:"Entrez le nouveau solde"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),xe&&!isNaN(parseFloat(xe))&&e.jsxs(Wt,{status:parseFloat(xe)>=l?"success":"warning",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontSize:"sm",fontWeight:"bold",children:"Aperu de la modification"}),e.jsxs(P,{fontSize:"sm",children:["Solde actuel: ",rt(l)]}),e.jsxs(P,{fontSize:"sm",children:["Nouveau solde: ",rt(parseFloat(xe))]}),e.jsxs(P,{fontSize:"sm",color:parseFloat(xe)-l>=0?"green.600":"red.600",children:["Diffrence: ",parseFloat(xe)-l>=0?"+":"",rt(parseFloat(xe)-l)]})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:Hi,children:"Annuler"}),e.jsx(J,{colorScheme:"orange",onClick:Mr,isLoading:t,leftIcon:e.jsx(Pl,{}),children:"Configurer le solde"})]})]})]}),e.jsxs(wt,{isOpen:Pr,onClose:mo,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Dclarer une mensualit paye"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Priode"}),e.jsx(ge,{type:"month",value:he,onChange:I=>le(I.target.value)})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Montant ()"}),e.jsxs(On,{value:de,onChange:I=>Re(I),precision:2,step:.01,children:[e.jsx(Bn,{}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Attestation / Photo"}),e.jsx(ge,{type:"file",accept:"image/*,application/pdf",onChange:I=>se(I.target.files?.[0]||null)}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Pice justificative obligatoire"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:mo,children:"Annuler"}),e.jsx(J,{colorScheme:"green",onClick:$h,isLoading:t,children:"Dclarer"})]})]})]}),e.jsxs(wt,{isOpen:Yi,onClose:hr,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsxs(Et,{children:["Paiements  ",U?.description]}),e.jsx($t,{}),e.jsx(Ct,{children:Y.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun paiement enregistr"]}):e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Priode"}),e.jsx(ke,{children:"Pay le"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Justificatif"})]})}),e.jsx(Gn,{children:Y.map(I=>e.jsxs(jt,{children:[e.jsx(Ae,{children:I.period}),e.jsx(Ae,{children:an(I.paidAt)}),e.jsx(Ae,{isNumeric:!0,children:rt(I.amount)}),e.jsx(Ae,{children:I.attachment?.dataUrl?e.jsx(m1,{href:I.attachment.dataUrl,target:"_blank",color:"blue.600",children:"Ouvrir"}):e.jsx(P,{fontSize:"xs",color:"gray.500",children:"N/A"})})]},I.id))})]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:hr,children:"Fermer"})})]})]}),e.jsxs(wt,{isOpen:ri,onClose:Si,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:"Nouvelle Transaction"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:6,children:[e.jsxs(ne,{spacing:4,width:"full",children:[e.jsx(Pe,{size:"sm",children:"Informations de la transaction"}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:C.type,onChange:I=>_(te=>({...te,type:I.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Montant ()"}),e.jsxs(On,{value:C.amount,onChange:I=>_(te=>({...te,amount:I})),precision:2,step:.01,children:[e.jsx(Bn,{placeholder:"0.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:C.description,onChange:I=>_(te=>({...te,description:I.target.value})),placeholder:"Description de la transaction"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:C.date,onChange:I=>_(te=>({...te,date:I.target.value}))})]})]}),e.jsx(bn,{}),e.jsxs(ne,{spacing:3,width:"full",children:[e.jsx(Pe,{size:"sm",children:"Allouer par catgorie"}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Vous pouvez diviser ce montant entre plusieurs catgories (ex: 100 gasoil + 13 assurance)"}),T.length>0&&e.jsxs(ue,{width:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Allocations actuelles:"}),e.jsx(ne,{spacing:2,align:"stretch",children:T.map((I,te)=>e.jsxs(re,{p:2,borderRadius:"md",bg:Tn("gray.100","gray.600"),justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:0,children:[e.jsxs(re,{children:[e.jsx(ue,{w:3,h:3,borderRadius:"full",bg:I.category?.color}),e.jsx(P,{fontWeight:"bold",children:I.category?.name})]}),I.notes&&e.jsx(P,{fontSize:"xs",color:"gray.500",children:I.notes})]}),e.jsxs(re,{children:[e.jsx(P,{fontWeight:"bold",children:rt(I.allocatedAmount)}),e.jsx(yt,{size:"sm",icon:e.jsx(Zn,{}),colorScheme:"red",variant:"ghost",onClick:()=>{R(T.filter((nt,At)=>At!==te))}})]})]},te))}),e.jsxs(P,{fontSize:"xs",color:"gray.500",mt:2,children:["Total allou: ",rt(T.reduce((I,te)=>I+(parseFloat(te.allocatedAmount)||0),0))," / ",rt(parseFloat(C.amount)||0)]})]}),e.jsx(Ne,{width:"full",children:e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,children:[e.jsx(Pe,{size:"xs",children:"Ajouter une allocation"}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Catgorie"}),e.jsxs(st,{value:D.categoryId,onChange:I=>k({...D,categoryId:I.target.value}),size:"sm",children:[e.jsx("option",{value:"",children:"Slectionner une catgorie"}),Ye.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Montant ()"}),e.jsxs(On,{value:D.allocatedAmount,onChange:I=>k({...D,allocatedAmount:I}),precision:2,step:.01,size:"sm",children:[e.jsx(Bn,{placeholder:"0.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Notes (optionnel)"}),e.jsx(en,{value:D.notes,onChange:I=>k({...D,notes:I.target.value}),placeholder:"ex: gasoil station Shell",rows:2,size:"sm"})]}),e.jsxs(J,{colorScheme:"blue",width:"full",size:"sm",onClick:()=>{if(!D.categoryId||!D.allocatedAmount){lt({status:"error",title:"Remplissez catgorie et montant"});return}const I=Ye.find(te=>te.id===D.categoryId);R([...T,{categoryId:D.categoryId,category:I,allocatedAmount:parseFloat(D.allocatedAmount),notes:D.notes}]),k({categoryId:"",allocatedAmount:"",notes:""})},children:[e.jsx(_n,{})," Ajouter l'allocation"]})]})})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:Si,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:()=>{if(!C.type||!C.amount||!C.description){lt({status:"error",title:"Remplissez les champs obligatoires"});return}Wa()},isLoading:t,children:"Ajouter"})]})]})]}),e.jsxs(wt,{isOpen:wi,onClose:si,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:r===2?"Nouvel chancier":"Nouvelle Opration Programme"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[r!==2&&e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:O.type,onChange:I=>H(te=>({...te,type:I.target.value})),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"SCHEDULED_CREDIT",children:"Crdit programm"})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:r===2?"Mensualit ( / mois)":"Montant ()"}),e.jsxs(On,{value:O.amount,onChange:I=>H(te=>({...te,amount:I})),precision:2,step:.01,children:[e.jsx(Bn,{placeholder:"0.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:O.description,onChange:I=>H(te=>({...te,description:I.target.value})),placeholder:"Description de l'opration"})]}),r!==2&&e.jsxs(Q,{children:[e.jsx(K,{children:"Frquence"}),e.jsxs(st,{value:O.frequency,onChange:I=>H(te=>({...te,frequency:I.target.value})),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prochaine excution"}),e.jsx(ge,{type:"date",value:O.nextDate,onChange:I=>H(te=>({...te,nextDate:I.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:r===2?"Montant total (optionnel)":"Total  amortir (optionnel)"}),e.jsxs(On,{value:O.totalAmount,onChange:I=>H(te=>({...te,totalAmount:I})),precision:2,step:.01,children:[e.jsx(Bn,{placeholder:"Ex: 4000.00"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Permet de calculer le nombre de mensualits restantes et la date de fin estime."})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:si,children:"Annuler"}),e.jsx(J,{colorScheme:"purple",onClick:Bh,isLoading:t,children:r===2?"Crer lchancier":"Programmer"})]})]})]}),e.jsxs(wt,{isOpen:Sn,onClose:Dr,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Nouveau Scnario de Simulation"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontSize:"sm",fontWeight:"bold",children:"tape 1: Contexte du scnario"}),e.jsx(P,{fontSize:"xs",children:"Dfinissez le nom et la description. Vous pourrez ajouter les recettes et dpenses dans l'tape suivante."})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom du scnario"}),e.jsx(ge,{value:we.name,onChange:I=>Ke(te=>({...te,name:I.target.value})),placeholder:"ex: Scnario optimiste 2024"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:we.description,onChange:I=>Ke(te=>({...te,description:I.target.value})),placeholder:"Dcrivez les hypothses et le contexte de ce scnario...",rows:4})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Priode de projection (mois)"}),e.jsxs(On,{value:we.projectionMonths,onChange:I=>Ke(te=>({...te,projectionMonths:parseInt(I)||12})),min:1,max:60,children:[e.jsx(Bn,{}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Entre 1 et 60 mois"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:Dr,children:"Annuler"}),e.jsx(J,{colorScheme:"teal",onClick:Wc,isLoading:t,leftIcon:e.jsx(Lo,{}),children:"Crer le scnario"})]})]})]}),e.jsxs(wt,{isOpen:Wi,onClose:qi,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:e.jsxs(re,{children:[e.jsxs(P,{children:["dition: ",Ue?.name]}),e.jsx(et,{colorScheme:"blue",variant:"outline",children:"tape 2: Recettes & Dpenses"})]})}),e.jsx($t,{}),e.jsxs(Ct,{children:[Ue&&e.jsxs(vi,{templateColumns:"1fr 1fr",gap:6,children:[e.jsx(ne,{align:"stretch",spacing:4,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(Pe,{size:"sm",color:"green.600",children:[" Recettes (",Ue.incomeItems?.length||0,")"]})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,children:[e.jsxs(re,{width:"100%",children:[e.jsx(ge,{placeholder:"Description",size:"sm",value:Bt.description,onChange:I=>ce(te=>({...te,description:I.target.value}))}),e.jsx(On,{size:"sm",width:"120px",value:Bt.amount,onChange:I=>ce(te=>({...te,amount:I})),children:e.jsx(Bn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:Bt.frequency,onChange:I=>ce(te=>({...te,frequency:I.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(yt,{icon:e.jsx(_n,{}),size:"sm",colorScheme:"green",onClick:td})]}),e.jsx(ne,{width:"100%",spacing:2,children:Ue.incomeItems?.map((I,te)=>e.jsxs(re,{width:"100%",justify:"space-between",p:2,bg:"green.50",borderRadius:"md",children:[e.jsxs(ne,{align:"start",spacing:0,flex:1,children:[e.jsx(P,{fontSize:"sm",fontWeight:"bold",children:I.description}),e.jsxs(P,{fontSize:"xs",color:"gray.600",children:[rt(I.amount)," - ",cn(I.frequency)]})]}),e.jsx(yt,{icon:e.jsx(Zn,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>$l(I.id)})]},I.id))}),e.jsx(ue,{width:"100%",p:2,bg:"green.100",borderRadius:"md",children:e.jsxs(P,{fontSize:"sm",fontWeight:"bold",color:"green.700",children:["Total mensuel: ",rt(Ue.totalMonthlyIncome||0)]})})]})})]})}),e.jsx(ne,{align:"stretch",spacing:4,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(Pe,{size:"sm",color:"red.600",children:[" Dpenses (",Ue.expenseItems?.length||0,")"]})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,children:[e.jsxs(re,{width:"100%",children:[e.jsx(ge,{placeholder:"Description",size:"sm",value:je.description,onChange:I=>it(te=>({...te,description:I.target.value}))}),e.jsx(On,{size:"sm",width:"120px",value:je.amount,onChange:I=>it(te=>({...te,amount:I})),children:e.jsx(Bn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:je.frequency,onChange:I=>it(te=>({...te,frequency:I.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(yt,{icon:e.jsx(_n,{}),size:"sm",colorScheme:"red",onClick:nd})]}),e.jsx(ne,{width:"100%",spacing:2,children:Ue.expenseItems?.map((I,te)=>e.jsxs(re,{width:"100%",justify:"space-between",p:2,bg:"red.50",borderRadius:"md",children:[e.jsxs(ne,{align:"start",spacing:0,flex:1,children:[e.jsx(P,{fontSize:"sm",fontWeight:"bold",children:I.description}),e.jsxs(P,{fontSize:"xs",color:"gray.600",children:[rt(I.amount)," - ",cn(I.frequency)]})]}),e.jsx(yt,{icon:e.jsx(Zn,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>qa(I.id)})]},I.id))}),e.jsx(ue,{width:"100%",p:2,bg:"red.100",borderRadius:"md",children:e.jsxs(P,{fontSize:"sm",fontWeight:"bold",color:"red.700",children:["Total mensuel: ",rt(Ue.totalMonthlyExpenses||0)]})})]})})]})})]}),Ue&&e.jsx(Ne,{mt:4,children:e.jsx(Ie,{children:e.jsxs(ft,{columns:4,spacing:4,children:[e.jsxs(gt,{children:[e.jsx(xt,{children:"Recettes/mois"}),e.jsx(vt,{color:"green.600",children:rt(Ue.totalMonthlyIncome||0)})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Dpenses/mois"}),e.jsx(vt,{color:"red.600",children:rt(Ue.totalMonthlyExpenses||0)})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Rsultat/mois"}),e.jsx(vt,{color:Ue.monthlyNet>=0?"green.600":"red.600",children:rt(Ue.monthlyNet||0)})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"lments"}),e.jsx(vt,{children:(Ue.incomeItems?.length||0)+(Ue.expenseItems?.length||0)})]})]})})}),e.jsxs(Q,{children:[e.jsx(K,{children:"Motif de rgularisation"}),e.jsx(ge,{value:F,onChange:I=>G(I.target.value),placeholder:"Ex: Correction comptable, ajustement bancaire, etc."})]})]}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:qi,children:"Fermer"}),e.jsx(J,{colorScheme:"teal",onClick:()=>qc(Ue?.id),isLoading:t,leftIcon:e.jsx(Lo,{}),isDisabled:!Ue||Ue.itemsCount===0,children:"Excuter la simulation"})]})]})]}),e.jsxs(wt,{isOpen:nn,onClose:Gi,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:e.jsxs(re,{children:[e.jsxs(P,{children:["Rsultats: ",Xe?.scenarioName]}),e.jsx(et,{colorScheme:Xe?.summary?.isPositive?"green":"red",children:Xe?.summary?.isPositive?"Positif":"Dficitaire"})]})}),e.jsx($t,{}),e.jsx(Ct,{children:Xe&&e.jsxs(ne,{spacing:6,children:[e.jsxs(ft,{columns:4,spacing:4,width:"100%",children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde initial"}),e.jsx(vt,{children:rt(Xe.startingBalance)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde final"}),e.jsx(vt,{color:Xe.finalBalance>=0?"green.600":"red.600",children:rt(Xe.finalBalance)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"volution totale"}),e.jsxs(vt,{color:Xe.totalChange>=0?"green.600":"red.600",children:[e.jsx(Qd,{type:Xe.totalChange>=0?"increase":"decrease"}),rt(Math.abs(Xe.totalChange))]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Rsultat/mois"}),e.jsx(vt,{color:Xe.monthlyNet>=0?"green.600":"red.600",children:rt(Xe.monthlyNet)})]})})})]}),e.jsxs(Ne,{width:"100%",children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"volution mensuelle"})}),e.jsxs(Ie,{children:[e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Mois"}),e.jsx(ke,{children:"Solde dbut"}),e.jsx(ke,{isNumeric:!0,children:"Recettes"}),e.jsx(ke,{isNumeric:!0,children:"Dpenses"}),e.jsx(ke,{isNumeric:!0,children:"Rsultat"}),e.jsx(ke,{isNumeric:!0,children:"Solde fin"})]})}),e.jsx(Gn,{children:Xe.projection.slice(0,12).map(I=>e.jsxs(jt,{children:[e.jsxs(Ae,{children:["Mois ",I.month]}),e.jsx(Ae,{children:rt(I.startBalance)}),e.jsxs(Ae,{isNumeric:!0,color:"green.600",children:["+",rt(I.income)]}),e.jsxs(Ae,{isNumeric:!0,color:"red.600",children:["-",rt(I.expenses)]}),e.jsxs(Ae,{isNumeric:!0,color:I.net>=0?"green.600":"red.600",children:[I.net>=0?"+":"",rt(I.net)]}),e.jsx(Ae,{isNumeric:!0,fontWeight:"bold",color:I.endBalance>=0?"green.600":"red.600",children:rt(I.endBalance)})]},I.month))})]})}),Xe.projection.length>12&&e.jsxs(P,{fontSize:"sm",color:"gray.500",mt:2,textAlign:"center",children:["... et ",Xe.projection.length-12," mois supplmentaires"]})]})]}),Xe.summary.breakEvenMonth&&e.jsxs(Wt,{status:"warning",width:"100%",children:[e.jsx(qt,{}),e.jsxs(P,{children:["Attention: Le solde devient ngatif au mois ",Xe.summary.breakEvenMonth]})]})]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:Gi,children:"Fermer"})})]})]}),e.jsxs(wt,{isOpen:ga,onClose:Tt,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{children:" Aperu du document"}),e.jsx(P,{fontSize:"sm",color:"gray.600",fontWeight:"normal",children:Er?.templateName})]})}),e.jsx($t,{}),e.jsx(Ct,{children:Er&&Qr&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Wt,{status:"info",borderRadius:"md",children:[e.jsx(qt,{}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",children:"Aperu du rendu final"}),e.jsxs(P,{fontSize:"sm",children:["Les variables ","{{PLACEHOLDERS}}"," ont t remplaces avec vos donnes. Vous pouvez imprimer ou exporter en PDF."]})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"md",bg:"white",boxShadow:"sm",children:e.jsx(XQ,{template:Qr,data:Er.data})})]})}),e.jsx(Ft,{children:e.jsxs(re,{spacing:2,children:[e.jsx(J,{variant:"ghost",onClick:Tt,children:"Fermer"}),e.jsx(J,{colorScheme:"orange",leftIcon:e.jsx(Mi,{}),onClick:()=>{window.print()},children:" Imprimer / Exporter en PDF"})]})})]})]})]})})},eJ=t=>{const n=[];return t.type||n.push("Type de transaction requis (CREDIT ou DEBIT)"),(!t.amount||t.amount<=0)&&n.push("Montant doit tre > 0"),(!t.description||t.description.trim()==="")&&n.push("Description requise"),t.date||n.push("Date requise"),t.type==="CREDIT"&&t.category===void 0&&n.push("Catgorie requise pour credit"),{isValid:n.length===0,errors:n}},tJ=t=>{const n=[];if(t.type||n.push("Type de document requis (QUOTE ou INVOICE)"),(!t.number||t.number.trim()==="")&&n.push("Numro de document requis"),(!t.amount||t.amount<=0)&&n.push("Montant doit tre > 0"),t.date||n.push("Date requise"),t.amountExcludingTax){const r=parseFloat(t.amountExcludingTax),i=parseFloat(t.taxRate||0),l=r*(1+i/100),u=parseFloat(t.amount);Math.abs(l-u)>.01&&n.push("Le montant TTC ne correspond pas  HT + TVA")}return{isValid:n.length===0,errors:n}},nJ={ADHESION:"Adhsion",DONATION:"Donation",TRANSPORT:"Transport",MAINTENANCE:"Maintenance",FOURNITURES:"Fournitures",COTISATION:"Cotisation",FRAIS_EVENEMENT:"Frais vnement",ASSURANCE:"Assurance",AUTRE:"Autre"},rJ=(t,n=0)=>{const r=parseFloat(t)||0,i=parseFloat(n)||0,l=r*(i/100),u=r+l;return{taxAmount:parseFloat(l.toFixed(2)),totalAmount:parseFloat(u.toFixed(2))}},ZT=t=>["ADMIN","PRESIDENT","TRESORIER"].includes(t),XT=t=>["ADMIN","PRESIDENT","TRESORIER"].includes(t),sJ=(t=[],n)=>{const r=[];if(t.length===0)return{isValid:!0,errors:r};const i=t.reduce((l,u)=>l+(parseFloat(u.allocatedAmount)||0),0);return Math.abs(i-n)>.01&&r.push(`Total alloue (${i.toFixed(2)}EUR) doit egaler le montant (${n.toFixed(2)}EUR)`),t.forEach((l,u)=>{l.categoryId||r.push(`Allocation ${u+1}: Categorie requise`),(!l.allocatedAmount||parseFloat(l.allocatedAmount)<=0)&&r.push(`Allocation ${u+1}: Montant doit etre > 0`)}),{isValid:r.length===0,errors:r}};var iJ={};const Ta=iJ.REACT_APP_API_URL||"http://localhost:4000",Ph=(t=null)=>{const n=on(),[r,i]=v.useState(!1),[l,u]=v.useState(()=>{try{const ve=t||(()=>{const be=localStorage.getItem("user");return be?JSON.parse(be):null})();if(ve&&typeof getPrimaryRole=="function")return getPrimaryRole(ve);if(ve?.roles&&Array.isArray(ve.roles)&&ve.roles.length>0)return ve.roles[0];if(ve?.role)return ve.role}catch(ve){console.warn("Erreur lecture userRole:",ve.message)}return"MEMBER"}),[d,m]=v.useState([]),[p,g]=v.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[x,y]=v.useState([]),[S,w]=v.useState(null),[C,_]=v.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:""}),[T,R]=v.useState([]),[D,k]=v.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[N,M]=v.useState([]),[O,H]=v.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),[U,ae]=v.useState({scenarios:[],activeScenario:null,projectionMonths:12}),he=new Date().getFullYear(),[le,de]=v.useState(he),[Re,fe]=v.useState(null),[se,Y]=v.useState(0),[q,W]=v.useState(!0),[Ee,B]=v.useState({totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),ie=v.useCallback(async()=>{try{i(!0);const ve=await fetch(`${Ta}/api/finance/transactions`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ve.ok){const dt=await ve.json();m(dt.transactions||[]),B(dt.stats||{})}const be=await fetch(`${Ta}/api/finance/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(be.ok){const dt=await be.json();y(dt.documents||[])}const He=await fetch(`${Ta}/api/finance/scheduled`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(He.ok){const dt=await He.json();R(dt.operations||[])}const ct=await fetch(`${Ta}/api/finance/expenses`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ct.ok){const dt=await ct.json();M(dt.reports||[])}const Xe=await fetch(`${Ta}/api/finance/balance`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Xe.ok){const dt=await Xe.json();Y(dt.balance||0)}}catch(ve){console.error("Erreur chargement donnes finance:",ve),n({title:"Erreur",description:"Impossible de charger les donnes financires",status:"error",duration:5e3})}finally{i(!1)}},[n]),xe=v.useCallback(async(ve,be=[])=>{try{const He=eJ(ve);if(!He.isValid)return n({title:"Erreur de validation",description:He.errors.join(", "),status:"warning",duration:5e3}),null;if(be.length>0){const dt=sJ(be,parseFloat(ve.amount));if(!dt.isValid)return n({title:"Erreur allocation",description:dt.errors.join(", "),status:"warning",duration:5e3}),null}i(!0);const ct=await fetch(`${Ta}/api/finance/transactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...ve,amount:parseFloat(ve.amount)})});if(!ct.ok)throw new Error("Erreur creation transaction");const Xe=await ct.json();if(be.length>0)try{await fetch(`${Ta}/api/finance/transactions/${Xe.id}/allocations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({allocations:be})})}catch(dt){console.warn("Erreur sauvegarde allocations:",dt)}return m([...d,Xe]),n({title:"Succes",description:be.length>0?`Transaction creee avec ${be.length} allocation(s)`:"Transaction creee",status:"success"}),Xe}catch(He){return n({title:"Erreur",description:He.message,status:"error"}),null}finally{i(!1)}},[d,n]),$=v.useCallback(async ve=>{try{if(!(await fetch(`${Ta}/api/finance/transactions/${ve}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");m(d.filter(He=>He.id!==ve)),n({title:"Succs",description:"Transaction supprime",status:"success"})}catch(be){n({title:"Erreur",description:be.message,status:"error"})}},[d,n]),F=v.useCallback(async ve=>{try{const be=tJ(ve);if(!be.isValid)return n({title:"Erreur de validation",description:be.errors.join(", "),status:"warning",duration:5e3}),null;let He={...ve};if(ve.amountExcludingTax){const{taxAmount:dt,totalAmount:Ue}=rJ(ve.amountExcludingTax,ve.taxRate);He={...He,taxAmount:dt,amount:Ue}}i(!0);const ct=await fetch(`${Ta}/api/finance/documents`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(He)});if(!ct.ok)throw new Error("Erreur creation document");const Xe=await ct.json();return y([...x,Xe]),n({title:"Succes",description:"Document cree",status:"success"}),Xe}catch(be){return n({title:"Erreur",description:be.message,status:"error"}),null}finally{i(!1)}},[x,n]),G=v.useCallback(async ve=>{try{if(!(await fetch(`${Ta}/api/finance/documents/${ve}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");y(x.filter(He=>He.id!==ve)),n({title:"Succs",description:"Document supprim",status:"success"})}catch(be){n({title:"Erreur",description:be.message,status:"error"})}},[x,n]);v.useEffect(()=>{ie()},[ie]);const X=v.useCallback(async(ve,be="")=>{if(!ZT(l))return n({title:"Permission refusee",description:"Vous n'avez pas le droit de modifier le solde",status:"error"}),!1;try{if(i(!0),!(await fetch(`${Ta}/api/finance/balance`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({balance:parseFloat(ve),reason:be||"Modification manuelle"})})).ok)throw new Error("Erreur mise a jour solde");return Y(parseFloat(ve)),n({title:"Succes",description:"Solde mis a jour",status:"success"}),!0}catch(He){return n({title:"Erreur",description:He.message,status:"error"}),!1}finally{i(!1)}},[l,n]),ye=v.useCallback(async ve=>{if(!XT(l))return n({title:"Permission refusee",description:"Vous n'avez pas le droit d'approuver",status:"error"}),!1;try{if(i(!0),!(await fetch(`${Ta}/api/finance/scheduled-operations/${ve}/approve`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur approbation");return R(T.map(He=>He.id===ve?{...He,status:"APPROVED"}:He)),n({title:"Succes",description:"Operation approuvee",status:"success"}),!0}catch(be){return n({title:"Erreur",description:be.message,status:"error"}),!1}finally{i(!1)}},[l,T,n]);return{loading:r,loadFinanceData:ie,transactions:d,setTransactions:m,newTransaction:p,setNewTransaction:g,addTransaction:xe,deleteTransaction:$,documents:x,setDocuments:y,editingDocument:S,setEditingDocument:w,docForm:C,setDocForm:_,addDocument:F,deleteDocument:G,scheduledOperations:T,setScheduledOperations:R,newScheduled:D,setNewScheduled:k,approveScheduledOperation:ye,expenseReports:N,setExpenseReports:M,newExpenseReport:O,setNewExpenseReport:H,simulationData:U,setSimulationData:ae,reportYear:le,setReportYear:de,reportData:Re,setReportData:fe,balance:se,setBalance:Y,updateBalance:X,isBalanceLocked:q,setIsBalanceLocked:W,stats:Ee,setStats:B,userRole:l,canModifyBalance:ZT(l),canApprovePayments:XT(l)}},KT=()=>{const{balance:t,transactions:n,scheduledOperations:r}=Ph(),i=Tn("white","gray.800"),l=Tn("gray.200","gray.700"),u=n?.filter(S=>S.type==="CREDIT").reduce((S,w)=>S+(w.amount||0),0)||0,d=n?.filter(S=>S.type==="DEBIT").reduce((S,w)=>S+(w.amount||0),0)||0,m=new Date().getMonth(),p=new Date().getFullYear(),g=n?.filter(S=>{const w=new Date(S.date);return w.getMonth()===m&&w.getFullYear()===p})||[],x=g.filter(S=>S.type==="CREDIT").reduce((S,w)=>S+(w.amount||0),0)-g.filter(S=>S.type==="DEBIT").reduce((S,w)=>S+(w.amount||0),0),y=(r||[]).reduce((S,w)=>S+(w.amount||0),0);return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Tableau de Bord Finances"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Vue d'ensemble de votre trsorerie"})]}),e.jsxs(ft,{columns:{base:2,md:4},spacing:4,children:[e.jsx(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Solde actuel"}),e.jsxs(vt,{fontSize:"2xl",color:"blue.500",children:[t.toFixed(2)," "]}),e.jsx(Pi,{children:"Trsorerie gnrale"})]})})}),e.jsx(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:3,mb:2,children:[e.jsx(Mn,{as:lM,color:"green.500",boxSize:5}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Crdits"}),e.jsxs(vt,{fontSize:"xl",color:"green.500",children:["+",u.toFixed(2)," "]})]})})]})})}),e.jsx(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:3,mb:2,children:[e.jsx(Mn,{as:uQ,color:"red.500",boxSize:5}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Dbits"}),e.jsxs(vt,{fontSize:"xl",color:"red.500",children:["-",Math.abs(d).toFixed(2)," "]})]})})]})})}),e.jsx(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:3,mb:2,children:[e.jsx(Mn,{as:$s,color:"purple.500",boxSize:5}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:" programmer"}),e.jsx(vt,{fontSize:"xl",color:"purple.500",children:r?.length||0})]})})]})})})]}),e.jsxs(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Mois actuel"})}),e.jsx(Ie,{children:e.jsxs(vi,{templateColumns:"repeat(2, 1fr)",gap:6,children:[e.jsx(Fu,{children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Balance mensuelle"}),e.jsxs(P,{fontSize:"2xl",fontWeight:"bold",color:x>=0?"green.500":"red.500",children:[x>=0?"+":"",x.toFixed(2)," "]})]})}),e.jsx(Fu,{children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Impact programm"}),e.jsxs(P,{fontSize:"2xl",fontWeight:"bold",color:y>=0?"green.500":"red.500",children:[y>=0?"+":"",y.toFixed(2)," "]})]})})]})})]}),e.jsxs(Ne,{bg:i,borderWidth:"1px",borderColor:l,children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Dernires transactions"})}),e.jsx(Ie,{children:e.jsx(ne,{align:"stretch",spacing:3,maxH:"300px",overflowY:"auto",children:(n||[]).slice(0,5).map(S=>e.jsxs(re,{justify:"space-between",p:2,borderRadius:"md",_hover:{bg:"gray.100"},children:[e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontWeight:"500",children:S.description}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:new Date(S.date).toLocaleDateString()})]}),e.jsxs(P,{fontWeight:"bold",color:S.type==="CREDIT"?"green.500":"red.500",children:[S.type==="CREDIT"?"+":"-",Math.abs(S.amount).toFixed(2)," "]})]},S.id))})})]})]})},aJ=()=>{const{transactions:t,addTransaction:n,deleteTransaction:r,loading:i}=Ph(),[l,u]=v.useState("Tous"),[d,m]=v.useState(""),[p,g]=v.useState(!1),[x,y]=v.useState([]),[S,w]=v.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]});on();const{isOpen:C,onOpen:_,onClose:T}=Rt(),R=["Tous",...Object.keys(nJ)],D=(t||[]).filter(M=>{const O=(M.description||"").toLowerCase().includes(d.toLowerCase()),H=l==="Tous"||M.category===l;return O&&H}),k=async()=>{g(!0);try{await n(S,x)&&(w({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),y([]),T())}finally{g(!1)}},N=async M=>{window.confirm("Confirmer la suppression ? Cette action est irreversible.")&&await r(M)};return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Transactions"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Historique des mouvements financiers"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:_,isLoading:i,children:"Nouvelle transaction"})]}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(re,{spacing:4,children:[e.jsxs(kc,{flex:1,children:[e.jsx(Dc,{pointerEvents:"none",children:e.jsx(Mn,{as:hm,color:"gray.300"})}),e.jsx(ge,{placeholder:"Rechercher une transaction...",value:d,onChange:M=>m(M.target.value)})]}),e.jsx(st,{w:"200px",value:l,onChange:M=>u(M.target.value),children:R.map(M=>e.jsx("option",{value:M,children:M},M))})]})})}),e.jsx(Ne,{overflowX:"auto",children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:D.length>0?D.map(M=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{children:new Date(M.date).toLocaleDateString()}),e.jsx(Ae,{fontWeight:"500",children:M.description}),e.jsx(Ae,{children:M.category}),e.jsxs(Ae,{isNumeric:!0,fontWeight:"600",color:M.type==="CREDIT"?"green.500":"red.500",children:[M.type==="CREDIT"?"+":"-",Math.abs(M.amount).toFixed(2)," "]}),e.jsx(Ae,{children:e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>N(M.id),children:e.jsx(Mn,{as:Zn})})})]},M.id)):e.jsx(jt,{children:e.jsx(Ae,{colSpan:5,textAlign:"center",py:8,color:"gray.500",children:"Aucune transaction trouve"})})})]})})}),e.jsxs(wt,{isOpen:C,onClose:T,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Nouvelle Transaction"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:S.type,onChange:M=>w({...S,type:M.target.value}),children:[e.jsx("option",{value:"CREDIT",children:"Crdit (Entre)"}),e.jsx("option",{value:"DEBIT",children:"Dbit (Sortie)"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant ()"}),e.jsx(ge,{type:"number",step:"0.01",value:S.amount,onChange:M=>w({...S,amount:parseFloat(M.target.value)})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:S.description,onChange:M=>w({...S,description:M.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsxs(st,{value:S.category,onChange:M=>w({...S,category:M.target.value}),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"DONATION",children:"Donation"}),e.jsx("option",{value:"TRANSPORT",children:"Transport"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"FOURNITURES",children:"Fournitures"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:S.date,onChange:M=>w({...S,date:M.target.value})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:T,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:k,isLoading:p,children:"Crer"})]})]})]})]})},oJ=()=>{const{scheduledOperations:t,setScheduledOperations:n,loading:r}=Ph(),[i,l]=v.useState(!1),[u,d]=v.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),m=on(),{isOpen:p,onOpen:g,onClose:x}=Rt(),y=async()=>{if(!u.amount||!u.description){m({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}l(!0);try{const _={id:Math.random(),...u,amount:parseFloat(u.amount),totalAmount:parseFloat(u.totalAmount)||parseFloat(u.amount),status:"PENDING"};n([...t,_]),m({title:"Succs",description:"Opration programme cre",status:"success"}),d({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),x()}finally{l(!1)}},S=async _=>{n(t.map(T=>T.id===_?{...T,status:"APPROVED"}:T)),m({title:"Opration valide",status:"success"})},w=async _=>{n(t.filter(T=>T.id!==_)),m({title:"Opration rejete",status:"warning"})},C=(t||[]).filter(_=>_.status==="PENDING").length;return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Oprations planifies"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Gestion des paiements rcurrents et planifis"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:g,isLoading:r,children:"Nouvelle opration"})]}),C>0&&e.jsxs(Wt,{status:"warning",borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(ue,{children:e.jsxs(P,{fontWeight:"bold",children:[C," opration",C>1?"s":""," en attente de validation"]})})]}),e.jsx(Ne,{overflowX:"auto",children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Frquence"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Prochaine date"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:(t||[]).length>0?t.map(_=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"500",children:_.description}),e.jsx(Ae,{children:_.frequency}),e.jsxs(Ae,{isNumeric:!0,fontWeight:"600",children:[parseFloat(_.amount).toFixed(2)," "]}),e.jsx(Ae,{children:new Date(_.nextDate).toLocaleDateString()}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:_.status==="APPROVED"?"green":_.status==="PENDING"?"yellow":"gray",children:_.status==="APPROVED"?"Approuve":_.status==="PENDING"?"En attente":"Rejete"})}),e.jsxs(Ae,{children:[_.status==="PENDING"&&e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"green",onClick:()=>S(_.id),leftIcon:e.jsx(Hp,{}),children:"Valider"}),e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>w(_.id),leftIcon:e.jsx(qu,{}),children:"Rejeter"})]}),_.status==="APPROVED"&&e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>w(_.id),leftIcon:e.jsx(Zn,{}),children:"Supprimer"})]})]},_.id)):e.jsx(jt,{children:e.jsx(Ae,{colSpan:6,textAlign:"center",py:8,color:"gray.500",children:"Aucune opration programme"})})})]})})}),e.jsxs(wt,{isOpen:p,onClose:x,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Nouvelle Opration Programme"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:u.type,onChange:_=>d({...u,type:_.target.value}),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"RECURRING",children:"Opration rcurrente"}),e.jsx("option",{value:"INVOICE",children:"Facture programme"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(ge,{value:u.description,onChange:_=>d({...u,description:_.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant ()"}),e.jsx(ge,{type:"number",step:"0.01",value:u.amount,onChange:_=>d({...u,amount:_.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Frquence"}),e.jsxs(st,{value:u.frequency,onChange:_=>d({...u,frequency:_.target.value}),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel"}),e.jsx("option",{value:"ANNUAL",children:"Annuel"}),e.jsx("option",{value:"ONCE",children:"Une seule fois"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prochaine date"}),e.jsx(ge,{type:"date",value:u.nextDate,onChange:_=>d({...u,nextDate:_.target.value})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:y,isLoading:i,children:"Crer"})]})]})]})]})},lJ=()=>{const{documents:t,addDocument:n,deleteDocument:r,loading:i}=Ph(),[l,u]=v.useState(!1),[d,m]=v.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:""}),p=on(),{isOpen:g,onOpen:x,onClose:y}=Rt(),S=async()=>{if(!d.number||!d.amount){p({title:"Erreur",description:"Remplissez les champs obligatoires",status:"error"});return}u(!0);try{await n(d),m({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:""}),y()}finally{u(!1)}},w=async T=>{window.confirm("Confirmer la suppression ?")&&await r(T)},C={DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REJECTED:"red",INVOICED:"purple"},_={DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REJECTED:"Refus",INVOICED:"Factur"};return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Devis & Factures"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Gestion des documents commerciaux"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:x,isLoading:i,children:"Nouveau document"})]}),e.jsx(ft,{columns:[1,2,3],spacing:6,display:{base:"grid",md:"none"},children:(t||[]).map(T=>e.jsx(Ne,{children:e.jsxs(Ie,{children:[e.jsxs(re,{justify:"space-between",mb:4,children:[e.jsx(Pe,{size:"sm",children:T.number}),e.jsx(et,{colorScheme:C[T.status]||"gray",children:_[T.status]||T.status})]}),e.jsx(P,{color:"gray.600",mb:2,children:T.title}),e.jsxs(P,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",mb:4,children:[parseFloat(T.amount).toFixed(2)," "]}),e.jsx(P,{fontSize:"xs",color:"gray.400",mb:4,children:new Date(T.date).toLocaleDateString()}),e.jsxs(re,{spacing:2,pt:4,borderTop:"1px",borderColor:"gray.200",children:[e.jsx(J,{size:"sm",variant:"ghost",leftIcon:e.jsx(Wu,{}),children:"Voir"}),e.jsx(J,{size:"sm",variant:"ghost",leftIcon:e.jsx(Mi,{}),children:"PDF"}),e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"red",leftIcon:e.jsx(Zn,{}),onClick:()=>w(T.id),children:"Suppr."})]})]})},T.id))}),e.jsx(Ne,{display:{base:"none",md:"block"},overflowX:"auto",children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Numro"}),e.jsx(ke,{children:"Titre"}),e.jsx(ke,{isNumeric:!0,children:"Montant"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:(t||[]).length>0?t.map(T=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"600",children:T.number}),e.jsx(Ae,{children:T.title}),e.jsxs(Ae,{isNumeric:!0,fontWeight:"600",children:[parseFloat(T.amount).toFixed(2)," "]}),e.jsx(Ae,{children:new Date(T.date).toLocaleDateString()}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:T.type==="QUOTE"?"blue":"green",children:T.type==="QUOTE"?"Devis":"Facture"})}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:C[T.status]||"gray",children:_[T.status]||T.status})}),e.jsx(Ae,{children:e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",variant:"ghost",leftIcon:e.jsx(Wu,{}),children:"Voir"}),e.jsx(J,{size:"sm",variant:"ghost",leftIcon:e.jsx(Mi,{}),children:"PDF"}),e.jsx(J,{size:"sm",variant:"ghost",colorScheme:"red",leftIcon:e.jsx(Zn,{}),onClick:()=>w(T.id)})]})})]},T.id)):e.jsx(jt,{children:e.jsx(Ae,{colSpan:7,textAlign:"center",py:8,color:"gray.500",children:"Aucun document trouv"})})})]})})}),e.jsxs(wt,{isOpen:g,onClose:y,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Nouveau Document"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:d.type,onChange:T=>m({...d,type:T.target.value}),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Numro"}),e.jsx(ge,{value:d.number,onChange:T=>m({...d,number:T.target.value}),placeholder:"DV-2025-001"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:d.title,onChange:T=>m({...d,title:T.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant HT ()"}),e.jsx(ge,{type:"number",step:"0.01",value:d.amountExcludingTax,onChange:T=>{const R=parseFloat(T.target.value)||0,D=R*(d.taxRate/100);m({...d,amountExcludingTax:T.target.value,taxAmount:D,amount:(R+D).toString()})}})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"TVA (%)"}),e.jsxs(st,{value:d.taxRate,onChange:T=>{const R=parseFloat(T.target.value),D=parseFloat(d.amountExcludingTax)||0,k=D*(R/100);m({...d,taxRate:R,taxAmount:k,amount:(D+k).toString()})},children:[e.jsx("option",{value:0,children:"0%"}),e.jsx("option",{value:5.5,children:"5.5%"}),e.jsx("option",{value:20,children:"20%"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant TTC ()"}),e.jsx(ge,{type:"number",step:"0.01",value:d.amount,readOnly:!0,disabled:!0})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:d.date,onChange:T=>m({...d,date:T.target.value})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsxs(st,{value:d.status,onChange:T=>m({...d,status:T.target.value}),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"SENT",children:"Envoy"}),e.jsx("option",{value:"ACCEPTED",children:"Accept"}),e.jsx("option",{value:"REJECTED",children:"Refus"})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:y,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:S,isLoading:l,children:"Crer"})]})]})]})]})},cJ=()=>{const{transactions:t,reportYear:n,setReportYear:r}=Ph(),[i,l]=v.useState(new Date().getMonth()),{isOpen:u,onOpen:d,onClose:m}=Rt(),p=on(),g=new Date().getFullYear(),x=Array.from({length:5},(T,R)=>g-R),y=()=>{const T={};return(t||[]).forEach(R=>{T[R.category]||(T[R.category]={credits:0,debits:0}),R.type==="CREDIT"?T[R.category].credits+=R.amount||0:T[R.category].debits+=R.amount||0}),T},S=()=>{const T=Array(12).fill(null).map((R,D)=>({month:new Date(n,D,1).toLocaleDateString("fr-FR",{month:"long"}),credits:0,debits:0,balance:0}));return(t||[]).forEach(R=>{const D=new Date(R.date);if(D.getFullYear()===n){const k=D.getMonth();R.type==="CREDIT"?T[k].credits+=R.amount||0:T[k].debits+=R.amount||0}}),T.forEach((R,D)=>{R.balance=R.credits-R.debits}),T},w=y(),C=S(),_=()=>{p({title:"Rapport gnr",description:`Rapport ${n} tlcharg`,status:"success",duration:3e3})};return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Rapports Financiers"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Rapports d'analyse et exports"})]}),e.jsxs(re,{children:[e.jsx(st,{w:"150px",value:n,onChange:T=>r(parseInt(T.target.value)),children:x.map(T=>e.jsx("option",{value:T,children:T},T))}),e.jsx(J,{leftIcon:e.jsx(Mi,{}),colorScheme:"blue",onClick:_,children:"Tlcharger"})]})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(Pe,{size:"md",children:["Rsum ",n]})}),e.jsx(Ie,{children:e.jsxs(ft,{columns:[1,2,4],spacing:4,children:[e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total crdits"}),e.jsxs(vt,{color:"green.500",children:["+",Object.values(w).reduce((T,R)=>T+R.credits,0).toFixed(2)," "]})]})}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total dbits"}),e.jsxs(vt,{color:"red.500",children:["-",Object.values(w).reduce((T,R)=>T+R.debits,0).toFixed(2)," "]})]})}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Transactions"}),e.jsx(vt,{children:(t||[]).length})]})}),e.jsx(ue,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Catgories"}),e.jsx(vt,{children:Object.keys(w).length})]})})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Par catgorie"})}),e.jsx(Ie,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{isNumeric:!0,children:"Crdits"}),e.jsx(ke,{isNumeric:!0,children:"Dbits"}),e.jsx(ke,{isNumeric:!0,children:"Bilan"})]})}),e.jsx(Gn,{children:Object.entries(w).map(([T,R])=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"500",children:T}),e.jsxs(Ae,{isNumeric:!0,color:"green.500",children:["+",R.credits.toFixed(2)," "]}),e.jsxs(Ae,{isNumeric:!0,color:"red.500",children:["-",R.debits.toFixed(2)," "]}),e.jsx(Ae,{isNumeric:!0,fontWeight:"600",children:e.jsxs(P,{color:R.credits-R.debits>=0?"green.500":"red.500",children:[R.credits-R.debits>=0?"+":"",(R.credits-R.debits).toFixed(2)," "]})})]},T))})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(Pe,{size:"md",children:["volution mensuelle ",n]})}),e.jsx(Ie,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Mois"}),e.jsx(ke,{isNumeric:!0,children:"Crdits"}),e.jsx(ke,{isNumeric:!0,children:"Dbits"}),e.jsx(ke,{isNumeric:!0,children:"Balance"})]})}),e.jsx(Gn,{children:C.map((T,R)=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"500",children:T.month}),e.jsxs(Ae,{isNumeric:!0,color:"green.500",children:["+",T.credits.toFixed(2)," "]}),e.jsxs(Ae,{isNumeric:!0,color:"red.500",children:["-",T.debits.toFixed(2)," "]}),e.jsx(Ae,{isNumeric:!0,fontWeight:"600",children:e.jsxs(P,{color:T.balance>=0?"green.500":"red.500",children:[T.balance>=0?"+":"",T.balance.toFixed(2)," "]})})]},R))})]})})]})]})},uJ=()=>{const{balance:t,setBalance:n,isBalanceLocked:r,setIsBalanceLocked:i}=Ph(),[l,u]=v.useState(t),[d,m]=v.useState(!1),[p,g]=v.useState([{id:1,timestamp:new Date(Date.now()-864e5).toLocaleString(),user:"Admin",action:"Modification solde",oldValue:"12000.00",newValue:"12450.50",reason:"Correction suite audit"},{id:2,timestamp:new Date(Date.now()-1728e5).toLocaleString(),user:"Trsorier",action:"Synchronisation",oldValue:"12450.50",newValue:"12450.50",reason:"Sync avec banque"}]),x=on(),y=async()=>{if(l===t){x({title:"Aucune modification",status:"info"});return}m(!0);try{const w=t;n(parseFloat(l)),g([{id:p.length+1,timestamp:new Date().toLocaleString(),user:localStorage.getItem("userName")||"Utilisateur",action:"Modification solde",oldValue:w.toFixed(2),newValue:l,reason:"Mise  jour manuelle"},...p]),x({title:"Succs",description:"Solde mis  jour",status:"success"})}catch(w){x({title:"Erreur",description:w.message,status:"error"}),u(t)}finally{m(!1)}},S=()=>{i(!r),x({title:r?"Dverrouill":"Verrouill",description:`Le solde est ${r?"":"maintenant "}verrouill`,status:"success"})};return e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"Paramtres Finances"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Configuration et gestion du solde"})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Gestion du Solde"}),e.jsx(J,{leftIcon:e.jsx(Go,{}),size:"sm",variant:r?"solid":"outline",colorScheme:r?"red":"gray",onClick:S,children:r?"Verrouill":"Dverrouill"})]})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(Wt,{status:"info",borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(ue,{children:e.jsxs(P,{fontSize:"sm",children:["Le solde est ",e.jsx("strong",{children:r?"verrouill":"dverrouill"}),". Les modifications ",r?"ne ":"","seront enregistres dans l'historique d'audit."]})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Solde actuel"}),e.jsx(ge,{type:"number",step:"0.01",value:l,onChange:w=>u(w.target.value),isDisabled:r,fontSize:"lg",fontWeight:"bold",color:"blue.500"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Raison de la modification (optionnel)"}),e.jsx(ge,{placeholder:"Ex: Correction suite audit, Synchronisation manuelle...",isDisabled:r})]}),e.jsx(J,{leftIcon:e.jsx(Pl,{}),colorScheme:"blue",onClick:y,isLoading:d,isDisabled:r,w:"100%",children:"Enregistrer le solde"})]})})]}),e.jsx(bn,{}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Paramtres Gnraux"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(K,{mb:0,children:"Activer les notifications de solde bas"}),e.jsx(ur,{defaultChecked:!0})]}),e.jsxs(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(K,{mb:0,children:"Afficher les graphiques mensuels"}),e.jsx(ur,{defaultChecked:!0})]}),e.jsxs(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(K,{mb:0,children:"Exporter automatiquement les rapports"}),e.jsx(ur,{defaultChecked:!1})]}),e.jsxs(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(K,{mb:0,children:"Mode strict (validation obligatoire)"}),e.jsx(ur,{defaultChecked:!1})]})]})})]}),e.jsx(bn,{}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Historique d'Audit du Solde"})}),e.jsx(Ie,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"Date/Heure"}),e.jsx(ke,{children:"Utilisateur"}),e.jsx(ke,{children:"Action"}),e.jsx(ke,{children:"Ancien solde"}),e.jsx(ke,{children:"Nouveau solde"}),e.jsx(ke,{children:"Raison"})]})}),e.jsx(Gn,{children:p.map(w=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontSize:"xs",children:w.timestamp}),e.jsx(Ae,{fontWeight:"500",children:w.user}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:"blue",children:w.action})}),e.jsxs(Ae,{isNumeric:!0,fontSize:"sm",children:[w.oldValue," "]}),e.jsxs(Ae,{isNumeric:!0,fontSize:"sm",fontWeight:"600",children:[w.newValue," "]}),e.jsx(Ae,{fontSize:"sm",color:"gray.600",children:w.reason})]},w.id))})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Catgories de Transactions"})}),e.jsx(Ie,{children:e.jsx(ne,{align:"stretch",spacing:2,children:["ADHESION","DONATION","TRANSPORT","MAINTENANCE","FOURNITURES"].map(w=>e.jsxs(re,{justify:"space-between",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(P,{fontWeight:"500",children:w}),e.jsx(et,{colorScheme:"gray",children:"Active"})]},w))})})]})]})},dJ=()=>{const[t,n]=v.useState("dashboard"),[r,i]=v.useState(!0),[l]=JD("(max-width: 768px)"),u=Tn("gray.50","gray.900"),d=Tn("white","gray.800"),m=Tn("gray.200","gray.700"),p=Tn("gray.100","gray.800"),g=Tn("blue.50","blue.900"),x=Tn("blue.500","blue.400"),y=[{id:"dashboard",label:" Tableau de bord",icon:rM,color:"blue"},{id:"transactions",label:" Transactions",icon:Lx,color:"green"},{id:"scheduled",label:" Oprations planifies",icon:$s,color:"purple"},{id:"quotes",label:" Devis",icon:ZK,color:"orange"},{id:"reports",label:" Rapports",icon:lM,color:"teal"},{id:"settings",label:" Paramtres",icon:Dh,color:"gray"}],S=()=>{switch(t){case"dashboard":return e.jsx(KT,{});case"transactions":return e.jsx(aJ,{});case"scheduled":return e.jsx(oJ,{});case"quotes":return e.jsx(lJ,{});case"reports":return e.jsx(cJ,{});case"settings":return e.jsx(uJ,{});default:return e.jsx(KT,{})}};return e.jsxs(re,{align:"stretch",spacing:0,h:"100vh",children:[e.jsx(ue,{w:r&&!l?"280px":l?"100%":"0",bg:u,borderRight:"1px",borderColor:m,overflowY:"auto",transition:"width 0.3s ease",display:l&&!r?"none":"block",position:l?"absolute":"relative",h:"100%",zIndex:l?10:"auto",boxShadow:l&&r?"lg":"none",children:e.jsxs(ne,{align:"stretch",spacing:0,h:"100%",children:[e.jsxs(ue,{p:6,borderBottom:"1px",borderColor:m,children:[e.jsxs(re,{justify:"space-between",mb:4,children:[e.jsxs(Pe,{size:"md",display:"flex",alignItems:"center",gap:2,children:[e.jsx(Mn,{as:Mc,color:"blue.500"}),"Finances"]}),l&&e.jsx(J,{size:"sm",variant:"ghost",onClick:()=>i(!1),children:e.jsx(qu,{})})]}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Gestion des finances de l'association"})]}),e.jsx(ne,{align:"stretch",spacing:1,px:3,py:4,flex:1,children:y.map(w=>{const C=t===w.id;return e.jsx(J,{leftIcon:e.jsx(Mn,{as:w.icon}),variant:"ghost",justifyContent:"flex-start",w:"100%",bg:C?g:"transparent",borderLeft:"3px",borderColor:C?x:"transparent",borderRadius:0,px:4,py:6,fontSize:"sm",fontWeight:C?"600":"500",color:C?x:"inherit",_hover:{bg:p,borderLeftColor:x},onClick:()=>{n(w.id),l&&i(!1)},children:e.jsx(P,{truncate:!0,children:w.label})},w.id)})}),e.jsx(ue,{p:4,borderTop:"1px",borderColor:m,fontSize:"xs",color:"gray.500",textAlign:"center",children:e.jsx(P,{children:"Version 2.0 - Nouveau design"})})]})}),e.jsxs(ue,{flex:1,overflowY:"auto",bg:d,position:"relative",display:l&&r?"none":"block",children:[l&&e.jsx(J,{position:"fixed",top:4,left:4,size:"sm",variant:"solid",zIndex:5,onClick:()=>i(!0),children:e.jsx(nQ,{})}),e.jsx(ue,{p:6,children:S()})]})]})},oj={public_open_access:{name:"Ouvert au Public",icon:ch,color:"green",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"vnement ouvert au public, accs libre sans inscription"},public_with_registration:{name:"Public avec Inscription",icon:zi,color:"blue",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:15,childPrice:8,maxParticipants:100,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"vnement public avec inscription ouverte directement au public"},private_outing:{name:"Sortie Prive",icon:Sb,color:"yellow",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Sortie visible publiquement mais rserve (pas d'inscription possible)"},public_contact_required:{name:"Contact Association Requis",icon:Sb,color:"orange",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:30,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Visible par tous mais inscription uniquement en contactant l'association"},members_only:{name:"Adhrents Seulement",icon:Go,color:"purple",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:50,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"Rserv aux adhrents, non visible sur le site public"},private_internal:{name:"vnement Interne",icon:Go,color:"red",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"DRAFT"},description:"vnement interne, compltement priv"},public_pdf_form:{name:"Formulaire PDF Public",icon:Mi,color:"teal",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:null,registrationDeadline:"",registrationMethod:"pdf",status:"PUBLISHED"},description:"vnement public avec formulaire PDF  tlcharger"},parade_classic_vehicles:{name:" Dfil Anciennes",icon:Tc,color:"red",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED",registrationType:"parade_vehicles"},description:"Dfil de vhicules anciens - Inscription avec nom, vhicule et club"}},hJ=()=>{const[t,n]=v.useState([]),[r,i]=v.useState([]),[l,u]=v.useState(!1),[d,m]=v.useState(!1),[p,g]=v.useState("cards"),[x,y]=v.useState(""),S=on(),{isOpen:w,onOpen:C,onClose:_}=Rt(),[T,R]=v.useState(null),[D,k]=v.useState(null),[N,M]=v.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),O=async()=>{const F=localStorage.getItem("token");if(console.log(" Testing API connection..."),console.log("Token exists:",!!F),!F){S({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const G=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});if(console.log("GET /events status:",G.status),G.ok){const X=await G.json();console.log(" GET API works, events:",X.length),n(Array.isArray(X)?X:[]),console.log(" Testing POST with minimal data...");const ye={id:`test-${Date.now()}`,title:"Test Event",date:"2025-12-31",status:"DRAFT"},ve=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify(ye)});if(console.log("POST /events status:",ve.status),ve.ok){const be=await ve.json();console.log(" POST works, created:",be),await fetch(`https://refreshing-adaptation-rbe-serveurs.up.railway.app/events/${ye.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}}),S({status:"success",title:"API entirement fonctionnelle",description:"GET et POST fonctionnent correctement"})}else{const be=await ve.text();console.log(" POST error:",ve.status,be),S({status:"error",title:`Erreur POST ${ve.status}`,description:be})}}else{const X=await G.text();console.log(" GET error:",G.status,X),S({status:"error",title:`Erreur GET ${G.status}`,description:X})}}catch(G){console.error("Network error:",G),S({status:"error",title:"Erreur rseau",description:G.message})}},H=v.useCallback(async()=>{try{u(!0);const F=localStorage.getItem("token");if(!F){S({status:"warning",title:"Session expire",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}try{const X=F.split(".");if(X.length!==3)throw new Error("Format de token invalide");const ye=JSON.parse(atob(X[1])),ve=Math.floor(Date.now()/1e3);if(ye.exp&&ye.exp<ve)throw new Error("Token expir")}catch(X){console.error("Token invalide:",X),localStorage.removeItem("token"),localStorage.removeItem("user"),S({status:"error",title:"Session invalide",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}const G=await Pa.getAll();n(Array.isArray(G)?G:[])}catch(F){if(console.error("Erreur events API:",F),F.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}F.message.includes("400")?S({status:"error",title:"Erreur 400 - Bad Request",description:"Problme avec la requte. Cliquez sur 'Tester API' pour diagnostiquer."}):S({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements."}),n([])}finally{u(!1)}},[S]),U=v.useCallback(async()=>{try{const F=await wp.getAll();i(Array.isArray(F)?F:[])}catch(F){console.error(F),i([])}},[]);v.useEffect(()=>{H(),U()},[H,U]);const ae=()=>{M({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),y("")},he=F=>{const G=oj[F];G&&(M(X=>({...X,...G.defaults,eventType:F,title:X.title,date:X.date,time:X.time,location:X.location,description:X.description,vehicleId:X.vehicleId})),y(F),S({status:"info",title:"Template appliqu",description:G.description}))},le=()=>{R(null),ae(),C()},de=F=>{R(F);let G={};try{G=F.extras?JSON.parse(F.extras):{}}catch(X){console.log("Impossible de parser extras:",X)}M({title:F.title||"",date:F.date||"",time:F.time||"",location:F.location||"",description:F.description||"",adultPrice:F.adultPrice||"",childPrice:F.childPrice||"",helloAssoUrl:F.helloAssoUrl||"",vehicleId:F.vehicleId||"",status:F.status||"DRAFT",isVisible:G.isVisible!==!1,allowPublicRegistration:G.allowPublicRegistration||!1,requiresRegistration:G.requiresRegistration||!!F.helloAssoUrl,isFree:G.isFree!==!1,maxParticipants:G.maxParticipants||"",registrationDeadline:G.registrationDeadline||"",registrationMethod:G.registrationMethod||(F.helloAssoUrl?"helloasso":"none"),pdfUrl:G.pdfUrl||"",eventType:G.eventType||"public_info_only"}),y(G.eventType||""),C()},Re=(F,G)=>{const X=F.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,30),ye=G.replace(/-/g,""),ve=Math.random().toString(36).substring(2,6);return`${X}-${ye}-${ve}`},fe=async()=>{if(!N.title.trim()){S({status:"warning",title:"Le titre est requis"});return}if(!N.date){S({status:"warning",title:"La date est requise"});return}try{m(!0);const F={title:N.title.trim(),date:N.date,time:N.time||null,location:N.location.trim()||null,description:N.description.trim()||null,adultPrice:N.adultPrice?parseFloat(N.adultPrice):null,childPrice:N.childPrice?parseFloat(N.childPrice):null,helloAssoUrl:N.helloAssoUrl.trim()||null,vehicleId:N.vehicleId||null,status:N.status,extras:{isVisible:N.isVisible,allowPublicRegistration:N.allowPublicRegistration,requiresRegistration:N.requiresRegistration,isFree:N.isFree,maxParticipants:N.maxParticipants?parseInt(N.maxParticipants):null,registrationDeadline:N.registrationDeadline||null,registrationMethod:N.registrationMethod,pdfUrl:N.pdfUrl||null,eventType:N.eventType}};T||(F.id=Re(N.title,N.date),console.log(" Generated ID:",F.id)),console.log(" Saving event data:",F),T?(await Pa.update(T.id,F),S({status:"success",title:"vnement modifi avec succs"})):(await Pa.create(F),S({status:"success",title:"vnement cr avec succs"})),await H(),_(),ae()}catch(F){console.error("Save error:",F),F.message.includes("409")||F.message.includes("ID dj utilis")?S({status:"error",title:"ID dj utilis",description:"Un vnement avec ce nom et cette date existe dj. Modifiez le titre ou la date."}):F.message.includes("400")?(console.log("Dtails erreur 400 - Data envoye:",eventData),S({status:"error",title:"Erreur 400 - Donnes invalides",description:"Vrifiez la console pour voir les donnes envoyes."})):S({status:"error",title:"Erreur lors de la sauvegarde",description:F.message})}finally{m(!1)}},se=async F=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${F.title}" ?`))try{await Pa.delete(F.id),S({status:"success",title:"vnement supprim"}),await H()}catch(G){S({status:"error",title:"Erreur lors de la suppression",description:G.message})}},Y=async F=>{const G=F.status==="PUBLISHED"?"DRAFT":"PUBLISHED";try{console.log(" Toggling status from",F.status,"to",G),await Pa.update(F.id,{status:G}),S({status:"success",title:`vnement ${G==="PUBLISHED"?"publi":"dpubli"}`}),await H()}catch(X){console.error("Erreur toggle publish:",X),S({status:"error",title:"Erreur lors de la publication",description:X.message})}},q=F=>F==="PUBLISHED"?e.jsx(et,{colorScheme:"green",children:"Publi"}):e.jsx(et,{colorScheme:"gray",children:"Brouillon"}),W=F=>{try{const X=(F.extras?JSON.parse(F.extras):{}).eventType||"public_info_only",ye=oj[X];if(ye)return e.jsxs(et,{colorScheme:ye.color,variant:"subtle",children:[e.jsx(Mn,{as:ye.icon,mr:1}),ye.name]})}catch(G){console.log("Error parsing event extras:",G)}return e.jsx(et,{colorScheme:"gray",children:"Standard"})},Ee=F=>{try{const G=F.extras?JSON.parse(F.extras):{};return console.log(` Internal - Event "${F.title}" extras:`,G),G.isVisible?G.requiresRegistration?G.requiresRegistration&&!G.allowPublicRegistration?e.jsx(J,{size:"sm",leftIcon:e.jsx(Sb,{}),colorScheme:"orange",variant:"outline",isDisabled:!0,children:"Contact requis"}):G.requiresRegistration&&G.allowPublicRegistration?e.jsx(J,{size:"sm",leftIcon:e.jsx(zi,{}),colorScheme:"blue",variant:"solid",isDisabled:!0,children:"Inscription publique"}):e.jsx(J,{size:"sm",leftIcon:e.jsx(ch,{}),colorScheme:"gray",variant:"outline",isDisabled:!0,children:"Indtermin"}):e.jsx(J,{size:"sm",leftIcon:e.jsx(ch,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Ouvert au public"}):e.jsx(J,{size:"sm",leftIcon:e.jsx(Go,{}),colorScheme:"red",variant:"solid",isDisabled:!0,children:"Priv/Interne"})}catch(G){return console.log(`Error parsing extras for ${F.title}:`,G),e.jsx(J,{size:"sm",leftIcon:e.jsx(ch,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Legacy (ouvert)"})}},B=F=>{const G=r.find(X=>X.parc===F);return G?`${G.parc} - ${G.modele}`:"Aucun vhicule"},ie=t.find(F=>F.id===D);ie&&r.find(F=>F.parc===ie.vehicleId);const xe=()=>e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(F=>e.jsxs(Ne,{shadow:"md",position:"relative",children:[e.jsx(St,{pb:2,children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(re,{justify:"space-between",w:"100%",children:[e.jsx(Pe,{size:"md",noOfLines:2,flex:1,children:F.title}),Ee(F)]}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[q(F.status),W(F)]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx($s,{}),e.jsxs(P,{fontSize:"sm",children:[F.date," ",F.time&&` ${F.time}`]})]}),F.location&&e.jsxs(re,{children:[e.jsx(_c,{}),e.jsx(P,{fontSize:"sm",children:F.location})]}),F.vehicleId&&e.jsxs(P,{fontSize:"sm",children:[" ",B(F.vehicleId)]}),F.description&&e.jsx(P,{fontSize:"sm",color:"gray.600",noOfLines:3,children:F.description}),(F.adultPrice||F.childPrice)&&e.jsxs(re,{spacing:4,children:[F.adultPrice&&e.jsxs(P,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Adulte: ",F.adultPrice,""]}),F.childPrice&&e.jsxs(P,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Enfant: ",F.childPrice,""]})]}),e.jsxs(re,{spacing:2,pt:4,w:"100%",wrap:"wrap",children:[e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",onClick:()=>de(F),children:"Modifier"}),e.jsx(J,{leftIcon:e.jsx(Wu,{}),size:"sm",colorScheme:F.status==="PUBLISHED"?"red":"green",onClick:()=>Y(F),children:F.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(J,{leftIcon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>se(F),children:"Supprimer"})]})]})})]},F.id))}),$=()=>e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Titre"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:t.map(F=>e.jsxs(jt,{bg:F.id===D?"blue.50":void 0,cursor:"pointer",onClick:()=>k(F.id===D?null:F.id),_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"semibold",children:F.title}),e.jsxs(Ae,{children:[F.date," ",F.time&&` ${F.time}`]}),e.jsx(Ae,{children:W(F)}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[q(F.status),Ee(F)]})}),e.jsx(Ae,{children:e.jsxs(re,{spacing:1,children:[e.jsx(J,{size:"sm",onClick:G=>{G.stopPropagation(),de(F)},children:"diter"}),e.jsx(J,{size:"sm",colorScheme:F.status==="PUBLISHED"?"red":"green",onClick:G=>{G.stopPropagation(),Y(F)},children:F.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(J,{size:"sm",colorScheme:"red",variant:"outline",onClick:G=>{G.stopPropagation(),se(F)},children:"Supprimer"})]})})]},F.id))})]})});return e.jsxs(ue,{p:6,children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{children:" Cration des vnements"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(re,{spacing:3,children:[e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:O,children:"Tester API"}),e.jsx(J,{leftIcon:p==="cards"?e.jsx(aM,{}):e.jsx(P1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:le,children:"Nouvel vnement"})]})]}),l?e.jsx(vn,{py:20,children:e.jsx(mn,{size:"xl"})}):t.length===0?e.jsx(vn,{py:20,children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsxs(re,{spacing:3,children:[e.jsx(J,{leftIcon:e.jsx(Fs,{}),colorScheme:"purple",variant:"outline",onClick:O,children:"Tester API"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:le,children:"Crer le premier vnement"})]})]})}):p==="cards"?e.jsx(xe,{}):e.jsx($,{}),e.jsxs(wt,{isOpen:w,onClose:_,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:T?"Modifier l'vnement":"Nouvel vnement"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ho,{children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:" Informations de base"}),e.jsx(dn,{children:" Configuration"}),e.jsx(dn,{children:" Templates"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:N.title,onChange:F=>M(G=>({...G,title:F.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:N.date,onChange:F=>M(G=>({...G,date:F.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure"}),e.jsx(ge,{type:"time",value:N.time,onChange:F=>M(G=>({...G,time:F.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Lieu"}),e.jsx(ge,{value:N.location,onChange:F=>M(G=>({...G,location:F.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Vhicule participant"}),e.jsx(st,{value:N.vehicleId,onChange:F=>M(G=>({...G,vehicleId:F.target.value})),placeholder:"Slectionner un vhicule (optionnel)",children:r.map(F=>e.jsxs("option",{value:F.parc,children:[F.parc," - ",F.modele," (",F.marque,")"]},F.parc))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:N.description,onChange:F=>M(G=>({...G,description:F.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:6,children:[e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Visibilit"}),e.jsxs(Q,{children:[e.jsxs(re,{children:[e.jsx(ur,{isChecked:N.isVisible,onChange:F=>M(G=>({...G,isVisible:F.target.checked}))}),e.jsx(K,{mb:0,children:"Visible sur le site public"})]}),e.jsxs(Wt,{status:N.isVisible?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"sm",children:N.isVisible?" L'vnement apparatra sur la page Events du site externe":" vnement priv, visible seulement dans l'interface interne"})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Gestion des inscriptions"}),e.jsxs(ne,{spacing:4,align:"start",children:[e.jsxs(Q,{children:[e.jsxs(re,{children:[e.jsx(ur,{isChecked:N.requiresRegistration,onChange:F=>M(G=>({...G,requiresRegistration:F.target.checked}))}),e.jsx(K,{mb:0,children:"Inscription requise pour participer"})]}),e.jsxs(Wt,{status:N.requiresRegistration?"info":"success",mt:2,borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"sm",children:N.requiresRegistration?" Une inscription sera ncessaire pour participer  cet vnement":" Bouton 'Ouvert au public' - Aucune inscription ncessaire"})]})]}),N.requiresRegistration&&e.jsxs(Q,{children:[e.jsxs(re,{children:[e.jsx(ur,{isChecked:N.allowPublicRegistration,onChange:F=>M(G=>({...G,allowPublicRegistration:F.target.checked}))}),e.jsx(K,{mb:0,children:"Le public peut s'inscrire directement"})]}),e.jsxs(Wt,{status:N.allowPublicRegistration?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"sm",children:N.allowPublicRegistration?" Bouton d'inscription disponible sur le site externe":" Bouton 'Contacter l'association' - Inscription via contact uniquement"})]})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Tarification"}),e.jsxs(ne,{spacing:3,align:"start",children:[e.jsx(Q,{children:e.jsxs(re,{children:[e.jsx(ur,{isChecked:N.isFree,onChange:F=>M(G=>({...G,isFree:F.target.checked,adultPrice:F.target.checked?"":G.adultPrice,childPrice:F.target.checked?"":G.childPrice}))}),e.jsx(K,{mb:0,children:"vnement gratuit"})]})}),!N.isFree&&e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Prix adulte ()"}),e.jsx(ge,{type:"number",step:"0.01",value:N.adultPrice,onChange:F=>M(G=>({...G,adultPrice:F.target.value})),placeholder:"15.00"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prix enfant ()"}),e.jsx(ge,{type:"number",step:"0.01",value:N.childPrice,onChange:F=>M(G=>({...G,childPrice:F.target.value})),placeholder:"8.00"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Statut de publication"}),e.jsxs(st,{value:N.status,onChange:F=>M(G=>({...G,status:F.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"})]})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{fontSize:"lg",fontWeight:"bold",mb:4,children:" Choisissez un template pour configurer rapidement votre vnement"}),e.jsx(ft,{columns:{base:1,md:2},spacing:4,w:"100%",children:Object.entries(oj).map(([F,G])=>e.jsx(Ne,{cursor:"pointer",onClick:()=>he(F),bg:x===F?`${G.color}.50`:"white",borderColor:x===F?`${G.color}.200`:"gray.200",borderWidth:"2px",_hover:{borderColor:`${G.color}.300`},children:e.jsx(Ie,{children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(Mn,{as:G.icon,color:`${G.color}.500`}),e.jsx(P,{fontWeight:"bold",color:`${G.color}.700`,children:G.name})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:G.description}),x===F&&e.jsx(et,{colorScheme:G.color,children:"Slectionn"})]})})},F))}),x&&e.jsxs(Wt,{status:"info",borderRadius:"md",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"bold",children:"Template appliqu"}),e.jsx(P,{fontSize:"sm",children:`Vous pouvez maintenant personnaliser les paramtres dans l'onglet "Configuration"`})]})]})]})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:()=>{_(),ae()},children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:fe,isLoading:d,children:T?"Modifier":"Crer"})]})]})]})]})},fJ=t=>{const n={DRAFT:{cs:"gray",label:"Brouillon"},PUBLISHED:{cs:"green",label:"Publi"},ARCHIVED:{cs:"orange",label:"Archiv"}},r=n[t]??n.DRAFT;return e.jsx(et,{colorScheme:r.cs,children:r.label})},pJ=t=>{if(!t)return"Date non dfinie";try{return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}};function mJ(){const t=on(),[n,r]=v.useState([]),[i,l]=v.useState(!0),[u,d]=v.useState(""),[m,p]=v.useState("ALL"),[g,x]=v.useState(null),[y,S]=v.useState([]),[w,C]=v.useState([]),[_,T]=v.useState({revenue:0,expenses:0,profit:0,capacity:0,occupancy:0,rate:0,breakdown:null}),[R,D]=v.useState({url:"",org:"",event:""}),{isOpen:k,onOpen:N,onClose:M}=Rt(),[O,H]=v.useState(!1);v.useEffect(()=>{(async()=>{l(!0);try{const G=await Pa.getAll();r(Array.isArray(G)?G:[])}catch{t({status:"error",title:"Erreur",description:"Impossible de charger les vnements"})}finally{l(!1)}})()},[t]);const U=v.useMemo(()=>{const G=u.trim().toLowerCase();return(n||[]).filter(X=>{const ye=X.title?.toLowerCase().includes(G)||X.location?.toLowerCase().includes(G),ve=m==="ALL"||X.status===m;return ye&&ve})},[n,u,m]),ae=v.useMemo(()=>{const G=n.length,X=n.filter(ve=>ve.status==="PUBLISHED").length,ye=n.filter(ve=>ve.status==="PUBLISHED"&&new Date(ve.date)>new Date).length;return{total:G,published:X,upcoming:ye,totalParticipants:0,totalRevenue:0}},[n]),he=G=>{x(G),S([]),C([{id:1,name:"Trajet principal",vehicle:G.vehicleId||"Bus",capacity:45,stops:[{name:"Dpart",time:"09:00",address:""},{name:G.location||"Arrive",time:"10:00",address:G.location||""}]}]),D({url:G.helloAssoUrl||"",org:G.helloAssoOrg||"",event:G.helloAssoEvent||""}),N()},le=G=>{if(!G?.name||!G?.email){t({status:"warning",title:"Nom et email requis"});return}const X=w.reduce((ve,be)=>ve+(be.capacity||0),0),ye=y.filter(ve=>ve.status==="confirmed").length;if(G.status==="confirmed"&&ye>=X){t({status:"error",title:"Capacit atteinte"});return}S(ve=>[...ve,{id:Date.now(),type:"adult",status:"pending",...G}])},de=(G,X)=>{S(ye=>ye.map(ve=>ve.id===G?{...ve,...X}:ve))},Re=G=>S(X=>X.filter(ye=>ye.id!==G)),fe=()=>{C(G=>[...G,{id:Date.now(),name:"Nouveau trajet",vehicle:"",capacity:0,stops:[]}])},se=(G,X)=>{const ye=parseInt(X||0,10);C(ve=>ve.map(be=>be.id===G?{...be,capacity:ye}:be))},Y=v.useMemo(()=>{if(!g)return null;const G=parseFloat(g.adultPrice||0),X=parseFloat(g.childPrice||0),ye=y.filter(we=>we.status==="confirmed"),ve=ye.filter(we=>we.type==="adult").length,be=ye.filter(we=>we.type==="child").length,He=Math.round(ve*G+be*X),ct=w.reduce((we,Ke)=>we+(Ke.capacity||0),0),Xe=ye.length,dt=ct>0?Math.round(Xe/ct*100):0,Ue=Math.round(He*.25+ct*2+Xe*3),Ht=He-Ue;return{revenue:He,expenses:Ue,profit:Ht,capacity:ct,occupancy:Xe,rate:dt,breakdown:{adult:{price:G,count:ve,total:G*ve},child:{price:X,count:be,total:X*be},expenseLines:[{label:"Base (25%)",amount:Math.round(He*.25)},{label:`Capacit (${ct})`,amount:Math.round(ct*2)},{label:`Participants (${Xe})`,amount:Math.round(Xe*3)}]}}},[g,y,w]);v.useEffect(()=>{Y&&T(Y)},[Y]);const q=async()=>{H(!0);try{t({status:"success",title:"Modifications sauvegardes"})}catch{t({status:"error",title:"Erreur de sauvegarde"})}finally{H(!1)}},[W,Ee]=v.useState({type:"recette",description:"",amount:0,category:""}),[B,ie]=v.useState(!1),[xe,$]=v.useState([]),F=async()=>{if(g){ie(!0);try{const G={id:Date.now(),...W,date:new Date};$(X=>[...X,G]),Ee({type:"recette",description:"",amount:0,category:""}),t({status:"success",title:"Transaction ajoute"})}catch{t({status:"error",title:"Erreur d'ajout de transaction"})}finally{ie(!1)}}};return e.jsxs(ks,{maxW:"7xl",py:6,children:[e.jsxs(ne,{align:"start",spacing:6,mb:8,children:[e.jsxs(re,{w:"100%",justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"lg",children:" Gestion des vnements"}),e.jsx(P,{color:"gray.600",children:"Administration des vnements, participants et finances"})]}),e.jsxs(re,{children:[e.jsx(J,{as:cr,to:"/dashboard/evenements",leftIcon:e.jsx(_n,{}),colorScheme:"blue",variant:"outline",children:"Crer un vnement"}),e.jsx(J,{leftIcon:e.jsx(io,{}),onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})]}),e.jsxs(ft,{columns:{base:2,md:5},spacing:4,w:"100%",children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total"}),e.jsx(vt,{color:"blue.500",children:ae.total})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Publis"}),e.jsx(vt,{color:"green.500",children:ae.published})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:" venir"}),e.jsx(vt,{color:"orange.500",children:ae.upcoming})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Participants"}),e.jsx(vt,{color:"purple.500",children:ae.totalParticipants})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Revenus"}),e.jsxs(vt,{color:"green.600",children:[ae.totalRevenue,""]})]})})})]})]}),e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:4,children:[e.jsxs(kc,{maxW:"320px",children:[e.jsx(Dc,{pointerEvents:"none",children:e.jsx(hm,{})}),e.jsx(ge,{placeholder:"Rechercher un vnement...",value:u,onChange:G=>d(G.target.value)})]}),e.jsxs(st,{maxW:"220px",value:m,onChange:G=>p(G.target.value),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),e.jsx("option",{value:"PUBLISHED",children:"Publis"}),e.jsx("option",{value:"DRAFT",children:"Brouillons"}),e.jsx("option",{value:"ARCHIVED",children:"Archivs"})]})]})})}),i?e.jsx(vn,{py:20,children:e.jsx(mn,{size:"xl"})}):U.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(vn,{py:16,children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{color:"gray.500",children:"Aucun vnement trouv"}),e.jsx(J,{as:cr,to:"/dashboard/evenements",leftIcon:e.jsx(_n,{}),colorScheme:"blue",children:"Crer le premier"})]})})})}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"vnement"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:U.map(G=>e.jsxs(jt,{children:[e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"semibold",children:G.title}),G.location&&e.jsxs(re,{fontSize:"sm",color:"gray.600",children:[e.jsx(_c,{}),e.jsx(P,{children:G.location})]}),G.vehicleId&&e.jsxs(re,{fontSize:"sm",color:"blue.600",children:[e.jsx(Tc,{}),e.jsx(P,{children:G.vehicleId})]})]})}),e.jsxs(Ae,{children:[pJ(G.date),G.time?e.jsx(P,{fontSize:"sm",color:"gray.600",children:G.time}):null]}),e.jsx(Ae,{children:fJ(G.status)}),e.jsx(Ae,{children:e.jsxs(re,{spacing:1,children:[e.jsx(Js,{label:"Gestion complte",children:e.jsx(yt,{"aria-label":"Grer",icon:e.jsx(Wu,{}),size:"sm",variant:"ghost",onClick:()=>he(G)})}),e.jsx(Js,{label:"Modifier l'vnement",children:e.jsx(yt,{as:cr,to:"/dashboard/evenements","aria-label":"Modifier",icon:e.jsx(Fs,{}),size:"sm",variant:"ghost"})}),e.jsx(Js,{label:"Exporter ( venir)",children:e.jsx(yt,{"aria-label":"Exporter",icon:e.jsx(Mi,{}),size:"sm",variant:"ghost",onClick:()=>t({status:"info",title:"Bientt disponible"})})})]})})]},G.id))})]})})}),e.jsxs(wt,{isOpen:k,onClose:M,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsx(Et,{children:e.jsxs(re,{children:[e.jsx(Wu,{}),e.jsxs(P,{ml:2,children:["Gestion : ",g?.title]})]})}),e.jsx($t,{}),e.jsx(Ct,{overflow:"auto",children:e.jsxs(ho,{children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:" Participants"}),e.jsx(dn,{children:" Trajets"}),e.jsx(dn,{children:" Finances"}),e.jsx(dn,{children:" HelloAsso"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(Pe,{size:"md",children:["Participants (",y.length,")"]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",size:"sm",onClick:()=>le({name:"Nouveau participant",email:`user${Date.now()}@mail.com`,type:"adult",status:"pending"}),children:"Ajouter vite (dmo)"})]}),y.length===0?e.jsx(vn,{py:8,children:e.jsx(P,{color:"gray.500",children:"Aucun participant"})}):e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Nom"}),e.jsx(ke,{children:"Email"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{})]})}),e.jsx(Gn,{children:y.map(G=>e.jsxs(jt,{children:[e.jsx(Ae,{fontWeight:"bold",children:G.name}),e.jsx(Ae,{children:G.email}),e.jsx(Ae,{children:e.jsxs(st,{size:"sm",value:G.type,onChange:X=>de(G.id,{type:X.target.value}),children:[e.jsx("option",{value:"adult",children:"Adulte"}),e.jsx("option",{value:"child",children:"Enfant"})]})}),e.jsx(Ae,{children:e.jsxs(st,{size:"sm",value:G.status,onChange:X=>de(G.id,{status:X.target.value}),children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirm"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})}),e.jsx(Ae,{isNumeric:!0,children:e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Re(G.id)})})]},G.id))})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"md",children:"Trajets"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),size:"sm",colorScheme:"blue",onClick:fe,children:"Ajouter un trajet"})]}),e.jsx(Ne,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:e.jsx(Ie,{children:e.jsxs(re,{spacing:8,children:[e.jsxs(gt,{children:[e.jsx(xt,{children:"Capacit totale"}),e.jsxs(vt,{color:"blue.600",children:[_.capacity," places"]})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Confirms"}),e.jsx(vt,{color:"green.600",children:_.occupancy})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Taux d'occupation"}),e.jsxs(vt,{color:"purple.600",children:[_.rate,"%"]})]})]})})}),e.jsx(ft,{columns:{base:1,lg:2},spacing:4,children:w.map(G=>e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"sm",children:G.name}),G.vehicle&&e.jsx(et,{colorScheme:"blue",children:G.vehicle})]})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(re,{children:[e.jsx(zi,{}),e.jsx(P,{fontSize:"sm",children:"Capacit:"}),e.jsxs(On,{size:"sm",min:0,max:200,value:G.capacity||0,onChange:X=>se(G.id,X),w:"90px",children:[e.jsx(Bn,{}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"places"})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(P,{fontSize:"sm",fontWeight:"bold",children:[_.occupancy," / ",G.capacity||0]}),e.jsx(Ec,{value:(G.capacity||0)>0?Math.min(100,Math.round(_.occupancy/G.capacity*100)):0,size:"sm",colorScheme:(G.capacity||0)>0&&_.occupancy/(G.capacity||1)>.9?"red":(G.capacity||0)>0&&_.occupancy/(G.capacity||1)>.75?"orange":"green",flex:1})]}),e.jsx(ue,{fontSize:"sm",color:"gray.600",children:G.stops?.length?e.jsx("ul",{style:{marginLeft:"1rem"},children:G.stops.map((X,ye)=>e.jsxs("li",{children:[X.time?`${X.time}  `:"",X.name]},ye))}):e.jsx(P,{children:"Aucun arrt"})})]})})]},G.id))})]})}),e.jsx(hn,{children:e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsx(Pe,{size:"md",children:"Finances"}),e.jsxs(ft,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Revenus"}),e.jsxs(vt,{color:"green.500",children:[_.revenue,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Dpenses"}),e.jsxs(vt,{color:"red.500",children:[_.expenses,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Bnfice"}),e.jsxs(vt,{color:_.profit>=0?"green.500":"red.500",children:[_.profit,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Taux d'occupation"}),e.jsxs(vt,{color:"blue.500",children:[_.rate,"%"]}),e.jsxs(P,{fontSize:"xs",color:"gray.600",children:[_.occupancy," / ",_.capacity," places"]})]})})})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Revenus"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(P,{children:["Adulte (",_.breakdown?.adult.count,")"]}),e.jsxs(P,{fontWeight:"bold",children:[Math.round(_.breakdown?.adult.total||0),""]})]}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(P,{children:["Enfant (",_.breakdown?.child.count,")"]}),e.jsxs(P,{fontWeight:"bold",children:[Math.round(_.breakdown?.child.total||0),""]})]}),e.jsx(bn,{}),e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontWeight:"bold",children:"Total"}),e.jsxs(P,{fontWeight:"bold",color:"green.500",children:[_.revenue,""]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Dpenses"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[_.breakdown?.expenseLines?.map((G,X)=>e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontSize:"sm",children:G.label}),e.jsxs(P,{fontWeight:"bold",children:[G.amount,""]})]},X)),e.jsx(bn,{}),e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{fontWeight:"bold",children:"Total"}),e.jsxs(P,{fontWeight:"bold",color:"red.500",children:[_.expenses,""]})]})]})})]})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:"Configuration HelloAsso"}),e.jsxs(Q,{children:[e.jsx(K,{children:"URL de l'vnement"}),e.jsx(ge,{placeholder:"https://www.helloasso.com/associations/.../evenements/...",value:R.url,onChange:G=>D(X=>({...X,url:G.target.value}))}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Optionnel : on peut parser plus tard"})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Organisation"}),e.jsx(ge,{value:R.org,onChange:G=>D(X=>({...X,org:G.target.value})),placeholder:"nom-organisation"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"vnement"}),e.jsx(ge,{value:R.event,onChange:G=>D(X=>({...X,event:G.target.value})),placeholder:"nom-evenement"})]})]}),e.jsx(J,{leftIcon:e.jsx(Pl,{}),onClick:()=>t({status:"success",title:"Paramtres enregistrs"}),colorScheme:"blue",children:"Sauvegarder"}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"sm",children:"Participants HelloAsso"}),e.jsx(et,{colorScheme:"gray",children:"Non synchronis"})]})}),e.jsxs(Ie,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"La synchronisation sera ajoute ultrieurement."}),e.jsxs(ue,{mt:3,children:[e.jsxs(vh,{fontSize:"xs",children:["org: ",R.org||"-"]}),"  ",e.jsxs(vh,{fontSize:"xs",children:["event: ",R.event||"-"]})]})]})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(Pe,{size:"md",children:"Transactions lies  lvnement"}),e.jsxs(re,{children:[e.jsxs(st,{maxW:"160px",value:W.type,onChange:G=>Ee(X=>({...X,type:G.target.value})),children:[e.jsx("option",{value:"recette",children:"Recette"}),e.jsx("option",{value:"depense",children:"Dpense"})]}),e.jsx(ge,{placeholder:"Description",value:W.description,onChange:G=>Ee(X=>({...X,description:G.target.value}))}),e.jsxs(On,{maxW:"160px",value:W.amount,min:0,precision:2,step:1,onChange:(G,X)=>Ee(ye=>({...ye,amount:Number.isFinite(X)?X:0})),children:[e.jsx(Bn,{placeholder:"Montant"}),e.jsxs(fi,{children:[e.jsx(mi,{}),e.jsx(pi,{})]})]}),e.jsxs(st,{maxW:"220px",placeholder:"Catgorie",value:W.category,onChange:G=>Ee(X=>({...X,category:G.target.value})),children:[e.jsx("option",{value:"evenements",children:"vnements"}),e.jsx("option",{value:"carburant",children:"Carburant"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"materiel",children:"Matriel"}),e.jsx("option",{value:"autres",children:"Autres"})]}),e.jsx(J,{leftIcon:e.jsx(Pl,{}),colorScheme:"blue",onClick:F,children:"Ajouter"})]}),e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:B?e.jsx(vn,{py:8,children:e.jsx(mn,{})}):xe.length===0?e.jsx(vn,{py:10,children:e.jsx(P,{color:"gray.500",children:"Aucune transaction lie"})}):e.jsxs(Un,{size:"sm",variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{isNumeric:!0,children:"Montant"})]})}),e.jsx(Gn,{children:xe.map(G=>e.jsxs(jt,{children:[e.jsx(Ae,{children:G.date?new Date(G.date).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:G.type==="recette"?"green":"red",children:G.type==="recette"?"Recette":"Dpense"})}),e.jsx(Ae,{children:G.description}),e.jsx(Ae,{children:e.jsx(et,{variant:"subtle",children:G.category||"-"})}),e.jsx(Ae,{isNumeric:!0,children:e.jsx(P,{fontWeight:"bold",color:G.type==="recette"?"green.500":"red.500",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(G.amount||0)})})]},G.id))})]})})})]})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:M,children:"Fermer"}),e.jsx(J,{colorScheme:"blue",leftIcon:e.jsx(Pl,{}),onClick:q,isLoading:O,children:"Sauvegarder"})]})]})]})]})}function EM(t,n){const r=v.useRef(n);v.useEffect(function(){n!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),n!=null&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}const gJ=1;function xJ(t){return Object.freeze({__version:gJ,map:t})}function _M(t,n){return Object.freeze({...t,...n})}const z1=v.createContext(null);function jv(){const t=v.use(z1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function TM(t){function n(r,i){const{instance:l,context:u}=t(r).current;v.useImperativeHandle(i,()=>l);const{children:d}=r;return d==null?null:un.createElement(z1,{value:u},d)}return v.forwardRef(n)}function vJ(t){function n(r,i){const[l,u]=v.useState(!1),{instance:d}=t(r,u).current;v.useImperativeHandle(i,()=>d),v.useEffect(function(){l&&d.update()},[d,l,r.children]);const m=d._contentNode;return m?Ub.createPortal(r.children,m):null}return v.forwardRef(n)}function yJ(t){function n(r,i){const{instance:l}=t(r).current;return v.useImperativeHandle(i,()=>l),null}return v.forwardRef(n)}function I1(t,n){const r=v.useRef(void 0);v.useEffect(function(){return n!=null&&t.instance.on(n),r.current=n,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,n])}function bv(t,n){const r=t.pane??n.pane;return r?{...t,pane:r}:t}function jJ(t,n){return function(i,l){const u=jv(),d=t(bv(i,u),u);return EM(u.map,i.attribution),I1(d.current,i.eventHandlers),n(d.current,u,i,l),d}}var ap={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var bJ=ap.exports,QT;function SJ(){return QT||(QT=1,(function(t,n){(function(r,i){i(n)})(bJ,(function(r){var i="1.9.4";function l(o){var h,j,A,z;for(j=1,A=arguments.length;j<A;j++){z=arguments[j];for(h in z)o[h]=z[h]}return o}var u=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function d(o,h){var j=Array.prototype.slice;if(o.bind)return o.bind.apply(o,j.call(arguments,1));var A=j.call(arguments,2);return function(){return o.apply(h,A.length?A.concat(j.call(arguments)):arguments)}}var m=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++m),o._leaflet_id}function g(o,h,j){var A,z,Z,pe;return pe=function(){A=!1,z&&(Z.apply(j,z),z=!1)},Z=function(){A?z=arguments:(o.apply(j,arguments),setTimeout(pe,h),A=!0)},Z}function x(o,h,j){var A=h[1],z=h[0],Z=A-z;return o===A&&j?o:((o-z)%Z+Z)%Z+z}function y(){return!1}function S(o,h){if(h===!1)return o;var j=Math.pow(10,h===void 0?6:h);return Math.round(o*j)/j}function w(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function C(o){return w(o).split(/\s+/)}function _(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var j in h)o.options[j]=h[j];return o.options}function T(o,h,j){var A=[];for(var z in o)A.push(encodeURIComponent(j?z.toUpperCase():z)+"="+encodeURIComponent(o[z]));return(!h||h.indexOf("?")===-1?"?":"&")+A.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function D(o,h){return o.replace(R,function(j,A){var z=h[A];if(z===void 0)throw new Error("No value provided for variable "+j);return typeof z=="function"&&(z=z(h)),z})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function N(o,h){for(var j=0;j<o.length;j++)if(o[j]===h)return j;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var H=0;function U(o){var h=+new Date,j=Math.max(0,16-(h-H));return H=h+j,window.setTimeout(o,j)}var ae=window.requestAnimationFrame||O("RequestAnimationFrame")||U,he=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function le(o,h,j){if(j&&ae===U)o.call(h);else return ae.call(window,d(o,h))}function de(o){o&&he.call(window,o)}var Re={__proto__:null,extend:l,create:u,bind:d,get lastId(){return m},stamp:p,throttle:g,wrapNum:x,falseFn:y,formatNum:S,trim:w,splitWords:C,setOptions:_,getParamString:T,template:D,isArray:k,indexOf:N,emptyImageUrl:M,requestFn:ae,cancelFn:he,requestAnimFrame:le,cancelAnimFrame:de};function fe(){}fe.extend=function(o){var h=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},j=h.__super__=this.prototype,A=u(j);A.constructor=h,h.prototype=A;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(h[z]=this[z]);return o.statics&&l(h,o.statics),o.includes&&(se(o.includes),l.apply(null,[A].concat(o.includes))),l(A,o),delete A.statics,delete A.includes,A.options&&(A.options=j.options?u(j.options):{},l(A.options,o.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){j.callInitHooks&&j.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,pe=A._initHooks.length;Z<pe;Z++)A._initHooks[Z].call(this)}},h},fe.include=function(o){var h=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},fe.mergeOptions=function(o){return l(this.prototype.options,o),this},fe.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),j=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(j),this};function se(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(o,h,j){if(typeof o=="object")for(var A in o)this._on(A,o[A],h);else{o=C(o);for(var z=0,Z=o.length;z<Z;z++)this._on(o[z],h,j)}return this},off:function(o,h,j){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var A in o)this._off(A,o[A],h);else{o=C(o);for(var z=arguments.length===1,Z=0,pe=o.length;Z<pe;Z++)z?this._off(o[Z]):this._off(o[Z],h,j)}return this},_on:function(o,h,j,A){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,j)===!1){j===this&&(j=void 0);var z={fn:h,ctx:j};A&&(z.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(z)}},_off:function(o,h,j){var A,z,Z;if(this._events&&(A=this._events[o],!!A)){if(arguments.length===1){if(this._firingCount)for(z=0,Z=A.length;z<Z;z++)A[z].fn=y;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var pe=this._listens(o,h,j);if(pe!==!1){var Me=A[pe];this._firingCount&&(Me.fn=y,this._events[o]=A=A.slice()),A.splice(pe,1)}}},fire:function(o,h,j){if(!this.listens(o,j))return this;var A=l({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var z=this._events[o];if(z){this._firingCount=this._firingCount+1||1;for(var Z=0,pe=z.length;Z<pe;Z++){var Me=z[Z],Fe=Me.fn;Me.once&&this.off(o,Fe,Me.ctx),Fe.call(Me.ctx||this,A)}this._firingCount--}}return j&&this._propagateEvent(A),this},listens:function(o,h,j,A){typeof o!="string"&&console.warn('"string" type argument expected');var z=h;typeof h!="function"&&(A=!!h,z=void 0,j=void 0);var Z=this._events&&this._events[o];if(Z&&Z.length&&this._listens(o,z,j)!==!1)return!0;if(A){for(var pe in this._eventParents)if(this._eventParents[pe].listens(o,h,j,A))return!0}return!1},_listens:function(o,h,j){if(!this._events)return!1;var A=this._events[o]||[];if(!h)return!!A.length;j===this&&(j=void 0);for(var z=0,Z=A.length;z<Z;z++)if(A[z].fn===h&&A[z].ctx===j)return z;return!1},once:function(o,h,j){if(typeof o=="object")for(var A in o)this._on(A,o[A],h,!0);else{o=C(o);for(var z=0,Z=o.length;z<Z;z++)this._on(o[z],h,j,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var q=fe.extend(Y);function W(o,h,j){this.x=j?Math.round(o):o,this.y=j?Math.round(h):h}var Ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(o){return this.clone()._add(B(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(B(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new W(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new W(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(o){o=B(o);var h=o.x-this.x,j=o.y-this.y;return Math.sqrt(h*h+j*j)},equals:function(o){return o=B(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=B(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function B(o,h,j){return o instanceof W?o:k(o)?new W(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new W(o.x,o.y):new W(o,h,j)}function ie(o,h){if(o)for(var j=h?[o,h]:o,A=0,z=j.length;A<z;A++)this.extend(j[A])}ie.prototype={extend:function(o){var h,j;if(!o)return this;if(o instanceof W||typeof o[0]=="number"||"x"in o)h=j=B(o);else if(o=xe(o),h=o.min,j=o.max,!h||!j)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=j.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(j.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(j.y,this.max.y)),this},getCenter:function(o){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,j;return typeof o[0]=="number"||o instanceof W?o=B(o):o=xe(o),o instanceof ie?(h=o.min,j=o.max):h=j=o,h.x>=this.min.x&&j.x<=this.max.x&&h.y>=this.min.y&&j.y<=this.max.y},intersects:function(o){o=xe(o);var h=this.min,j=this.max,A=o.min,z=o.max,Z=z.x>=h.x&&A.x<=j.x,pe=z.y>=h.y&&A.y<=j.y;return Z&&pe},overlaps:function(o){o=xe(o);var h=this.min,j=this.max,A=o.min,z=o.max,Z=z.x>h.x&&A.x<j.x,pe=z.y>h.y&&A.y<j.y;return Z&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,j=this.max,A=Math.abs(h.x-j.x)*o,z=Math.abs(h.y-j.y)*o;return xe(B(h.x-A,h.y-z),B(j.x+A,j.y+z))},equals:function(o){return o?(o=xe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function xe(o,h){return!o||o instanceof ie?o:new ie(o,h)}function $(o,h){if(o)for(var j=h?[o,h]:o,A=0,z=j.length;A<z;A++)this.extend(j[A])}$.prototype={extend:function(o){var h=this._southWest,j=this._northEast,A,z;if(o instanceof G)A=o,z=o;else if(o instanceof $){if(A=o._southWest,z=o._northEast,!A||!z)return this}else return o?this.extend(X(o)||F(o)):this;return!h&&!j?(this._southWest=new G(A.lat,A.lng),this._northEast=new G(z.lat,z.lng)):(h.lat=Math.min(A.lat,h.lat),h.lng=Math.min(A.lng,h.lng),j.lat=Math.max(z.lat,j.lat),j.lng=Math.max(z.lng,j.lng)),this},pad:function(o){var h=this._southWest,j=this._northEast,A=Math.abs(h.lat-j.lat)*o,z=Math.abs(h.lng-j.lng)*o;return new $(new G(h.lat-A,h.lng-z),new G(j.lat+A,j.lng+z))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof G||"lat"in o?o=X(o):o=F(o);var h=this._southWest,j=this._northEast,A,z;return o instanceof $?(A=o.getSouthWest(),z=o.getNorthEast()):A=z=o,A.lat>=h.lat&&z.lat<=j.lat&&A.lng>=h.lng&&z.lng<=j.lng},intersects:function(o){o=F(o);var h=this._southWest,j=this._northEast,A=o.getSouthWest(),z=o.getNorthEast(),Z=z.lat>=h.lat&&A.lat<=j.lat,pe=z.lng>=h.lng&&A.lng<=j.lng;return Z&&pe},overlaps:function(o){o=F(o);var h=this._southWest,j=this._northEast,A=o.getSouthWest(),z=o.getNorthEast(),Z=z.lat>h.lat&&A.lat<j.lat,pe=z.lng>h.lng&&A.lng<j.lng;return Z&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=F(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(o,h){return o instanceof $?o:new $(o,h)}function G(o,h,j){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,j!==void 0&&(this.alt=+j)}G.prototype={equals:function(o,h){if(!o)return!1;o=X(o);var j=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return j<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+S(this.lat,o)+", "+S(this.lng,o)+")"},distanceTo:function(o){return ve.distance(this,X(o))},wrap:function(){return ve.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,j=h/Math.cos(Math.PI/180*this.lat);return F([this.lat-h,this.lng-j],[this.lat+h,this.lng+j])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function X(o,h,j){return o instanceof G?o:k(o)&&typeof o[0]!="object"?o.length===3?new G(o[0],o[1],o[2]):o.length===2?new G(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new G(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new G(o,h,j)}var ye={latLngToPoint:function(o,h){var j=this.projection.project(o),A=this.scale(h);return this.transformation._transform(j,A)},pointToLatLng:function(o,h){var j=this.scale(h),A=this.transformation.untransform(o,j);return this.projection.unproject(A)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,j=this.scale(o),A=this.transformation.transform(h.min,j),z=this.transformation.transform(h.max,j);return new ie(A,z)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,j=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,A=o.alt;return new G(j,h,A)},wrapLatLngBounds:function(o){var h=o.getCenter(),j=this.wrapLatLng(h),A=h.lat-j.lat,z=h.lng-j.lng;if(A===0&&z===0)return o;var Z=o.getSouthWest(),pe=o.getNorthEast(),Me=new G(Z.lat-A,Z.lng-z),Fe=new G(pe.lat-A,pe.lng-z);return new $(Me,Fe)}},ve=l({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var j=Math.PI/180,A=o.lat*j,z=h.lat*j,Z=Math.sin((h.lat-o.lat)*j/2),pe=Math.sin((h.lng-o.lng)*j/2),Me=Z*Z+Math.cos(A)*Math.cos(z)*pe*pe,Fe=2*Math.atan2(Math.sqrt(Me),Math.sqrt(1-Me));return this.R*Fe}}),be=6378137,He={R:be,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,j=this.MAX_LATITUDE,A=Math.max(Math.min(j,o.lat),-j),z=Math.sin(A*h);return new W(this.R*o.lng*h,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(o){var h=180/Math.PI;return new G((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=be*Math.PI;return new ie([-o,-o],[o,o])})()};function ct(o,h,j,A){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=j,this._d=A}ct.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new W((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Xe(o,h,j,A){return new ct(o,h,j,A)}var dt=l({},ve,{code:"EPSG:3857",projection:He,transformation:(function(){var o=.5/(Math.PI*He.R);return Xe(o,.5,-o,.5)})()}),Ue=l({},dt,{code:"EPSG:900913"});function Ht(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function we(o,h){var j="",A,z,Z,pe,Me,Fe;for(A=0,Z=o.length;A<Z;A++){for(Me=o[A],z=0,pe=Me.length;z<pe;z++)Fe=Me[z],j+=(z?"L":"M")+Fe.x+" "+Fe.y;j+=h?Tt.svg?"z":"x":""}return j||"M0 0"}var Ke=document.documentElement.style,Bt="ActiveXObject"in window,ce=Bt&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),it=ys("webkit"),It=ys("android"),zn=ys("android 2")||ys("android 3"),dr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),We=It&&ys("Google")&&dr<537&&!("AudioNode"in window),at=!!window.opera,Lt=!je&&ys("chrome"),Qe=ys("gecko")&&!it&&!at&&!Bt,bt=!Lt&&ys("safari"),In=ys("phantom"),Ye="OTransition"in Ke,Mt=navigator.platform.indexOf("Win")===0,ln=Bt&&"transition"in Ke,gn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zn,Kt="MozPerspective"in Ke,Ln=!window.L_DISABLE_3D&&(ln||gn||Kt)&&!Ye&&!In,ot=typeof orientation<"u"||ys("mobile"),An=ot&&it,Sr=ot&&gn,Kr=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||Kr),Bi="ontouchstart"in window||!!window.TouchEvent,ji=!window.L_NO_TOUCH&&(Bi||Wn),Xo=ot&&at,Qr=ot&&Qe,$i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fi=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",y,h),window.removeEventListener("testPassiveEventSupport",y,h)}catch{}return o})(),fo=(function(){return!!document.createElement("canvas").getContext})(),Vs=!!(document.createElementNS&&Ht("svg").createSVGRect),Vi=!!Vs&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Er=!Vs&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Jr=navigator.platform.indexOf("Mac")===0,ga=navigator.platform.indexOf("Linux")===0;function ys(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Tt={ie:Bt,ielt9:ce,edge:je,webkit:it,android:It,android23:zn,androidStock:We,opera:at,chrome:Lt,gecko:Qe,safari:bt,phantom:In,opera12:Ye,win:Mt,ie3d:ln,webkit3d:gn,gecko3d:Kt,any3d:Ln,mobile:ot,mobileWebkit:An,mobileWebkit3d:Sr,msPointer:Kr,pointer:Wn,touch:ji,touchNative:Bi,mobileOpera:Xo,mobileGecko:Qr,retina:$i,passiveEvents:Fi,canvas:fo,svg:Vs,vml:Er,inlineSvg:Vi,mac:Jr,linux:ga},Ol=Tt.msPointer?"MSPointerDown":"pointerdown",Ko=Tt.msPointer?"MSPointerMove":"pointermove",bi=Tt.msPointer?"MSPointerUp":"pointerup",kr=Tt.msPointer?"MSPointerCancel":"pointercancel",cs={touchstart:Ol,touchmove:Ko,touchend:bi,touchcancel:kr},js={touchstart:lt,touchmove:Ds,touchend:Ds,touchcancel:Ds},Us={},ei=!1;function xr(o,h,j){return h==="touchstart"&&Jo(),js[h]?(j=js[h].bind(this,j),o.addEventListener(cs[h],j,!1),j):(console.warn("wrong event specified:",h),y)}function Qo(o,h,j){if(!cs[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(cs[h],j,!1)}function po(o){Us[o.pointerId]=o}function ti(o){Us[o.pointerId]&&(Us[o.pointerId]=o)}function ni(o){delete Us[o.pointerId]}function Jo(){ei||(document.addEventListener(Ol,po,!0),document.addEventListener(Ko,ti,!0),document.addEventListener(bi,ni,!0),document.addEventListener(kr,ni,!0),ei=!0)}function Ds(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var j in Us)h.touches.push(Us[j]);h.changedTouches=[h],o(h)}}function lt(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&vr(h),Ds(o,h)}function Fc(o){var h={},j,A;for(A in o)j=o[A],h[A]=j&&j.bind?j.bind(o):j;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ui=200;function Hi(o,h){o.addEventListener("dblclick",h);var j=0,A;function z(Z){if(Z.detail!==1){A=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var pe=el(Z);if(!(pe.some(function(Fe){return Fe instanceof HTMLLabelElement&&Fe.attributes.for})&&!pe.some(function(Fe){return Fe instanceof HTMLInputElement||Fe instanceof HTMLSelectElement}))){var Me=Date.now();Me-j<=Ui?(A++,A===2&&h(Fc(Z))):A=1,j=Me}}}return o.addEventListener("click",z),{dblclick:h,simDblclick:z}}function ri(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var $a=Yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Si=Yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wi=Si==="webkitTransition"||Si==="OTransition"?Si+"End":"transitionend";function Fa(o){return typeof o=="string"?document.getElementById(o):o}function si(o,h){var j=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!j||j==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(o,null);j=A?A[h]:null}return j==="auto"?null:j}function Sn(o,h,j){var A=document.createElement(o);return A.className=h||"",j&&j.appendChild(A),A}function sr(o){var h=o.parentNode;h&&h.removeChild(o)}function Dr(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Wi(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function Ci(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function qi(o,h){if(o.classList!==void 0)return o.classList.contains(h);var j=Pr(o);return j.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(j)}function nn(o,h){if(o.classList!==void 0)for(var j=C(h),A=0,z=j.length;A<z;A++)o.classList.add(j[A]);else if(!qi(o,h)){var Z=Pr(o);Gi(o,(Z?Z+" ":"")+h)}}function ir(o,h){o.classList!==void 0?o.classList.remove(h):Gi(o,w((" "+Pr(o)+" ").replace(" "+h+" "," ")))}function Gi(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Pr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function es(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&mo(o,h)}function mo(o,h){var j=!1,A="DXImageTransform.Microsoft.Alpha";try{j=o.filters.item(A)}catch{if(h===1)return}h=Math.round(h*100),j?(j.Enabled=h!==100,j.Opacity=h):o.style.filter+=" progid:"+A+"(opacity="+h+")"}function Yi(o){for(var h=document.documentElement.style,j=0;j<o.length;j++)if(o[j]in h)return o[j];return!1}function bs(o,h,j){var A=h||new W(0,0);o.style[$a]=(Tt.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(j?" scale("+j+")":"")}function hr(o,h){o._leaflet_pos=h,Tt.any3d?bs(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Zi(o){return o._leaflet_pos||new W(0,0)}var Ps,Va,yn;if("onselectstart"in document)Ps=function(){Ut(window,"selectstart",vr)},Va=function(){Rn(window,"selectstart",vr)};else{var Lr=Yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ps=function(){if(Lr){var o=document.documentElement.style;yn=o[Lr],o[Lr]="none"}},Va=function(){Lr&&(document.documentElement.style[Lr]=yn,yn=void 0)}}function Ss(){Ut(window,"dragstart",vr)}function go(){Rn(window,"dragstart",vr)}var xo,Xi;function Hs(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ii(),xo=o,Xi=o.style.outlineStyle,o.style.outlineStyle="none",Ut(window,"keydown",ii))}function ii(){xo&&(xo.style.outlineStyle=Xi,xo=void 0,Xi=void 0,Rn(window,"keydown",ii))}function ws(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ws(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Ki={__proto__:null,TRANSFORM:$a,TRANSITION:Si,TRANSITION_END:wi,get:Fa,getStyle:si,create:Sn,remove:sr,empty:Dr,toFront:Wi,toBack:Ci,hasClass:qi,addClass:nn,removeClass:ir,setClass:Gi,getClass:Pr,setOpacity:es,testProp:Yi,setTransform:bs,setPosition:hr,getPosition:Zi,get disableTextSelection(){return Ps},get enableTextSelection(){return Va},disableImageDrag:Ss,enableImageDrag:go,preventOutline:Hs,restoreOutline:ii,getSizedParentNode:ws,getScale:Ws};function Ut(o,h,j,A){if(h&&typeof h=="object")for(var z in h)Gs(o,z,h[z],j);else{h=C(h);for(var Z=0,pe=h.length;Z<pe;Z++)Gs(o,h[Z],j,A)}return this}var Or="_leaflet_events";function Rn(o,h,j,A){if(arguments.length===1)_r(o),delete o[Or];else if(h&&typeof h=="object")for(var z in h)Cs(o,z,h[z],j);else if(h=C(h),arguments.length===2)_r(o,function(Me){return N(h,Me)!==-1});else for(var Z=0,pe=h.length;Z<pe;Z++)Cs(o,h[Z],j,A);return this}function _r(o,h){for(var j in o[Or]){var A=j.split(/\d/)[0];(!h||h(A))&&Cs(o,A,null,null,j)}}var qs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gs(o,h,j,A){var z=h+p(j)+(A?"_"+p(A):"");if(o[Or]&&o[Or][z])return this;var Z=function(Me){return j.call(A||o,Me||window.event)},pe=Z;!Tt.touchNative&&Tt.pointer&&h.indexOf("touch")===0?Z=xr(o,h,Z):Tt.touch&&h==="dblclick"?Z=Hi(o,Z):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(qs[h]||h,Z,Tt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(Z=function(Me){Me=Me||window.event,pt(o,Me)&&pe(Me)},o.addEventListener(qs[h],Z,!1)):o.addEventListener(h,pe,!1):o.attachEvent("on"+h,Z),o[Or]=o[Or]||{},o[Or][z]=Z}function Cs(o,h,j,A,z){z=z||h+p(j)+(A?"_"+p(A):"");var Z=o[Or]&&o[Or][z];if(!Z)return this;!Tt.touchNative&&Tt.pointer&&h.indexOf("touch")===0?Qo(o,h,Z):Tt.touch&&h==="dblclick"?ri(o,Z):"removeEventListener"in o?o.removeEventListener(qs[h]||h,Z,!1):o.detachEvent("on"+h,Z),o[Or][z]=null}function ai(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Qi(o){return Gs(o,"wheel",ai),this}function Ua(o){return Ut(o,"mousedown touchstart dblclick contextmenu",ai),o._leaflet_disable_click=!0,this}function vr(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function us(o){return vr(o),ai(o),this}function el(o){if(o.composedPath)return o.composedPath();for(var h=[],j=o.target;j;)h.push(j),j=j.parentNode;return h}function oe(o,h){if(!h)return new W(o.clientX,o.clientY);var j=Ws(h),A=j.boundingClientRect;return new W((o.clientX-A.left)/j.x-h.clientLeft,(o.clientY-A.top)/j.y-h.clientTop)}var Ce=Tt.linux&&Tt.chrome?window.devicePixelRatio:Tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Be(o){return Tt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ce:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function pt(o,h){var j=h.relatedTarget;if(!j)return!0;try{for(;j&&j!==o;)j=j.parentNode}catch{return!1}return j!==o}var rt={__proto__:null,on:Ut,off:Rn,stopPropagation:ai,disableScrollPropagation:Qi,disableClickPropagation:Ua,preventDefault:vr,stop:us,getPropagationPath:el,getMousePosition:oe,getWheelDelta:Be,isExternalTarget:pt,addListener:Ut,removeListener:Rn},an=q.extend({run:function(o,h,j,A){this.stop(),this._el=o,this._inProgress=!0,this._duration=j||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=Zi(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,j=this._duration*1e3;h<j?this._runFrame(this._easeOut(h/j),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var j=this._startPos.add(this._offset.multiplyBy(o));h&&j._round(),hr(this._el,j),this.fire("step")},_complete:function(){de(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Dt=q.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=_(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(X(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Si&&Tt.any3d&&!Tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,j){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(X(o),h,this.options.maxBounds),j=j||{},this._stop(),this._loaded&&!j.reset&&j!==!0){j.animate!==void 0&&(j.zoom=l({animate:j.animate},j.zoom),j.pan=l({animate:j.animate,duration:j.duration},j.pan));var A=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,j.zoom):this._tryAnimatedPan(o,j.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,j.pan&&j.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,j){var A=this.getZoomScale(h),z=this.getSize().divideBy(2),Z=o instanceof W?o:this.latLngToContainerPoint(o),pe=Z.subtract(z).multiplyBy(1-1/A),Me=this.containerPointToLatLng(z.add(pe));return this.setView(Me,h,{zoom:j})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():F(o);var j=B(h.paddingTopLeft||h.padding||[0,0]),A=B(h.paddingBottomRight||h.padding||[0,0]),z=this.getBoundsZoom(o,!1,j.add(A));if(z=typeof h.maxZoom=="number"?Math.min(h.maxZoom,z):z,z===1/0)return{center:o.getCenter(),zoom:z};var Z=A.subtract(j).divideBy(2),pe=this.project(o.getSouthWest(),z),Me=this.project(o.getNorthEast(),z),Fe=this.unproject(pe.add(Me).divideBy(2).add(Z),z);return{center:Fe,zoom:z}},fitBounds:function(o,h){if(o=F(o),!o.isValid())throw new Error("Bounds are not valid.");var j=this._getBoundsCenterZoom(o,h);return this.setView(j.center,j.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=B(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new an,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){nn(this._mapPane,"leaflet-pan-anim");var j=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,j,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,j){if(j=j||{},j.animate===!1||!Tt.any3d)return this.setView(o,h,j);this._stop();var A=this.project(this.getCenter()),z=this.project(o),Z=this.getSize(),pe=this._zoom;o=X(o),h=h===void 0?pe:h;var Me=Math.max(Z.x,Z.y),Fe=Me*this.getZoomScale(pe,h),Je=z.distanceTo(A)||1,mt=1.42,Pt=mt*mt;function Ot(Tr){var ba=Tr?-1:1,Xa=Tr?Fe:Me,wo=Fe*Fe-Me*Me+ba*Pt*Pt*Je*Je,Ka=2*Xa*Pt*Je,ru=wo/Ka,dd=Math.sqrt(ru*ru+1)-ru,su=dd<1e-9?-18:Math.log(dd);return su}function rn(Tr){return(Math.exp(Tr)-Math.exp(-Tr))/2}function yr(Tr){return(Math.exp(Tr)+Math.exp(-Tr))/2}function zr(Tr){return rn(Tr)/yr(Tr)}var _s=Ot(0);function _i(Tr){return Me*(yr(_s)/yr(_s+mt*Tr))}function jm(Tr){return Me*(yr(_s)*zr(_s+mt*Tr)-rn(_s))/Pt}function bm(Tr){return 1-Math.pow(1-Tr,1.5)}var nu=Date.now(),Zl=(Ot(1)-_s)/mt,Sm=j.duration?1e3*j.duration:1e3*Zl*.8;function Xl(){var Tr=(Date.now()-nu)/Sm,ba=bm(Tr)*Zl;Tr<=1?(this._flyToFrame=le(Xl,this),this._move(this.unproject(A.add(z.subtract(A).multiplyBy(jm(ba)/Je)),pe),this.getScaleZoom(Me/_i(ba),pe),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,j.noMoveStart),Xl.call(this),this},flyToBounds:function(o,h){var j=this._getBoundsCenterZoom(o,h);return this.flyTo(j.center,j.zoom,h)},setMaxBounds:function(o){return o=F(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var j=this.getCenter(),A=this._limitCenter(j,this._zoom,F(o));return j.equals(A)||this.panTo(A,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var j=B(h.paddingTopLeft||h.padding||[0,0]),A=B(h.paddingBottomRight||h.padding||[0,0]),z=this.project(this.getCenter()),Z=this.project(o),pe=this.getPixelBounds(),Me=xe([pe.min.add(j),pe.max.subtract(A)]),Fe=Me.getSize();if(!Me.contains(Z)){this._enforcingBounds=!0;var Je=Z.subtract(Me.getCenter()),mt=Me.extend(Z).getSize().subtract(Fe);z.x+=Je.x<0?-mt.x:mt.x,z.y+=Je.y<0?-mt.y:mt.y,this.panTo(this.unproject(z),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var j=this.getSize(),A=h.divideBy(2).round(),z=j.divideBy(2).round(),Z=A.subtract(z);return!Z.x&&!Z.y?this:(o.animate&&o.pan?this.panBy(Z):(o.pan&&this._rawPanBy(Z),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:j}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=d(this._handleGeolocationResponse,this),j=d(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,j,o):navigator.geolocation.getCurrentPosition(h,j,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,j=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+j+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,j=o.coords.longitude,A=new G(h,j),z=A.toBounds(o.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var pe=this.getBoundsZoom(z);this.setView(A,Z.maxZoom?Math.min(pe,Z.maxZoom):pe)}var Me={latlng:A,bounds:z,timestamp:o.timestamp};for(var Fe in o.coords)typeof o.coords[Fe]=="number"&&(Me[Fe]=o.coords[Fe]);this.fire("locationfound",Me)}},addHandler:function(o,h){if(!h)return this;var j=this[o]=new h(this);return this._handlers.push(j),this.options[o]&&j.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(de(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)sr(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var j="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),A=Sn("div",j,h||this._mapPane);return o&&(this._panes[o]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),j=this.unproject(o.getTopRight());return new $(h,j)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,j){o=F(o),j=B(j||[0,0]);var A=this.getZoom()||0,z=this.getMinZoom(),Z=this.getMaxZoom(),pe=o.getNorthWest(),Me=o.getSouthEast(),Fe=this.getSize().subtract(j),Je=xe(this.project(Me,A),this.project(pe,A)).getSize(),mt=Tt.any3d?this.options.zoomSnap:1,Pt=Fe.x/Je.x,Ot=Fe.y/Je.y,rn=h?Math.max(Pt,Ot):Math.min(Pt,Ot);return A=this.getScaleZoom(rn,A),mt&&(A=Math.round(A/(mt/100))*(mt/100),A=h?Math.ceil(A/mt)*mt:Math.floor(A/mt)*mt),Math.max(z,Math.min(Z,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var j=this._getTopLeftPoint(o,h);return new ie(j,j.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var j=this.options.crs;return h=h===void 0?this._zoom:h,j.scale(o)/j.scale(h)},getScaleZoom:function(o,h){var j=this.options.crs;h=h===void 0?this._zoom:h;var A=j.zoom(o*j.scale(h));return isNaN(A)?1/0:A},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(X(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(B(o),h)},layerPointToLatLng:function(o){var h=B(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(X(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(X(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(F(o))},distance:function(o,h){return this.options.crs.distance(X(o),X(h))},containerPointToLayerPoint:function(o){return B(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return B(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(B(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(o)))},mouseEventToContainerPoint:function(o){return oe(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Fa(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tt.any3d,nn(o,"leaflet-container"+(Tt.touch?" leaflet-touch":"")+(Tt.retina?" leaflet-retina":"")+(Tt.ielt9?" leaflet-oldie":"")+(Tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=si(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hr(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nn(o.markerPane,"leaflet-zoom-hide"),nn(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,j){hr(this._mapPane,new W(0,0));var A=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var z=this._zoom!==h;this._moveStart(z,j)._move(o,h)._moveEnd(z),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,j,A){h===void 0&&(h=this._zoom);var z=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),A?j&&j.pinch&&this.fire("zoom",j):((z||j&&j.pinch)&&this.fire("zoom",j),this.fire("move",j)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return de(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){hr(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var h=o?Rn:Ut;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Tt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){de(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var j=[],A,z=h==="mouseout"||h==="mouseover",Z=o.target||o.srcElement,pe=!1;Z;){if(A=this._targets[p(Z)],A&&(h==="click"||h==="preclick")&&this._draggableMoved(A)){pe=!0;break}if(A&&A.listens(h,!0)&&(z&&!pt(Z,o)||(j.push(A),z))||Z===this._container)break;Z=Z.parentNode}return!j.length&&!pe&&!z&&this.listens(h,!0)&&(j=[this]),j},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var j=o.type;j==="mousedown"&&Hs(h),this._fireDOMEvent(o,j)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,j){if(o.type==="click"){var A=l({},o);A.type="preclick",this._fireDOMEvent(A,A.type,j)}var z=this._findEventTargets(o,h);if(j){for(var Z=[],pe=0;pe<j.length;pe++)j[pe].listens(h,!0)&&Z.push(j[pe]);z=Z.concat(z)}if(z.length){h==="contextmenu"&&vr(o);var Me=z[0],Fe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Je=Me.getLatLng&&(!Me._radius||Me._radius<=10);Fe.containerPoint=Je?this.latLngToContainerPoint(Me.getLatLng()):this.mouseEventToContainerPoint(o),Fe.layerPoint=this.containerPointToLayerPoint(Fe.containerPoint),Fe.latlng=Je?Me.getLatLng():this.layerPointToLatLng(Fe.layerPoint)}for(pe=0;pe<z.length;pe++)if(z[pe].fire(h,Fe,!0),Fe.originalEvent._stopped||z[pe].options.bubblingMouseEvents===!1&&N(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Zi(this._mapPane)||new W(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var j=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return j.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var j=this.getSize()._divideBy(2);return this.project(o,h)._subtract(j)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,j){var A=this._getNewPixelOrigin(j,h);return this.project(o,h)._subtract(A)},_latLngBoundsToNewLayerBounds:function(o,h,j){var A=this._getNewPixelOrigin(j,h);return xe([this.project(o.getSouthWest(),h)._subtract(A),this.project(o.getNorthWest(),h)._subtract(A),this.project(o.getSouthEast(),h)._subtract(A),this.project(o.getNorthEast(),h)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,j){if(!j)return o;var A=this.project(o,h),z=this.getSize().divideBy(2),Z=new ie(A.subtract(z),A.add(z)),pe=this._getBoundsOffset(Z,j,h);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?o:this.unproject(A.add(pe),h)},_limitOffset:function(o,h){if(!h)return o;var j=this.getPixelBounds(),A=new ie(j.min.add(o),j.max.add(o));return o.add(this._getBoundsOffset(A,h))},_getBoundsOffset:function(o,h,j){var A=xe(this.project(h.getNorthEast(),j),this.project(h.getSouthWest(),j)),z=A.min.subtract(o.min),Z=A.max.subtract(o.max),pe=this._rebound(z.x,-Z.x),Me=this._rebound(z.y,-Z.y);return new W(pe,Me)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),j=this.getMaxZoom(),A=Tt.any3d?this.options.zoomSnap:1;return A&&(o=Math.round(o/A)*A),Math.max(h,Math.min(j,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ir(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var j=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(j)?!1:(this.panBy(j,h),!0)},_createAnimProxy:function(){var o=this._proxy=Sn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var j=$a,A=this._proxy.style[j];bs(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),A===this._proxy.style[j]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();bs(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,j){if(this._animatingZoom)return!0;if(j=j||{},!this._zoomAnimated||j.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(h),z=this._getCenterOffset(o)._divideBy(1-1/A);return j.animate!==!0&&!this.getSize().contains(z)?!1:(le(function(){this._moveStart(!0,j.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,j,A){this._mapPane&&(j&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,nn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ir(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fn(o,h){return new Dt(o,h)}var cn=fe.extend({options:{position:"topright"},initialize:function(o){_(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),j=this.getPosition(),A=o._controlCorners[j];return nn(h,"leaflet-control"),j.indexOf("bottom")!==-1?A.insertBefore(h,A.firstChild):A.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Mr=function(o){return new cn(o)};Dt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",j=this._controlContainer=Sn("div",h+"control-container",this._container);function A(z,Z){var pe=h+z+" "+h+Z;o[z+Z]=Sn("div",pe,j)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)sr(this._controlCorners[o]);sr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ts=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,j,A){return j<A?-1:A<j?1:0}},initialize:function(o,h,j){_(this,j),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in o)this._addLayer(o[A],A);for(A in h)this._addLayer(h[A],A,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return cn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){nn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(nn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ir(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ir(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Sn("div",o),j=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ua(h),Qi(h);var A=this._section=Sn("section",o+"-list");j&&(this._map.on("click",this.collapse,this),Ut(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=Sn("a",o+"-toggle",h);z.href="#",z.title="Layers",z.setAttribute("role","button"),Ut(z,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){vr(Z),this._expandSafely()}},this),j||this.expand(),this._baseLayersList=Sn("div",o+"-base",A),this._separator=Sn("div",o+"-separator",A),this._overlaysList=Sn("div",o+"-overlays",A),h.appendChild(A)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,j){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:j}),this.options.sortLayers&&this._layers.sort(d(function(A,z){return this.options.sortFunction(A.layer,z.layer,A.name,z.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Dr(this._baseLayersList),Dr(this._overlaysList),this._layerControlInputs=[];var o,h,j,A,z=0;for(j=0;j<this._layers.length;j++)A=this._layers[j],this._addItem(A),h=h||A.overlay,o=o||!A.overlay,z+=A.overlay?0:1;return this.options.hideSingleBase&&(o=o&&z>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(p(o.target)),j=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;j&&this._map.fire(j,h)},_createRadioElement:function(o,h){var j='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=j,A.firstChild},_addItem:function(o){var h=document.createElement("label"),j=this._map.hasLayer(o.layer),A;o.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=j):A=this._createRadioElement("leaflet-base-layers_"+p(this),j),this._layerControlInputs.push(A),A.layerId=p(o.layer),Ut(A,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+o.name;var Z=document.createElement("span");h.appendChild(Z),Z.appendChild(A),Z.appendChild(z);var pe=o.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,j,A=[],z=[];this._handlingClick=!0;for(var Z=o.length-1;Z>=0;Z--)h=o[Z],j=this._getLayer(h.layerId).layer,h.checked?A.push(j):h.checked||z.push(j);for(Z=0;Z<z.length;Z++)this._map.hasLayer(z[Z])&&this._map.removeLayer(z[Z]);for(Z=0;Z<A.length;Z++)this._map.hasLayer(A[Z])||this._map.addLayer(A[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,j,A=this._map.getZoom(),z=o.length-1;z>=0;z--)h=o[z],j=this._getLayer(h.layerId).layer,h.disabled=j.options.minZoom!==void 0&&A<j.options.minZoom||j.options.maxZoom!==void 0&&A>j.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ut(o,"click",vr),this.expand();var h=this;setTimeout(function(){Rn(o,"click",vr),h._preventClick=!1})}}),Ji=function(o,h,j){return new ts(o,h,j)},Ha=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",j=Sn("div",h+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,h+"-in",j,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,h+"-out",j,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),j},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,j,A,z){var Z=Sn("a",j,A);return Z.innerHTML=o,Z.href="#",Z.title=h,Z.setAttribute("role","button"),Z.setAttribute("aria-label",h),Ua(Z),Ut(Z,"click",us),Ut(Z,"click",z,this),Ut(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";ir(this._zoomInButton,h),ir(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(nn(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(nn(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Dt.mergeOptions({zoomControl:!0}),Dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ha,this.addControl(this.zoomControl))});var Wa=function(o){return new Ha(o)},tl=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",j=Sn("div",h),A=this.options;return this._addScales(A,h+"-line",j),o.on(A.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),j},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,j){o.metric&&(this._mScale=Sn("div",h,j)),o.imperial&&(this._iScale=Sn("div",h,j))},_update:function(){var o=this._map,h=o.getSize().y/2,j=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(j)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),j=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,j,h/o)},_updateImperial:function(o){var h=o*3.2808399,j,A,z;h>5280?(j=h/5280,A=this._getRoundNum(j),this._updateScale(this._iScale,A+" mi",A/j)):(z=this._getRoundNum(h),this._updateScale(this._iScale,z+" ft",z/h))},_updateScale:function(o,h,j){o.style.width=Math.round(this.options.maxWidth*j)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),j=o/h;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:1,h*j}}),Ih=function(o){return new tl(o)},Nh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vc=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tt.inlineSvg?Nh+" ":"")+"Leaflet</a>"},initialize:function(o){_(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Sn("div","leaflet-control-attribution"),Ua(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var j=[];this.options.prefix&&j.push(this.options.prefix),o.length&&j.push(o.join(", ")),this._container.innerHTML=j.join(' <span aria-hidden="true">|</span> ')}}});Dt.mergeOptions({attributionControl:!0}),Dt.addInitHook(function(){this.options.attributionControl&&new Vc().addTo(this)});var Lh=function(o){return new Vc(o)};cn.Layers=ts,cn.Zoom=Ha,cn.Scale=tl,cn.Attribution=Vc,Mr.layers=Ji,Mr.zoom=Wa,Mr.scale=Ih,Mr.attribution=Lh;var oi=fe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(o,h){return o.addHandler(h,this),this};var Oh={Events:Y},Qu=Tt.touch?"touchstart mousedown":"mousedown",xa=q.extend({options:{clickTolerance:3},initialize:function(o,h,j,A){_(this,A),this._element=o,this._dragStartTarget=h||o,this._preventOutline=j},enable:function(){this._enabled||(Ut(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xa._dragging===this&&this.finishDrag(!0),Rn(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!qi(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){xa._dragging===this&&this.finishDrag();return}if(!(xa._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(xa._dragging=this,this._preventOutline&&Hs(this._element),Ss(),Ps(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,j=ws(this._element);this._startPoint=new W(h.clientX,h.clientY),this._startPos=Zi(this._element),this._parentScale=Ws(j);var A=o.type==="mousedown";Ut(document,A?"mousemove":"touchmove",this._onMove,this),Ut(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,j=new W(h.clientX,h.clientY)._subtract(this._startPoint);!j.x&&!j.y||Math.abs(j.x)+Math.abs(j.y)<this.options.clickTolerance||(j.x/=this._parentScale.x,j.y/=this._parentScale.y,vr(o),this._moved||(this.fire("dragstart"),this._moved=!0,nn(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(j),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),hr(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ir(document.body,"leaflet-dragging"),this._lastTarget&&(ir(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Rn(document,"mousemove touchmove",this._onMove,this),Rn(document,"mouseup touchend touchcancel",this._onUp,this),go(),Va();var h=this._moved&&this._moving;this._moving=!1,xa._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ju(o,h,j){var A,z=[1,4,2,8],Z,pe,Me,Fe,Je,mt,Pt,Ot;for(Z=0,mt=o.length;Z<mt;Z++)o[Z]._code=qa(o[Z],h);for(Me=0;Me<4;Me++){for(Pt=z[Me],A=[],Z=0,mt=o.length,pe=mt-1;Z<mt;pe=Z++)Fe=o[Z],Je=o[pe],Fe._code&Pt?Je._code&Pt||(Ot=$l(Je,Fe,Pt,h,j),Ot._code=qa(Ot,h),A.push(Ot)):(Je._code&Pt&&(Ot=$l(Je,Fe,Pt,h,j),Ot._code=qa(Ot,h),A.push(Ot)),A.push(Fe));o=A}return o}function Ms(o,h){var j,A,z,Z,pe,Me,Fe,Je,mt;if(!o||o.length===0)throw new Error("latlngs not passed");ns(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Pt=X([0,0]),Ot=F(o),rn=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());rn<1700&&(Pt=Uc(o));var yr=o.length,zr=[];for(j=0;j<yr;j++){var _s=X(o[j]);zr.push(h.project(X([_s.lat-Pt.lat,_s.lng-Pt.lng])))}for(Me=Fe=Je=0,j=0,A=yr-1;j<yr;A=j++)z=zr[j],Z=zr[A],pe=z.y*Z.x-Z.y*z.x,Fe+=(z.x+Z.x)*pe,Je+=(z.y+Z.y)*pe,Me+=pe*3;Me===0?mt=zr[0]:mt=[Fe/Me,Je/Me];var _i=h.unproject(B(mt));return X([_i.lat+Pt.lat,_i.lng+Pt.lng])}function Uc(o){for(var h=0,j=0,A=0,z=0;z<o.length;z++){var Z=X(o[z]);h+=Z.lat,j+=Z.lng,A++}return X([h/A,j/A])}var Bh={__proto__:null,clipPolygon:Ju,polygonCenter:Ms,centroid:Uc};function Hc(o,h){if(!h||!o.length)return o.slice();var j=h*h;return o=vo(o,j),o=ed(o,j),o}function Bl(o,h,j){return Math.sqrt(Ga(o,h,j,!0))}function $h(o,h,j){return Ga(o,h,j)}function ed(o,h){var j=o.length,A=typeof Uint8Array<"u"?Uint8Array:Array,z=new A(j);z[0]=z[j-1]=1,Wc(o,z,h,0,j-1);var Z,pe=[];for(Z=0;Z<j;Z++)z[Z]&&pe.push(o[Z]);return pe}function Wc(o,h,j,A,z){var Z=0,pe,Me,Fe;for(Me=A+1;Me<=z-1;Me++)Fe=Ga(o[Me],o[A],o[z],!0),Fe>Z&&(pe=Me,Z=Fe);Z>j&&(h[pe]=1,Wc(o,h,j,A,pe),Wc(o,h,j,pe,z))}function vo(o,h){for(var j=[o[0]],A=1,z=0,Z=o.length;A<Z;A++)qc(o[A],o[z])>h&&(j.push(o[A]),z=A);return z<Z-1&&j.push(o[Z-1]),j}var td;function nd(o,h,j,A,z){var Z=A?td:qa(o,j),pe=qa(h,j),Me,Fe,Je;for(td=pe;;){if(!(Z|pe))return[o,h];if(Z&pe)return!1;Me=Z||pe,Fe=$l(o,h,Me,j,z),Je=qa(Fe,j),Me===Z?(o=Fe,Z=Je):(h=Fe,pe=Je)}}function $l(o,h,j,A,z){var Z=h.x-o.x,pe=h.y-o.y,Me=A.min,Fe=A.max,Je,mt;return j&8?(Je=o.x+Z*(Fe.y-o.y)/pe,mt=Fe.y):j&4?(Je=o.x+Z*(Me.y-o.y)/pe,mt=Me.y):j&2?(Je=Fe.x,mt=o.y+pe*(Fe.x-o.x)/Z):j&1&&(Je=Me.x,mt=o.y+pe*(Me.x-o.x)/Z),new W(Je,mt,z)}function qa(o,h){var j=0;return o.x<h.min.x?j|=1:o.x>h.max.x&&(j|=2),o.y<h.min.y?j|=4:o.y>h.max.y&&(j|=8),j}function qc(o,h){var j=h.x-o.x,A=h.y-o.y;return j*j+A*A}function Ga(o,h,j,A){var z=h.x,Z=h.y,pe=j.x-z,Me=j.y-Z,Fe=pe*pe+Me*Me,Je;return Fe>0&&(Je=((o.x-z)*pe+(o.y-Z)*Me)/Fe,Je>1?(z=j.x,Z=j.y):Je>0&&(z+=pe*Je,Z+=Me*Je)),pe=o.x-z,Me=o.y-Z,A?pe*pe+Me*Me:new W(z,Z)}function ns(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function I(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ns(o)}function te(o,h){var j,A,z,Z,pe,Me,Fe,Je;if(!o||o.length===0)throw new Error("latlngs not passed");ns(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var mt=X([0,0]),Pt=F(o),Ot=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Ot<1700&&(mt=Uc(o));var rn=o.length,yr=[];for(j=0;j<rn;j++){var zr=X(o[j]);yr.push(h.project(X([zr.lat-mt.lat,zr.lng-mt.lng])))}for(j=0,A=0;j<rn-1;j++)A+=yr[j].distanceTo(yr[j+1])/2;if(A===0)Je=yr[0];else for(j=0,Z=0;j<rn-1;j++)if(pe=yr[j],Me=yr[j+1],z=pe.distanceTo(Me),Z+=z,Z>A){Fe=(Z-A)/z,Je=[Me.x-Fe*(Me.x-pe.x),Me.y-Fe*(Me.y-pe.y)];break}var _s=h.unproject(B(Je));return X([_s.lat+mt.lat,_s.lng+mt.lng])}var nt={__proto__:null,simplify:Hc,pointToSegmentDistance:Bl,closestPointOnSegment:$h,clipSegment:nd,_getEdgeIntersection:$l,_getBitCode:qa,_sqClosestPointOnSegment:Ga,isFlat:ns,_flat:I,polylineCenter:te},At={project:function(o){return new W(o.lng,o.lat)},unproject:function(o){return new G(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},xn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,j=this.R,A=o.lat*h,z=this.R_MINOR/j,Z=Math.sqrt(1-z*z),pe=Z*Math.sin(A),Me=Math.tan(Math.PI/4-A/2)/Math.pow((1-pe)/(1+pe),Z/2);return A=-j*Math.log(Math.max(Me,1e-10)),new W(o.lng*h*j,A)},unproject:function(o){for(var h=180/Math.PI,j=this.R,A=this.R_MINOR/j,z=Math.sqrt(1-A*A),Z=Math.exp(-o.y/j),pe=Math.PI/2-2*Math.atan(Z),Me=0,Fe=.1,Je;Me<15&&Math.abs(Fe)>1e-7;Me++)Je=z*Math.sin(pe),Je=Math.pow((1-Je)/(1+Je),z/2),Fe=Math.PI/2-2*Math.atan(Z*Je)-pe,pe+=Fe;return new G(pe*h,o.x*h/j)}},Zt={__proto__:null,LonLat:At,Mercator:xn,SphericalMercator:He},qn=l({},ve,{code:"EPSG:3395",projection:xn,transformation:(function(){var o=.5/(Math.PI*xn.R);return Xe(o,.5,-o,.5)})()}),Ei=l({},ve,{code:"EPSG:4326",projection:At,transformation:Xe(1/180,1,-1/180,.5)}),Es=l({},ye,{projection:At,transformation:Xe(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var j=h.lng-o.lng,A=h.lat-o.lat;return Math.sqrt(j*j+A*A)},infinite:!0});ye.Earth=ve,ye.EPSG3395=qn,ye.EPSG3857=dt,ye.EPSG900913=Ue,ye.EPSG4326=Ei,ye.Simple=Es;var Br=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var j=this.getEvents();h.on(j,this),this.once("remove",function(){h.off(j,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Dt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=p(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,h){for(var j in this._layers)o.call(h,this._layers[j]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var h=0,j=o.length;h<j;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=p(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,j=this._getZoomSpan();for(var A in this._zoomBoundLayers){var z=this._zoomBoundLayers[A].options;o=z.minZoom===void 0?o:Math.min(o,z.minZoom),h=z.maxZoom===void 0?h:Math.max(h,z.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,j!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Nn=Br.extend({initialize:function(o,h){_(this,h),this._layers={};var j,A;if(o)for(j=0,A=o.length;j<A;j++)this.addLayer(o[j])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),j,A;for(j in this._layers)A=this._layers[j],A[o]&&A[o].apply(A,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var j in this._layers)o.call(h,this._layers[j]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),$r=function(o,h){return new Nn(o,h)},ds=Nn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Nn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Nn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new $;for(var h in this._layers){var j=this._layers[h];o.extend(j.getBounds?j.getBounds():j.getLatLng())}return o}}),va=function(o,h){return new ds(o,h)},yo=fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){_(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var j=this._getIconUrl(o);if(!j){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(j,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(A,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(o,h){var j=this.options,A=j[h+"Size"];typeof A=="number"&&(A=[A,A]);var z=B(A),Z=B(h==="shadow"&&j.shadowAnchor||j.iconAnchor||z&&z.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(j.className||""),Z&&(o.style.marginLeft=-Z.x+"px",o.style.marginTop=-Z.y+"px"),z&&(o.style.width=z.x+"px",o.style.height=z.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Tt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function rd(o){return new yo(o)}var Fl=yo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Fl.imagePath!="string"&&(Fl.imagePath=this._detectIconPath()),(this.options.imagePath||Fl.imagePath)+yo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(j,A,z){var Z=A.exec(j);return Z&&Z[z]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Sn("div","leaflet-default-icon-path",document.body),h=si(o,"background-image")||si(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var j=document.querySelector('link[href$="leaflet.css"]');return j?j.href.substring(0,j.href.length-11-1):""}}),Fh=oi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new xa(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nn(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ir(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,j=h._map,A=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,Z=Zi(h._icon),pe=j.getPixelBounds(),Me=j.getPixelOrigin(),Fe=xe(pe.min._subtract(Me).add(z),pe.max._subtract(Me).subtract(z));if(!Fe.contains(Z)){var Je=B((Math.max(Fe.max.x,Z.x)-Fe.max.x)/(pe.max.x-Fe.max.x)-(Math.min(Fe.min.x,Z.x)-Fe.min.x)/(pe.min.x-Fe.min.x),(Math.max(Fe.max.y,Z.y)-Fe.max.y)/(pe.max.y-Fe.max.y)-(Math.min(Fe.min.y,Z.y)-Fe.min.y)/(pe.min.y-Fe.min.y)).multiplyBy(A);j.panBy(Je,{animate:!1}),this._draggable._newPos._add(Je),this._draggable._startPos._add(Je),hr(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=le(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(de(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,j=h._shadow,A=Zi(h._icon),z=h._map.layerPointToLatLng(A);j&&hr(j,A),h._latlng=z,o.latlng=z,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){de(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Vl=Br.extend({options:{icon:new Fl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){_(this,h),this._latlng=X(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=X(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),j=o.icon.createIcon(this._icon),A=!1;j!==this._icon&&(this._icon&&this._removeIcon(),A=!0,o.title&&(j.title=o.title),j.tagName==="IMG"&&(j.alt=o.alt||"")),nn(j,h),o.keyboard&&(j.tabIndex="0",j.setAttribute("role","button")),this._icon=j,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(j,"focus",this._panOnFocus,this);var z=o.icon.createShadow(this._shadow),Z=!1;z!==this._shadow&&(this._removeShadow(),Z=!0),z&&(nn(z,h),z.alt=""),this._shadow=z,o.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&Z&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rn(this._icon,"focus",this._panOnFocus,this),sr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sr(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&hr(this._icon,o),this._shadow&&hr(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(nn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fh)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fh(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&es(this._icon,o),this._shadow&&es(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,j=h.iconSize?B(h.iconSize):B(0,0),A=h.iconAnchor?B(h.iconAnchor):B(0,0);o.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:j.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Vh(o,h){return new Vl(o,h)}var Ya=Br.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return _(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gc=Ya.extend({options:{fill:!0,radius:10},initialize:function(o,h){_(this,h),this._latlng=X(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=X(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Ya.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,j=this._clickTolerance(),A=[o+j,h+j];this._pxBounds=new ie(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pm(o,h){return new Gc(o,h)}var Uh=Gc.extend({initialize:function(o,h,j){if(typeof h=="number"&&(h=l({},j,{radius:h})),_(this,h),this._latlng=X(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ya.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,j=this._map,A=j.options.crs;if(A.distance===ve.distance){var z=Math.PI/180,Z=this._mRadius/ve.R/z,pe=j.project([h+Z,o]),Me=j.project([h-Z,o]),Fe=pe.add(Me).divideBy(2),Je=j.unproject(Fe).lat,mt=Math.acos((Math.cos(Z*z)-Math.sin(h*z)*Math.sin(Je*z))/(Math.cos(h*z)*Math.cos(Je*z)))/z;(isNaN(mt)||mt===0)&&(mt=Z/Math.cos(Math.PI/180*h)),this._point=Fe.subtract(j.getPixelOrigin()),this._radius=isNaN(mt)?0:Fe.x-j.project([Je,o-mt]).x,this._radiusY=Fe.y-pe.y}else{var Pt=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=j.latLngToLayerPoint(this._latlng),this._radius=this._point.x-j.latLngToLayerPoint(Pt).x}this._updateBounds()}});function Cv(o,h,j){return new Uh(o,h,j)}var Za=Ya.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){_(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,j=null,A=Ga,z,Z,pe=0,Me=this._parts.length;pe<Me;pe++)for(var Fe=this._parts[pe],Je=1,mt=Fe.length;Je<mt;Je++){z=Fe[Je-1],Z=Fe[Je];var Pt=A(o,z,Z,!0);Pt<h&&(h=Pt,j=A(o,z,Z))}return j&&(j.distance=Math.sqrt(h)),j},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return te(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=X(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new $,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return ns(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],j=ns(o),A=0,z=o.length;A<z;A++)j?(h[A]=X(o[A]),this._bounds.extend(h[A])):h[A]=this._convertLatLngs(o[A]);return h},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new W(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,j){var A=o[0]instanceof G,z=o.length,Z,pe;if(A){for(pe=[],Z=0;Z<z;Z++)pe[Z]=this._map.latLngToLayerPoint(o[Z]),j.extend(pe[Z]);h.push(pe)}else for(Z=0;Z<z;Z++)this._projectLatlngs(o[Z],h,j)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,j,A,z,Z,pe,Me,Fe;for(j=0,z=0,Z=this._rings.length;j<Z;j++)for(Fe=this._rings[j],A=0,pe=Fe.length;A<pe-1;A++)Me=nd(Fe[A],Fe[A+1],o,A,!0),Me&&(h[z]=h[z]||[],h[z].push(Me[0]),(Me[1]!==Fe[A+1]||A===pe-2)&&(h[z].push(Me[1]),z++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,j=0,A=o.length;j<A;j++)o[j]=Hc(o[j],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var j,A,z,Z,pe,Me,Fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(j=0,Z=this._parts.length;j<Z;j++)for(Me=this._parts[j],A=0,pe=Me.length,z=pe-1;A<pe;z=A++)if(!(!h&&A===0)&&Bl(o,Me[z],Me[A])<=Fe)return!0;return!1}});function Ev(o,h){return new Za(o,h)}Za._flat=I;var Ul=Za.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ms(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Za.prototype._convertLatLngs.call(this,o),j=h.length;return j>=2&&h[0]instanceof G&&h[0].equals(h[j-1])&&h.pop(),h},_setLatLngs:function(o){Za.prototype._setLatLngs.call(this,o),ns(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ns(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,j=new W(h,h);if(o=new ie(o.min.subtract(j),o.max.add(j)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,z=this._rings.length,Z;A<z;A++)Z=Ju(this._rings[A],o,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,j,A,z,Z,pe,Me,Fe,Je;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(Z=0,Fe=this._parts.length;Z<Fe;Z++)for(j=this._parts[Z],pe=0,Je=j.length,Me=Je-1;pe<Je;Me=pe++)A=j[pe],z=j[Me],A.y>o.y!=z.y>o.y&&o.x<(z.x-A.x)*(o.y-A.y)/(z.y-A.y)+A.x&&(h=!h);return h||Za.prototype._containsPoint.call(this,o,!0)}});function li(o,h){return new Ul(o,h)}var ci=ds.extend({initialize:function(o,h){_(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=k(o)?o:o.features,j,A,z;if(h){for(j=0,A=h.length;j<A;j++)z=h[j],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var Z=this.options;if(Z.filter&&!Z.filter(o))return this;var pe=Yc(o,Z);return pe?(pe.feature=Hl(o),pe.defaultOptions=pe.options,this.resetStyle(pe),Z.onEachFeature&&Z.onEachFeature(o,pe),this.addLayer(pe)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Yc(o,h){var j=o.type==="Feature"?o.geometry:o,A=j?j.coordinates:null,z=[],Z=h&&h.pointToLayer,pe=h&&h.coordsToLatLng||sd,Me,Fe,Je,mt;if(!A&&!j)return null;switch(j.type){case"Point":return Me=pe(A),Hh(Z,o,Me,h);case"MultiPoint":for(Je=0,mt=A.length;Je<mt;Je++)Me=pe(A[Je]),z.push(Hh(Z,o,Me,h));return new ds(z);case"LineString":case"MultiLineString":return Fe=Zc(A,j.type==="LineString"?0:1,pe),new Za(Fe,h);case"Polygon":case"MultiPolygon":return Fe=Zc(A,j.type==="Polygon"?1:2,pe),new Ul(Fe,h);case"GeometryCollection":for(Je=0,mt=j.geometries.length;Je<mt;Je++){var Pt=Yc({geometry:j.geometries[Je],type:"Feature",properties:o.properties},h);Pt&&z.push(Pt)}return new ds(z);case"FeatureCollection":for(Je=0,mt=j.features.length;Je<mt;Je++){var Ot=Yc(j.features[Je],h);Ot&&z.push(Ot)}return new ds(z);default:throw new Error("Invalid GeoJSON object.")}}function Hh(o,h,j,A){return o?o(h,j):new Vl(j,A&&A.markersInheritOptions&&A)}function sd(o){return new G(o[1],o[0],o[2])}function Zc(o,h,j){for(var A=[],z=0,Z=o.length,pe;z<Z;z++)pe=h?Zc(o[z],h-1,j):(j||sd)(o[z]),A.push(pe);return A}function Xc(o,h){return o=X(o),o.alt!==void 0?[S(o.lng,h),S(o.lat,h),S(o.alt,h)]:[S(o.lng,h),S(o.lat,h)]}function id(o,h,j,A){for(var z=[],Z=0,pe=o.length;Z<pe;Z++)z.push(h?id(o[Z],ns(o[Z])?0:h-1,j,A):Xc(o[Z],A));return!h&&j&&z.length>0&&z.push(z[0].slice()),z}function ea(o,h){return o.feature?l({},o.feature,{geometry:h}):Hl(h)}function Hl(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var nl={toGeoJSON:function(o){return ea(this,{type:"Point",coordinates:Xc(this.getLatLng(),o)})}};Vl.include(nl),Uh.include(nl),Gc.include(nl),Za.include({toGeoJSON:function(o){var h=!ns(this._latlngs),j=id(this._latlngs,h?1:0,!1,o);return ea(this,{type:(h?"Multi":"")+"LineString",coordinates:j})}}),Ul.include({toGeoJSON:function(o){var h=!ns(this._latlngs),j=h&&!ns(this._latlngs[0]),A=id(this._latlngs,j?2:h?1:0,!0,o);return h||(A=[A]),ea(this,{type:(j?"Multi":"")+"Polygon",coordinates:A})}}),Nn.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(j){h.push(j.toGeoJSON(o).geometry.coordinates)}),ea(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var j=h==="GeometryCollection",A=[];return this.eachLayer(function(z){if(z.toGeoJSON){var Z=z.toGeoJSON(o);if(j)A.push(Z.geometry);else{var pe=Hl(Z);pe.type==="FeatureCollection"?A.push.apply(A,pe.features):A.push(pe)}}}),j?ea(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function ad(o,h){return new ci(o,h)}var mm=ad,ya=Br.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,j){this._url=o,this._bounds=F(h),_(this,j)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Wi(this._image),this},bringToBack:function(){return this._map&&Ci(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=F(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Sn("img");if(nn(h,"leaflet-image-layer"),this._zoomAnimated&&nn(h,"leaflet-zoom-animated"),this.options.className&&nn(h,this.options.className),h.onselectstart=y,h.onmousemove=y,h.onload=d(this.fire,this,"load"),h.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),j=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;bs(this._image,j,h)},_reset:function(){var o=this._image,h=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),j=h.getSize();hr(o,h.min),o.style.width=j.x+"px",o.style.height=j.y+"px"},_updateOpacity:function(){es(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Wl=function(o,h,j){return new ya(o,h,j)},od=ya.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Sn("video");if(nn(h,"leaflet-image-layer"),this._zoomAnimated&&nn(h,"leaflet-zoom-animated"),this.options.className&&nn(h,this.options.className),h.onselectstart=y,h.onmousemove=y,h.onloadeddata=d(this.fire,this,"load"),o){for(var j=h.getElementsByTagName("source"),A=[],z=0;z<j.length;z++)A.push(j[z].src);this._url=j.length>0?A:[h.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var pe=Sn("source");pe.src=this._url[Z],h.appendChild(pe)}}});function gm(o,h,j){return new od(o,h,j)}var jo=ya.extend({_initImage:function(){var o=this._image=this._url;nn(o,"leaflet-image-layer"),this._zoomAnimated&&nn(o,"leaflet-zoom-animated"),this.options.className&&nn(o,this.options.className),o.onselectstart=y,o.onmousemove=y}});function xm(o,h,j){return new jo(o,h,j)}var ta=Br.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof G||k(o))?(this._latlng=X(o),_(this,h)):(_(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&es(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&es(this._container,1),this.bringToFront(),this.options.interactive&&(nn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(es(this._container,0),this._removeTimeout=setTimeout(d(sr,void 0,this._container),200)):sr(this._container),this.options.interactive&&(ir(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=X(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wi(this._container),this},bringToBack:function(){return this._map&&Ci(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof ds){h=null;var j=this._source._layers;for(var A in j)if(j[A]._map){h=j[A];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=B(this.options.offset),j=this._getAnchor();this._zoomAnimated?hr(this._container,o.add(j)):h=h.add(o).add(j);var A=this._containerBottom=-h.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=A+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});Dt.include({_initOverlay:function(o,h,j,A){var z=h;return z instanceof o||(z=new o(A).setContent(h)),j&&z.setLatLng(j),z}}),Br.include({_initOverlay:function(o,h,j,A){var z=j;return z instanceof o?(_(z,A),z._source=this):(z=h&&!A?h:new o(A,this),z.setContent(j)),z}});var Kc=ta.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ta.prototype.openOn.call(this,o)},onAdd:function(o){ta.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ya||this._source.on("preclick",ai))},onRemove:function(o){ta.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ya||this._source.off("preclick",ai))},getEvents:function(){var o=ta.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Sn("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),j=this._wrapper=Sn("div",o+"-content-wrapper",h);if(this._contentNode=Sn("div",o+"-content",j),Ua(h),Qi(this._contentNode),Ut(h,"contextmenu",ai),this._tipContainer=Sn("div",o+"-tip-container",h),this._tip=Sn("div",o+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=Sn("a",o+"-close-button",h);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(A,"click",function(z){vr(z),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var j=o.offsetWidth;j=Math.min(j,this.options.maxWidth),j=Math.max(j,this.options.minWidth),h.width=j+1+"px",h.whiteSpace="",h.height="";var A=o.offsetHeight,z=this.options.maxHeight,Z="leaflet-popup-scrolled";z&&A>z?(h.height=z+"px",nn(o,Z)):ir(o,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),j=this._getAnchor();hr(this._container,h.add(j))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(si(this._container,"marginBottom"),10)||0,j=this._container.offsetHeight+h,A=this._containerWidth,z=new W(this._containerLeft,-j-this._containerBottom);z._add(Zi(this._container));var Z=o.layerPointToContainerPoint(z),pe=B(this.options.autoPanPadding),Me=B(this.options.autoPanPaddingTopLeft||pe),Fe=B(this.options.autoPanPaddingBottomRight||pe),Je=o.getSize(),mt=0,Pt=0;Z.x+A+Fe.x>Je.x&&(mt=Z.x+A-Je.x+Fe.x),Z.x-mt-Me.x<0&&(mt=Z.x-Me.x),Z.y+j+Fe.y>Je.y&&(Pt=Z.y+j-Je.y+Fe.y),Z.y-Pt-Me.y<0&&(Pt=Z.y-Me.y),(mt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([mt,Pt]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_v=function(o,h){return new Kc(o,h)};Dt.mergeOptions({closePopupOnClick:!0}),Dt.include({openPopup:function(o,h,j){return this._initOverlay(Kc,o,h,j).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Br.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Kc,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ds||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){us(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Ya)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ld=ta.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ta.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ta.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ta.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Sn("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,j,A=this._map,z=this._container,Z=A.latLngToContainerPoint(A.getCenter()),pe=A.layerPointToContainerPoint(o),Me=this.options.direction,Fe=z.offsetWidth,Je=z.offsetHeight,mt=B(this.options.offset),Pt=this._getAnchor();Me==="top"?(h=Fe/2,j=Je):Me==="bottom"?(h=Fe/2,j=0):Me==="center"?(h=Fe/2,j=Je/2):Me==="right"?(h=0,j=Je/2):Me==="left"?(h=Fe,j=Je/2):pe.x<Z.x?(Me="right",h=0,j=Je/2):(Me="left",h=Fe+(mt.x+Pt.x)*2,j=Je/2),o=o.subtract(B(h,j,!0)).add(mt).add(Pt),ir(z,"leaflet-tooltip-right"),ir(z,"leaflet-tooltip-left"),ir(z,"leaflet-tooltip-top"),ir(z,"leaflet-tooltip-bottom"),nn(z,"leaflet-tooltip-"+Me),hr(z,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&es(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Tv=function(o,h){return new ld(o,h)};Dt.include({openTooltip:function(o,h,j){return this._initOverlay(ld,o,h,j).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Br.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ld,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",j={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?j.add=this._openTooltip:(j.mouseover=this._openTooltip,j.mouseout=this.closeTooltip,j.click=this._openTooltip,this._map?this._addFocusListeners():j.add=this._addFocusListeners),this._tooltip.options.sticky&&(j.mousemove=this._moveTooltip),this[h](j),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ds||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ut(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ut(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,j,A;this._tooltip.options.sticky&&o.originalEvent&&(j=this._map.mouseEventToContainerPoint(o.originalEvent),A=this._map.containerPointToLayerPoint(j),h=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(h)}});var Wh=yo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),j=this.options;if(j.html instanceof Element?(Dr(h),h.appendChild(j.html)):h.innerHTML=j.html!==!1?j.html:"",j.bgPos){var A=B(j.bgPos);h.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function vm(o){return new Wh(o)}yo.Default=Fl;var rl=Br.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){_(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),sr(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof W?o:new W(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,j=-o(-1/0,1/0),A=0,z=h.length,Z;A<z;A++)Z=h[A].style.zIndex,h[A]!==this._container&&Z&&(j=o(j,+Z));isFinite(j)&&(this.options.zIndex=j+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tt.ielt9){es(this._container,this.options.opacity);var o=+new Date,h=!1,j=!1;for(var A in this._tiles){var z=this._tiles[A];if(!(!z.current||!z.loaded)){var Z=Math.min(1,(o-z.loaded)/200);es(z.el,Z),Z<1?h=!0:(z.active?j=!0:this._onOpaqueTile(z),z.active=!0)}}j&&!this._noPrune&&this._pruneTiles(),h&&(de(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Sn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var j in this._levels)j=Number(j),this._levels[j].el.children.length||j===o?(this._levels[j].el.style.zIndex=h-Math.abs(o-j),this._onUpdateLevel(j)):(sr(this._levels[j].el),this._removeTilesAtZoom(j),this._onRemoveLevel(j),delete this._levels[j]);var A=this._levels[o],z=this._map;return A||(A=this._levels[o]={},A.el=Sn("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=h,A.origin=z.project(z.unproject(z.getPixelOrigin()),o).round(),A.zoom=o,this._setZoomTransform(A,z.getCenter(),z.getZoom()),y(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var o,h,j=this._map.getZoom();if(j>this.options.maxZoom||j<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var A=h.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)sr(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,j,A){var z=Math.floor(o/2),Z=Math.floor(h/2),pe=j-1,Me=new W(+z,+Z);Me.z=+pe;var Fe=this._tileCoordsToKey(Me),Je=this._tiles[Fe];return Je&&Je.active?(Je.retain=!0,!0):(Je&&Je.loaded&&(Je.retain=!0),pe>A?this._retainParent(z,Z,pe,A):!1)},_retainChildren:function(o,h,j,A){for(var z=2*o;z<2*o+2;z++)for(var Z=2*h;Z<2*h+2;Z++){var pe=new W(z,Z);pe.z=j+1;var Me=this._tileCoordsToKey(pe),Fe=this._tiles[Me];if(Fe&&Fe.active){Fe.retain=!0;continue}else Fe&&Fe.loaded&&(Fe.retain=!0);j+1<A&&this._retainChildren(z,Z,j+1,A)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,j,A){var z=Math.round(h);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var Z=this.options.updateWhenZooming&&z!==this._tileZoom;(!A||Z)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(o),j||this._pruneTiles(),this._noPrune=!!j),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var j in this._levels)this._setZoomTransform(this._levels[j],o,h)},_setZoomTransform:function(o,h,j){var A=this._map.getZoomScale(j,o.zoom),z=o.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(h,j)).round();Tt.any3d?bs(o.el,z,A):hr(o.el,z)},_resetGrid:function(){var o=this._map,h=o.options.crs,j=this._tileSize=this.getTileSize(),A=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],A).x/j.x),Math.ceil(o.project([0,h.wrapLng[1]],A).x/j.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],A).y/j.x),Math.ceil(o.project([h.wrapLat[1],0],A).y/j.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,j=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),A=h.getZoomScale(j,this._tileZoom),z=h.project(o,this._tileZoom).floor(),Z=h.getSize().divideBy(A*2);return new ie(z.subtract(Z),z.add(Z))},_update:function(o){var h=this._map;if(h){var j=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(o),z=this._pxBoundsToTileRange(A),Z=z.getCenter(),pe=[],Me=this.options.keepBuffer,Fe=new ie(z.getBottomLeft().subtract([Me,-Me]),z.getTopRight().add([Me,-Me]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Je in this._tiles){var mt=this._tiles[Je].coords;(mt.z!==this._tileZoom||!Fe.contains(new W(mt.x,mt.y)))&&(this._tiles[Je].current=!1)}if(Math.abs(j-this._tileZoom)>1){this._setView(o,j);return}for(var Pt=z.min.y;Pt<=z.max.y;Pt++)for(var Ot=z.min.x;Ot<=z.max.x;Ot++){var rn=new W(Ot,Pt);if(rn.z=this._tileZoom,!!this._isValidTile(rn)){var yr=this._tiles[this._tileCoordsToKey(rn)];yr?yr.current=!0:pe.push(rn)}}if(pe.sort(function(_s,_i){return _s.distanceTo(Z)-_i.distanceTo(Z)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zr=document.createDocumentFragment();for(Ot=0;Ot<pe.length;Ot++)this._addTile(pe[Ot],zr);this._level.el.appendChild(zr)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var j=this._globalTileRange;if(!h.wrapLng&&(o.x<j.min.x||o.x>j.max.x)||!h.wrapLat&&(o.y<j.min.y||o.y>j.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(o);return F(this.options.bounds).overlaps(A)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,j=this.getTileSize(),A=o.scaleBy(j),z=A.add(j),Z=h.unproject(A,o.z),pe=h.unproject(z,o.z);return[Z,pe]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),j=new $(h[0],h[1]);return this.options.noWrap||(j=this._map.wrapLatLngBounds(j)),j},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),j=new W(+h[0],+h[1]);return j.z=+h[2],j},_removeTile:function(o){var h=this._tiles[o];h&&(sr(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){nn(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=y,o.onmousemove=y,Tt.ielt9&&this.options.opacity<1&&es(o,this.options.opacity)},_addTile:function(o,h){var j=this._getTilePos(o),A=this._tileCoordsToKey(o),z=this.createTile(this._wrapCoords(o),d(this._tileReady,this,o));this._initTile(z),this.createTile.length<2&&le(d(this._tileReady,this,o,null,z)),hr(z,j),this._tiles[A]={el:z,coords:o,current:!0},h.appendChild(z),this.fire("tileloadstart",{tile:z,coords:o})},_tileReady:function(o,h,j){h&&this.fire("tileerror",{error:h,tile:j,coords:o});var A=this._tileCoordsToKey(o);j=this._tiles[A],j&&(j.loaded=+new Date,this._map._fadeAnimated?(es(j.el,0),de(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(j.active=!0,this._pruneTiles()),h||(nn(j.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:j.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tt.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new W(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ie(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function na(o){return new rl(o)}var sl=rl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=_(this,h),h.detectRetina&&Tt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var j=document.createElement("img");return Ut(j,"load",d(this._tileOnLoad,this,h,j)),Ut(j,"error",d(this._tileOnError,this,h,j)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(j.referrerPolicy=this.options.referrerPolicy),j.alt="",j.src=this.getTileUrl(o),j},getTileUrl:function(o){var h={r:Tt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var j=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=j),h["-y"]=j}return D(this._url,l(h,this.options))},_tileOnLoad:function(o,h){Tt.ielt9?setTimeout(d(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,j){var A=this.options.errorTileUrl;A&&h.getAttribute("src")!==A&&(h.src=A),o(j,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,j=this.options.zoomReverse,A=this.options.zoomOffset;return j&&(o=h-o),o+A},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=y,h.onerror=y,!h.complete)){h.src=M;var j=this._tiles[o].coords;sr(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:j})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",M),rl.prototype._removeTile.call(this,o)},_tileReady:function(o,h,j){if(!(!this._map||j&&j.getAttribute("src")===M))return rl.prototype._tileReady.call(this,o,h,j)}});function ui(o,h){return new sl(o,h)}var di=sl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var j=l({},this.defaultWmsParams);for(var A in h)A in this.options||(j[A]=h[A]);h=_(this,h);var z=h.detectRetina&&Tt.retina?2:1,Z=this.getTileSize();j.width=Z.x*z,j.height=Z.y*z,this.wmsParams=j},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,sl.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),j=this._crs,A=xe(j.project(h[0]),j.project(h[1])),z=A.min,Z=A.max,pe=(this._wmsVersion>=1.3&&this._crs===Ei?[z.y,z.x,Z.y,Z.x]:[z.x,z.y,Z.x,Z.y]).join(","),Me=sl.prototype.getTileUrl.call(this,o);return Me+T(this.wmsParams,Me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(o,h){return l(this.wmsParams,o),h||this.redraw(),this}});function ql(o,h){return new di(o,h)}sl.WMS=di,ui.wms=ql;var ra=Br.extend({options:{padding:.1},initialize:function(o){_(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var j=this._map.getZoomScale(h,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,h),Z=A.multiplyBy(-j).add(z).subtract(this._map._getNewPixelOrigin(o,h));Tt.any3d?bs(this._container,Z,j):hr(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),j=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ie(j,j.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qc=ra.extend({options:{tolerance:0},getEvents:function(){var o=ra.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ra.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ut(o,"mousemove",this._onMouseMove,this),Ut(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){de(this._redrawRequest),delete this._ctx,sr(this._container),Rn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ra.prototype._update.call(this);var o=this._bounds,h=this._container,j=o.getSize(),A=Tt.retina?2:1;hr(h,o.min),h.width=A*j.x,h.height=A*j.y,h.style.width=j.x+"px",h.style.height=j.y+"px",Tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ra.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,j=h.next,A=h.prev;j?j.prev=A:this._drawLast=A,A?A.next=j:this._drawFirst=j,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),j=[],A,z;for(z=0;z<h.length;z++){if(A=Number(h[z]),isNaN(A))return;j.push(A)}o.options._dashArray=j}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var j=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,j.x,j.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)o=A.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var j,A,z,Z,pe=o._parts,Me=pe.length,Fe=this._ctx;if(Me){for(Fe.beginPath(),j=0;j<Me;j++){for(A=0,z=pe[j].length;A<z;A++)Z=pe[j][A],Fe[A?"lineTo":"moveTo"](Z.x,Z.y);h&&Fe.closePath()}this._fillStroke(Fe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,j=this._ctx,A=Math.max(Math.round(o._radius),1),z=(Math.max(Math.round(o._radiusY),1)||A)/A;z!==1&&(j.save(),j.scale(1,z)),j.beginPath(),j.arc(h.x,h.y/z,A,0,Math.PI*2,!1),z!==1&&j.restore(),this._fillStroke(j,o)}},_fillStroke:function(o,h){var j=h.options;j.fill&&(o.globalAlpha=j.fillOpacity,o.fillStyle=j.fillColor||j.color,o.fill(j.fillRule||"evenodd")),j.stroke&&j.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=j.opacity,o.lineWidth=j.weight,o.strokeStyle=j.color,o.lineCap=j.lineCap,o.lineJoin=j.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),j,A,z=this._drawFirst;z;z=z.next)j=z.layer,j.options.interactive&&j._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(j))&&(A=j);this._fireEvent(A?[A]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(ir(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var j,A,z=this._drawFirst;z;z=z.next)j=z.layer,j.options.interactive&&j._containsPoint(h)&&(A=j);A!==this._hoveredLayer&&(this._handleMouseOut(o),A&&(nn(this._container,"leaflet-interactive"),this._fireEvent([A],o,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,j){this._map._fireDOMEvent(h,j||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var j=h.next,A=h.prev;if(j)j.prev=A;else return;A?A.next=j:j&&(this._drawFirst=j),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var j=h.next,A=h.prev;if(A)A.next=j;else return;j?j.prev=A:A&&(this._drawLast=A),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Jc(o){return Tt.canvas?new Qc(o):null}var il=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Gl={_initContainer:function(){this._container=Sn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ra.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=il("shape");nn(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=il("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;sr(h),o.removeInteractiveTarget(h),delete this._layers[p(o)]},_updateStyle:function(o){var h=o._stroke,j=o._fill,A=o.options,z=o._container;z.stroked=!!A.stroke,z.filled=!!A.fill,A.stroke?(h||(h=o._stroke=il("stroke")),z.appendChild(h),h.weight=A.weight+"px",h.color=A.color,h.opacity=A.opacity,A.dashArray?h.dashStyle=k(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=A.lineCap.replace("butt","flat"),h.joinstyle=A.lineJoin):h&&(z.removeChild(h),o._stroke=null),A.fill?(j||(j=o._fill=il("fill")),z.appendChild(j),j.color=A.fillColor||A.color,j.opacity=A.fillOpacity):j&&(z.removeChild(j),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),j=Math.round(o._radius),A=Math.round(o._radiusY||j);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+j+","+A+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Wi(o._container)},_bringToBack:function(o){Ci(o._container)}},eu=Tt.vml?il:Ht,bo=ra.extend({_initContainer:function(){this._container=eu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=eu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sr(this._container),Rn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ra.prototype._update.call(this);var o=this._bounds,h=o.getSize(),j=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,j.setAttribute("width",h.x),j.setAttribute("height",h.y)),hr(j,o.min),j.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=eu("path");o.options.className&&nn(h,o.options.className),o.options.interactive&&nn(h,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){sr(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,j=o.options;h&&(j.stroke?(h.setAttribute("stroke",j.color),h.setAttribute("stroke-opacity",j.opacity),h.setAttribute("stroke-width",j.weight),h.setAttribute("stroke-linecap",j.lineCap),h.setAttribute("stroke-linejoin",j.lineJoin),j.dashArray?h.setAttribute("stroke-dasharray",j.dashArray):h.removeAttribute("stroke-dasharray"),j.dashOffset?h.setAttribute("stroke-dashoffset",j.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),j.fill?(h.setAttribute("fill",j.fillColor||j.color),h.setAttribute("fill-opacity",j.fillOpacity),h.setAttribute("fill-rule",j.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,we(o._parts,h))},_updateCircle:function(o){var h=o._point,j=Math.max(Math.round(o._radius),1),A=Math.max(Math.round(o._radiusY),1)||j,z="a"+j+","+A+" 0 1,0 ",Z=o._empty()?"M0 0":"M"+(h.x-j)+","+h.y+z+j*2+",0 "+z+-j*2+",0 ";this._setPath(o,Z)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Wi(o._path)},_bringToBack:function(o){Ci(o._path)}});Tt.vml&&bo.include(Gl);function al(o){return Tt.svg||Tt.vml?new bo(o):null}Dt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Jc(o)||al(o)}});var ym=Ul.extend({initialize:function(o,h){Ul.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=F(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function hi(o,h){return new ym(o,h)}bo.create=eu,bo.pointsToPath=we,ci.geometryToLayer=Yc,ci.coordsToLatLng=sd,ci.coordsToLatLngs=Zc,ci.latLngToCoords=Xc,ci.latLngsToCoords=id,ci.getFeature=ea,ci.asFeature=Hl,Dt.mergeOptions({boxZoom:!0});var cd=oi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ps(),Ss(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ut(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Sn("div","leaflet-zoom-box",this._container),nn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ie(this._point,this._startPoint),j=h.getSize();hr(this._box,h.min),this._box.style.width=j.x+"px",this._box.style.height=j.y+"px"},_finish:function(){this._moved&&(sr(this._box),ir(this._container,"leaflet-crosshair")),Va(),go(),Rn(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var h=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Dt.addInitHook("addHandler","boxZoom",cd),Dt.mergeOptions({doubleClickZoom:!0});var ja=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,j=h.getZoom(),A=h.options.zoomDelta,z=o.originalEvent.shiftKey?j-A:j+A;h.options.doubleClickZoom==="center"?h.setZoom(z):h.setZoomAround(o.containerPoint,z)}});Dt.addInitHook("addHandler","doubleClickZoom",ja),Dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qh=oi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new xa(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}nn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ir(this._map._container,"leaflet-grab"),ir(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=F(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,j=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(j),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),j=this._initialWorldOffset,A=this._draggable._newPos.x,z=(A-h+j)%o+h-j,Z=(A+h+j)%o-h-j,pe=Math.abs(z+j)<Math.abs(Z+j)?z:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(o){var h=this._map,j=h.options,A=!j.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),A)h.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,pe=j.easeLinearity,Me=z.multiplyBy(pe/Z),Fe=Me.distanceTo([0,0]),Je=Math.min(j.inertiaMaxSpeed,Fe),mt=Me.multiplyBy(Je/Fe),Pt=Je/(j.inertiaDeceleration*pe),Ot=mt.multiplyBy(-Pt/2).round();!Ot.x&&!Ot.y?h.fire("moveend"):(Ot=h._limitOffset(Ot,h.options.maxBounds),le(function(){h.panBy(Ot,{duration:Pt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Dt.addInitHook("addHandler","dragging",qh),Dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tu=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ut(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,j=o.scrollTop||h.scrollTop,A=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(A,j)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},j=this.keyCodes,A,z;for(A=0,z=j.left.length;A<z;A++)h[j.left[A]]=[-1*o,0];for(A=0,z=j.right.length;A<z;A++)h[j.right[A]]=[o,0];for(A=0,z=j.down.length;A<z;A++)h[j.down[A]]=[0,o];for(A=0,z=j.up.length;A<z;A++)h[j.up[A]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},j=this.keyCodes,A,z;for(A=0,z=j.zoomIn.length;A<z;A++)h[j.zoomIn[A]]=o;for(A=0,z=j.zoomOut.length;A<z;A++)h[j.zoomOut[A]]=-o},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,j=this._map,A;if(h in this._panKeys){if(!j._panAnim||!j._panAnim._inProgress)if(A=this._panKeys[h],o.shiftKey&&(A=B(A).multiplyBy(3)),j.options.maxBounds&&(A=j._limitOffset(B(A),j.options.maxBounds)),j.options.worldCopyJump){var z=j.wrapLatLng(j.unproject(j.project(j.getCenter()).add(A)));j.panTo(z)}else j.panBy(A)}else if(h in this._zoomKeys)j.setZoom(j.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&j._popup&&j._popup.options.closeOnEscapeKey)j.closePopup();else return;us(o)}}});Dt.addInitHook("addHandler","keyboard",tu),Dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var So=oi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Be(o),j=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var A=Math.max(j-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),A),us(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),j=this._map.options.zoomSnap||0;o._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,Z=j?Math.ceil(z/j)*j:z,pe=o._limitZoom(h+(this._delta>0?Z:-Z))-h;this._delta=0,this._startTime=null,pe&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+pe):o.setZoomAround(this._lastMousePos,h+pe))}});Dt.addInitHook("addHandler","scrollWheelZoom",So);var Gh=600;Dt.mergeOptions({tapHold:Tt.touchNative&&Tt.safari&&Tt.mobile,tapTolerance:15});var ud=oi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new W(h.clientX,h.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",vr),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Gh),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Rn(document,"touchend",vr),Rn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Rn(document,"touchend touchcancel contextmenu",this._cancel,this),Rn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new W(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var j=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});j._simulated=!0,h.target.dispatchEvent(j)}});Dt.addInitHook("addHandler","tapHold",ud),Dt.mergeOptions({touchZoom:Tt.touch,bounceAtZoomLimits:!0});var ol=oi.extend({addHooks:function(){nn(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ir(this._map._container,"leaflet-touch-zoom"),Rn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var j=h.mouseEventToContainerPoint(o.touches[0]),A=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(j.add(A)._divideBy(2))),this._startDist=j.distanceTo(A),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),vr(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,j=h.mouseEventToContainerPoint(o.touches[0]),A=h.mouseEventToContainerPoint(o.touches[1]),z=j.distanceTo(A)/this._startDist;if(this._zoom=h.getScaleZoom(z,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&z<1||this._zoom>h.getMaxZoom()&&z>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var Z=j._add(A)._divideBy(2)._subtract(this._centerPoint);if(z===1&&Z.x===0&&Z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),de(this._animRequest);var pe=d(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(pe,this,!0),vr(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,de(this._animRequest),Rn(document,"touchmove",this._onTouchMove,this),Rn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dt.addInitHook("addHandler","touchZoom",ol),Dt.BoxZoom=cd,Dt.DoubleClickZoom=ja,Dt.Drag=qh,Dt.Keyboard=tu,Dt.ScrollWheelZoom=So,Dt.TapHold=ud,Dt.TouchZoom=ol,r.Bounds=ie,r.Browser=Tt,r.CRS=ye,r.Canvas=Qc,r.Circle=Uh,r.CircleMarker=Gc,r.Class=fe,r.Control=cn,r.DivIcon=Wh,r.DivOverlay=ta,r.DomEvent=rt,r.DomUtil=Ki,r.Draggable=xa,r.Evented=q,r.FeatureGroup=ds,r.GeoJSON=ci,r.GridLayer=rl,r.Handler=oi,r.Icon=yo,r.ImageOverlay=ya,r.LatLng=G,r.LatLngBounds=$,r.Layer=Br,r.LayerGroup=Nn,r.LineUtil=nt,r.Map=Dt,r.Marker=Vl,r.Mixin=Oh,r.Path=Ya,r.Point=W,r.PolyUtil=Bh,r.Polygon=Ul,r.Polyline=Za,r.Popup=Kc,r.PosAnimation=an,r.Projection=Zt,r.Rectangle=ym,r.Renderer=ra,r.SVG=bo,r.SVGOverlay=jo,r.TileLayer=sl,r.Tooltip=ld,r.Transformation=ct,r.Util=Re,r.VideoOverlay=od,r.bind=d,r.bounds=xe,r.canvas=Jc,r.circle=Cv,r.circleMarker=pm,r.control=Mr,r.divIcon=vm,r.extend=l,r.featureGroup=va,r.geoJSON=ad,r.geoJson=mm,r.gridLayer=na,r.icon=rd,r.imageOverlay=Wl,r.latLng=X,r.latLngBounds=F,r.layerGroup=$r,r.map=fn,r.marker=Vh,r.point=B,r.polygon=li,r.polyline=Ev,r.popup=_v,r.rectangle=hi,r.setOptions=_,r.stamp=p,r.svg=al,r.svgOverlay=xm,r.tileLayer=ui,r.tooltip=Tv,r.transformation=Xe,r.version=i,r.videoOverlay=gm;var Yl=window.L;r.noConflict=function(){return window.L=Yl,this},window.L=r}))})(ap,ap.exports)),ap.exports}var Mh=SJ();const zh=Wp(Mh);function Sv(t,n,r){return Object.freeze({instance:t,context:n,container:r})}function wv(t,n){return n==null?function(i,l){const u=v.useRef(void 0);return u.current||(u.current=t(i,l)),u}:function(i,l){const u=v.useRef(void 0);u.current||(u.current=t(i,l));const d=v.useRef(i),{instance:m}=u.current;return v.useEffect(function(){d.current!==i&&(n(m,i,d.current),d.current=i)},[m,i,n]),u}}function AM(t,n){v.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function RM(t){return function(r){const i=jv(),l=t(bv(r,i),i);return EM(i.map,r.attribution),I1(l.current,r.eventHandlers),AM(l.current,i),l}}function wJ(t,n){const r=v.useRef(void 0);v.useEffect(function(){if(n.pathOptions!==r.current){const l=n.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,n])}function CJ(t){return function(r){const i=jv(),l=t(bv(r,i),i);return I1(l.current,r.eventHandlers),AM(l.current,i),wJ(l.current,r),l}}function EJ(t,n){const r=wv(t,n),i=RM(r);return TM(i)}function _J(t,n){const r=wv(t),i=jJ(r,n);return vJ(i)}function TJ(t,n){const r=wv(t,n),i=CJ(r);return TM(i)}function AJ(t,n){const r=wv(t,n),i=RM(r);return yJ(i)}function RJ(t,n,r){const{opacity:i,zIndex:l}=n;i!=null&&i!==r.opacity&&t.setOpacity(i),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function kJ(){return jv().map}function DJ({bounds:t,boundsOptions:n,center:r,children:i,className:l,id:u,placeholder:d,style:m,whenReady:p,zoom:g,...x},y){const[S]=v.useState({className:l,id:u,style:m}),[w,C]=v.useState(null),_=v.useRef(void 0);v.useImperativeHandle(y,()=>w?.map??null,[w]);const T=v.useCallback(D=>{if(D!==null&&!_.current){const k=new Mh.Map(D,x);_.current=k,r!=null&&g!=null?k.setView(r,g):t!=null&&k.fitBounds(t,n),p!=null&&k.whenReady(p),C(xJ(k))}},[]);v.useEffect(()=>()=>{w?.map.remove()},[w]);const R=w?un.createElement(z1,{value:w},i):d??null;return un.createElement("div",{...S,ref:T},R)}const PJ=v.forwardRef(DJ),MJ=EJ(function({position:n,...r},i){const l=new Mh.Marker(n,r);return Sv(l,_M(i,{overlayContainer:l}))},function(n,r,i){r.position!==i.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),JT=TJ(function({positions:n,...r},i){const l=new Mh.Polyline(n,r);return Sv(l,_M(i,{overlayContainer:l}))},function(n,r,i){r.positions!==i.positions&&n.setLatLngs(r.positions)}),zJ=_J(function(n,r){const i=new Mh.Popup(n,r.overlayContainer);return Sv(i,r)},function(n,r,{position:i},l){v.useEffect(function(){const{instance:d}=n;function m(g){g.popup===d&&(d.update(),l(!0))}function p(g){g.popup===d&&l(!1)}return r.map.on({popupopen:m,popupclose:p}),r.overlayContainer==null?(i!=null&&d.setLatLng(i),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:m,popupclose:p}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[n,r,l,i])}),IJ=AJ(function({url:n,...r},i){const l=new Mh.TileLayer(n,bv(r,i));return Sv(l,i)},function(n,r,i){RJ(n,r,i);const{url:l}=r;l!=null&&l!==i.url&&n.setUrl(l)});delete zh.Icon.Default.prototype._getIconUrl;zh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const NJ=zh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),LJ=zh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),OJ=zh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});function BJ({waypoints:t}){const n=kJ();return v.useEffect(()=>{if(t&&t.length>0){const r=t.map(l=>[l.lat,l.lng]),i=zh.latLngBounds(r);n.fitBounds(i,{padding:[50,50]})}},[t,n]),null}function $J({route:t}){const[n,r]=v.useState(null),[i,l]=v.useState(!0),[u,d]=v.useState(null);if(!t||!t.waypoints||t.waypoints.length===0)return e.jsx(ue,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",color:"gray.500",children:"Pas de waypoints  afficher"});const m=t.waypoints.sort((p,g)=>p.order-g.order);return v.useEffect(()=>{(async()=>{try{l(!0);const x=m.map(C=>[C.lng,C.lat]).map(C=>C.join(",")).join(";"),S=await fetch(`https://router.project-osrm.org/route/v1/driving/${x}?overview=full&geometries=geojson`,{method:"GET",headers:{Accept:"application/json"}});if(!S.ok)throw new Error("Erreur calcul route");const w=await S.json();if(w.routes&&w.routes.length>0){const _=w.routes[0].geometry.coordinates.map(T=>[T[1],T[0]]);r(_)}}catch(g){console.error("Route calculation error:",g),d(g.message),r(m.map(x=>[x.lat,x.lng]))}finally{l(!1)}})()},[m]),e.jsxs(ue,{borderRadius:"md",overflow:"hidden",boxShadow:"md",h:"500px",position:"relative",children:[i&&e.jsx(vn,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"rgba(255,255,255,0.8)",zIndex:1e3,children:e.jsxs(ne,{spacing:2,children:[e.jsx(mn,{color:"purple.500",size:"lg"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Calcul de l'itinraire rel..."})]})}),e.jsxs(PJ,{center:[m[0].lat,m[0].lng],zoom:10,style:{height:"100%",width:"100%"},children:[e.jsx(IJ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n&&!u&&e.jsx(JT,{positions:n,color:"purple",weight:5,opacity:.9,dashArray:"0"}),u&&e.jsx(JT,{positions:m.map(p=>[p.lat,p.lng]),color:"red",weight:3,opacity:.6,dashArray:"5, 5"}),m.map((p,g)=>e.jsx(MJ,{position:[p.lat,p.lng],icon:g===0?NJ:g===m.length-1?LJ:OJ,children:e.jsx(zJ,{children:e.jsxs("div",{style:{fontSize:"12px",minWidth:"180px"},children:[e.jsx("strong",{children:p.name}),e.jsx("br",{}),"Lat: ",p.lat.toFixed(4),", Lng: ",p.lng.toFixed(4),e.jsx("br",{}),p.stopTime>0&&e.jsxs("span",{children:["Arrt: ",p.stopTime," min",e.jsx("br",{})]}),e.jsxs("small",{children:["Point ",g+1,"/",m.length]}),t.maxLength&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #ccc"},children:[e.jsx("strong",{children:"Restrictions:"}),e.jsx("br",{}),t.maxLength&&e.jsxs("small",{children:["Long: ",t.maxLength,"m"]}),t.maxHeight&&e.jsxs("small",{children:[" | H: ",t.maxHeight,"m"]}),t.maxWeight&&e.jsxs("small",{children:[" | P: ",t.maxWeight,"t"]})]})]})})},p.order)),e.jsx(BJ,{waypoints:m})]})]})}function FJ(){const{isOpen:t,onOpen:n,onClose:r}=Rt(),i=on(),[l,u]=v.useState([]),[d,m]=v.useState(!1),[p,g]=v.useState("routes"),[x,y]=v.useState(null),[S,w]=v.useState({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),[C,_]=v.useState({name:"",lat:"",lng:"",stopTime:0}),T="https://attractive-kindness-rbe-serveurs.up.railway.app";v.useEffect(()=>{t&&R()},[t]);const R=async()=>{m(!0);try{const H=await fetch(`${T}/routes`);if(!H.ok)throw new Error("Erreur chargement");const U=await H.json();u(U)}catch(H){i({title:"Erreur",description:H.message,status:"error"})}finally{m(!1)}},D=()=>{if(!C.name||!C.lat||!C.lng){i({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}w(H=>({...H,waypoints:[...H.waypoints,{...C,lat:parseFloat(C.lat),lng:parseFloat(C.lng),stopTime:parseInt(C.stopTime||0),order:H.waypoints.length}]})),_({name:"",lat:"",lng:"",stopTime:0})},k=H=>{w(U=>({...U,waypoints:U.waypoints.filter((ae,he)=>he!==H)}))},N=async()=>{if(!S.name||S.waypoints.length<2){i({title:"Erreur",description:"Nom + 2+ waypoints requis",status:"error"});return}try{if(!(await fetch(`${T}/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).ok)throw new Error("Erreur cration");i({title:"Succs",description:"Itinraire cr!",status:"success"}),w({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),g("routes"),R()}catch(H){i({title:"Erreur",description:H.message,status:"error"})}},M=async H=>{if(window.confirm("Confirmer suppression?"))try{if(!(await fetch(`${T}/routes/${H}`,{method:"DELETE"})).ok)throw new Error("Erreur");i({title:"Supprime",status:"success"}),R()}catch(U){i({title:"Erreur",description:U.message,status:"error"})}},O=H=>{const U=H.totalDistance||0,ae=H.estimatedTime||0,he=Math.floor(ae/60),le=ae%60;return{distance:U,time:`${he}h${le}m`}};return e.jsxs(e.Fragment,{children:[e.jsx(J,{onClick:n,leftIcon:e.jsx(_c,{}),colorScheme:"purple",size:"md",w:"100%",children:" RtroGPS - Traage d'itinraires"}),e.jsxs(wt,{isOpen:t,onClose:r,size:"5xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",display:"flex",flexDirection:"column",children:[e.jsx(Et,{children:e.jsxs(re,{spacing:3,children:[e.jsx(Mn,{as:_c,color:"purple.500",boxSize:6}),e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",children:"RtroGPS - Gestion des itinraires"}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Crez et tracez les tournes"})]})]})}),e.jsx($t,{}),e.jsx(Ct,{overflow:"auto",flex:1,pb:4,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{spacing:0,borderBottom:"2px solid",borderColor:"gray.200",children:[e.jsxs(J,{variant:p==="routes"?"solid":"ghost",colorScheme:p==="routes"?"purple":"gray",onClick:()=>g("routes"),leftIcon:e.jsx(_c,{}),children:["Itinraires (",l.length,")"]}),e.jsx(J,{variant:p==="create"?"solid":"ghost",colorScheme:p==="create"?"green":"gray",onClick:()=>g("create"),leftIcon:e.jsx(_n,{}),children:"Crer"})]}),p==="routes"&&e.jsx(ne,{spacing:4,align:"stretch",children:d?e.jsx(vn,{p:8,children:e.jsx(mn,{})}):l.length===0?e.jsx(vn,{p:8,bg:"gray.50",borderRadius:"md",children:e.jsx(P,{color:"gray.500",children:"Aucun itinraire cr"})}):e.jsxs(Un,{size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.100",children:[e.jsx(ke,{children:"Nom"}),e.jsx(ke,{children:"Distance"}),e.jsx(ke,{children:"Temps"}),e.jsx(ke,{children:"Points"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:l.map(H=>{const U=O(H);return e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"bold",children:H.name}),e.jsxs(Ae,{children:[U.distance," km"]}),e.jsx(Ae,{children:U.time}),e.jsx(Ae,{textAlign:"center",children:H.waypoints?.length||0}),e.jsx(Ae,{children:e.jsxs(re,{spacing:1,children:[e.jsx(Js,{label:"Dtails",children:e.jsx(yt,{icon:e.jsx(Lo,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>y(H)})}),e.jsx(Js,{label:"Supprimer",children:e.jsx(yt,{icon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>M(H.id)})})]})})]},H.id)})})]})}),p==="create"&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Nom de l'itinraire"}),e.jsx(ge,{placeholder:"ex: Tourne Essonne Sud",value:S.name,onChange:H=>w(U=>({...U,name:H.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{placeholder:"Dtails du parcours...",value:S.description,onChange:H=>w(U=>({...U,description:H.target.value})),rows:2})]}),e.jsxs(ft,{columns:3,gap:3,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Longueur max (m)"}),e.jsx(On,{value:S.maxLength||"",onChange:H=>w(U=>({...U,maxLength:H?parseFloat(H):null})),children:e.jsx(Bn,{placeholder:"12.5"})})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Hauteur max (m)"}),e.jsx(On,{value:S.maxHeight||"",onChange:H=>w(U=>({...U,maxHeight:H?parseFloat(H):null})),children:e.jsx(Bn,{placeholder:"3.8"})})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Poids max (t)"}),e.jsx(On,{value:S.maxWeight||"",onChange:H=>w(U=>({...U,maxWeight:H?parseFloat(H):null})),children:e.jsx(Bn,{placeholder:"13"})})]})]}),e.jsx(bn,{}),e.jsx(Pe,{size:"sm",children:" Points de passage"}),e.jsxs(re,{spacing:2,align:"flex-end",children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Nom"}),e.jsx(ge,{placeholder:"ex: Dpart",value:C.name,onChange:H=>_(U=>({...U,name:H.target.value})),size:"sm"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Lat"}),e.jsx(ge,{placeholder:"48.8566",value:C.lat,onChange:H=>_(U=>({...U,lat:H.target.value})),size:"sm"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Lng"}),e.jsx(ge,{placeholder:"2.3522",value:C.lng,onChange:H=>_(U=>({...U,lng:H.target.value})),size:"sm"})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"sm",children:"Arrt (min)"}),e.jsx(On,{value:C.stopTime,onChange:H=>_(U=>({...U,stopTime:H})),size:"sm",children:e.jsx(Bn,{})})]}),e.jsx(J,{onClick:D,colorScheme:"green",size:"sm",leftIcon:e.jsx(_n,{}),children:"Ajouter"})]}),S.waypoints.length>0&&e.jsxs(ue,{p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflow:"auto",children:[e.jsxs(P,{fontWeight:"bold",mb:2,children:["Waypoints (",S.waypoints.length,"):"]}),S.waypoints.map((H,U)=>e.jsxs(re,{p:2,bg:"white",borderRadius:"md",mb:1,justify:"space-between",children:[e.jsxs(P,{fontSize:"sm",children:[U+1,". ",e.jsx("strong",{children:H.name})," - ",H.lat.toFixed(4),", ",H.lng.toFixed(4)," (+",H.stopTime,"min)"]}),e.jsx(J,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>k(U),children:""})]},U))]}),e.jsx(J,{colorScheme:"purple",size:"lg",w:"100%",onClick:N,isDisabled:!S.name||S.waypoints.length<2,children:" Crer l'itinraire"})]}),x&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(ue,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"blue.500",children:[e.jsxs(re,{justify:"space-between",mb:3,children:[e.jsx(Pe,{size:"md",children:x.name}),e.jsx(J,{size:"sm",variant:"ghost",onClick:()=>y(null),children:""})]}),e.jsxs(ne,{align:"start",spacing:2,fontSize:"sm",children:[e.jsxs(P,{children:[e.jsx("strong",{children:"Description:"})," ",x.description||"N/A"]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Points:"})," ",x.waypoints?.length||0]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Distance:"})," ",O(x).distance," km"]}),e.jsxs(P,{children:[e.jsx("strong",{children:"Temps:"})," ",O(x).time]}),x.maxLength&&e.jsxs(et,{children:["L max: ",x.maxLength,"m"]}),x.maxHeight&&e.jsxs(et,{children:["H max: ",x.maxHeight,"m"]}),x.maxWeight&&e.jsxs(et,{children:["P max: ",x.maxWeight,"t"]})]})]}),e.jsxs(ue,{children:[e.jsxs(re,{spacing:2,mb:3,children:[e.jsx(Mn,{as:tQ,color:"purple.500"}),e.jsx(Pe,{size:"sm",children:"Visualisation de l'itinraire"})]}),e.jsx($J,{route:x})]}),e.jsx(J,{colorScheme:"gray",size:"sm",w:"100%",onClick:()=>y(null),children:"Fermer la vue dtails"})]})]})}),e.jsx(Ft,{children:e.jsx(J,{colorScheme:"gray",variant:"outline",onClick:r,children:"Fermer"})})]})]})]})}function VJ(){const[t,n]=v.useState(0);return Tn("gray.50","gray.900"),e.jsx(Ll,{title:"Gestion des vnements",subtitle:"Crez, planifiez et suivez les tournes RtroBus",headerVariant:"card",bgGradient:"linear(to-r, green.500, teal.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"},{label:"vnements",href:"/dashboard/events-management"}],children:e.jsx(ue,{children:e.jsxs(ho,{index:t,onChange:n,variant:"enclosed",colorScheme:"green",children:[e.jsxs(Oa,{borderBottom:"2px solid",borderColor:"green.200",children:[e.jsx(dn,{_selected:{color:"white",bg:"green.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx($s,{}),e.jsx("span",{children:"Gestion des vnements"})]})}),e.jsx(dn,{_selected:{color:"white",bg:"teal.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx(D1,{}),e.jsx("span",{children:"Planification"})]})}),e.jsx(dn,{_selected:{color:"white",bg:"purple.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx(_c,{}),e.jsx("span",{children:"RtroGPS"})]})})]}),e.jsxs(Ba,{children:[e.jsx(hn,{p:0,pt:6,children:e.jsx(mJ,{})}),e.jsx(hn,{children:e.jsx(ne,{spacing:6,align:"stretch",children:e.jsxs(ue,{p:6,bg:"teal.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"teal.500",children:[e.jsx(Pe,{size:"md",mb:2,children:" Vue Calendrier"}),e.jsx("p",{children:"Bientt disponible : calendrier interactif de vos tournes et vnements."})]})})}),e.jsx(hn,{children:e.jsx(ne,{spacing:6,align:"stretch",children:e.jsx(FJ,{})})})]})]})})})}const UJ=({value:t,onChange:n,isRequired:r=!1})=>{const[i,l]=v.useState([]),[u,d]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),x=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/vehicles",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(x.ok){const y=await x.json();l(y)}}catch(g){console.error("Erreur lors du chargement des vhicules:",g)}finally{d(!1)}})()},[]);const m=i.find(p=>p.parc===t);return e.jsxs(ue,{children:[e.jsxs(K,{children:["Vhicule participant ",r&&e.jsx(P,{as:"span",color:"red.500",children:"*"})]}),u?e.jsxs(nr,{align:"center",justify:"center",py:4,children:[e.jsx(mn,{size:"sm",mr:2}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Chargement des vhicules..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(st,{placeholder:"Slectionner un vhicule (optionnel)",value:t,onChange:p=>n(p.target.value),bg:"white",children:i.map(p=>e.jsxs("option",{value:p.parc,children:[p.marque," ",p.modele," - ",p.parc,p.immat&&` (${p.immat})`]},p.parc))}),m&&e.jsxs(ue,{mt:3,p:3,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[e.jsxs(nr,{align:"center",children:[m.gallery&&m.gallery[0]&&e.jsx(Oi,{src:`https://refreshing-adaptation-rbe-serveurs.up.railway.app${m.gallery[0]}`,alt:`${m.marque} ${m.modele}`,boxSize:"60px",objectFit:"cover",borderRadius:"md",mr:3}),e.jsxs(ue,{flex:1,children:[e.jsxs(P,{fontWeight:"bold",color:"blue.700",children:[m.marque," ",m.modele]}),e.jsxs(re,{spacing:2,mt:1,children:[e.jsx(et,{colorScheme:"blue",fontSize:"xs",children:m.parc}),m.immat&&e.jsx(et,{colorScheme:"green",fontSize:"xs",children:m.immat}),m.miseEnCirculation&&e.jsx(et,{colorScheme:"orange",fontSize:"xs",children:new Date(m.miseEnCirculation).getFullYear()})]}),m.subtitle&&e.jsx(P,{fontSize:"sm",color:"gray.600",mt:1,children:m.subtitle})]})]}),e.jsxs(ne,{spacing:2,align:"start",mt:3,children:[e.jsx(P,{fontSize:"xs",color:"blue.600",fontStyle:"italic",fontWeight:"semibold",children:" Ce vhicule sera mis en avant sur sa page individuelle avec une banderole spciale pour cet vnement"}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Les visiteurs verront une banderole thmatique adapte au type d'vnement sur la page de ce vhicule."})]})]})]}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:2,children:"Slectionnez un vhicule pour qu'il soit associ  cet vnement. Une banderole apparatra sur sa page pour informer les visiteurs de sa participation."})]})},lj={public_info_only:{name:"Information publique",color:"blue",description:"vnement d'information sans inscription",defaults:{isVisible:!0,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"public_info_only"}},paid_event:{name:"vnement payant",color:"green",description:"vnement avec tarifs et inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!1,registrationMethod:"helloasso",eventType:"paid_event"}},free_registration:{name:"Inscription gratuite",color:"purple",description:"vnement gratuit avec inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!0,registrationMethod:"internal",eventType:"free_registration"}},internal_only:{name:"vnement interne",color:"orange",description:"vnement rserv aux membres",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"internal_only"}},maintenance:{name:"Maintenance/Atelier",color:"red",description:"Activit de maintenance ou atelier technique",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"maintenance"}}};function HJ(){const[t,n]=v.useState([]),[r,i]=v.useState([]),[l,u]=v.useState(!0),[d,m]=v.useState(!1),[p,g]=v.useState("cards"),[x,y]=v.useState(""),{isOpen:S,onOpen:w,onClose:C}=Rt(),[_,T]=v.useState(null),[R,D]=v.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),k=on(),N=v.useCallback(async()=>{try{u(!0);const se=await Pa.getAll();n(Array.isArray(se)?se:[])}catch(se){console.error(se),k({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements"}),n([])}finally{u(!1)}},[k]),M=v.useCallback(async()=>{try{const se=await wp.getAll();i(Array.isArray(se)?se:[])}catch(se){console.error(se),i([])}},[]);v.useEffect(()=>{N(),M()},[N,M]);const O=()=>{D({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),y(""),T(null)},H=se=>{const Y=lj[se];Y&&(D(q=>({...q,...Y.defaults,eventType:se})),y(se),k({status:"info",title:"Template appliqu",description:Y.description}))},U=()=>{T(null),O(),w()},ae=se=>{T(se);let Y={};try{Y=se.extras?JSON.parse(se.extras):{}}catch(q){console.log("Impossible de parser extras:",q)}D({title:se.title||"",date:se.date?se.date.split("T")[0]:"",time:se.time||"",location:se.location||"",description:se.description||"",adultPrice:se.adultPrice?se.adultPrice.toString():"",childPrice:se.childPrice?se.childPrice.toString():"",helloAssoUrl:se.helloAssoUrl||"",vehicleId:se.vehicleId||"",status:se.status||"DRAFT",isVisible:Y.isVisible!==void 0?Y.isVisible:!0,allowPublicRegistration:Y.allowPublicRegistration||!1,requiresRegistration:Y.requiresRegistration||!1,isFree:Y.isFree!==void 0?Y.isFree:!0,maxParticipants:Y.maxParticipants?Y.maxParticipants.toString():"",registrationDeadline:Y.registrationDeadline||"",registrationMethod:Y.registrationMethod||"none",pdfUrl:Y.pdfUrl||"",eventType:Y.eventType||"public_info_only"}),y(Y.eventType||""),w()},he=async()=>{if(!R.title.trim()||!R.date){k({status:"error",title:"Champs requis",description:"Le titre et la date sont obligatoires"});return}try{m(!0);const se={title:R.title.trim(),date:R.date,time:R.time||null,location:R.location.trim()||null,description:R.description.trim()||null,adultPrice:R.adultPrice?parseFloat(R.adultPrice):null,childPrice:R.childPrice?parseFloat(R.childPrice):null,helloAssoUrl:R.helloAssoUrl.trim()||null,vehicleId:R.vehicleId||null,status:R.status,extras:JSON.stringify({isVisible:R.isVisible,allowPublicRegistration:R.allowPublicRegistration,requiresRegistration:R.requiresRegistration,isFree:R.isFree,maxParticipants:R.maxParticipants?parseInt(R.maxParticipants):null,registrationDeadline:R.registrationDeadline||null,registrationMethod:R.registrationMethod,pdfUrl:R.pdfUrl||null,eventType:R.eventType})};if(_)await Pa.update(_.id,se),k({status:"success",title:"vnement modifi",description:"Les modifications ont t sauvegardes"});else{const Y=R.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,20)+new Date().getFullYear();await Pa.create({id:Y,...se}),k({status:"success",title:"vnement cr",description:"Le nouvel vnement a t cr avec succs"})}N(),C(),O()}catch(se){console.error(se),k({status:"error",title:"Erreur de sauvegarde",description:"Impossible de sauvegarder l'vnement"})}finally{m(!1)}},le=async()=>{const se=localStorage.getItem("token");if(console.log(" Testing API connection..."),!se){k({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const Y=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}});Y.ok?k({status:"success",title:"API fonctionnelle",description:"La connexion API fonctionne"}):k({status:"error",title:"Erreur API",description:`Status: ${Y.status}`})}catch(Y){k({status:"error",title:"Erreur rseau",description:Y.message})}},de=se=>{const Y={DRAFT:{colorScheme:"gray",label:"Brouillon"},PUBLISHED:{colorScheme:"green",label:"Publi"},ARCHIVED:{colorScheme:"orange",label:"Archiv"}},q=Y[se]||Y.DRAFT;return e.jsx(et,{colorScheme:q.colorScheme,children:q.label})},Re=se=>{const Y=typeof se.extras=="string"?JSON.parse(se.extras||"{}"):se.extras||{},q=lj[Y.eventType];return q?e.jsx(et,{colorScheme:q.color,variant:"outline",children:q.name}):null},fe=se=>{const Y=r.find(q=>q.parc===se);return Y?`${Y.parc} - ${Y.modele}`:"Aucun vhicule"};return e.jsxs(ue,{p:6,children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{children:" Cration des vnements"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(re,{spacing:3,children:[e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:le,children:"Tester API"}),e.jsx(J,{leftIcon:p==="cards"?e.jsx(aM,{}):e.jsx(P1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:U,children:"Nouvel vnement"})]})]}),l?e.jsx(vn,{py:20,children:e.jsx(mn,{size:"xl"})}):t.length===0?e.jsx(vn,{py:20,children:e.jsxs(ne,{spacing:4,children:[e.jsx(P,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:U,children:"Crer le premier vnement"})]})}):e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(se=>e.jsxs(Ne,{shadow:"md",position:"relative",children:[e.jsx(St,{pb:2,children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(re,{justify:"space-between",w:"100%",children:e.jsx(Pe,{size:"md",noOfLines:2,flex:1,children:se.title})}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[de(se.status),Re(se)]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx($s,{}),e.jsxs(P,{fontSize:"sm",children:[se.date," ",se.time&&` ${se.time}`]})]}),se.location&&e.jsxs(re,{children:[e.jsx(_c,{}),e.jsx(P,{fontSize:"sm",children:se.location})]}),se.vehicleId&&e.jsxs(re,{children:[e.jsx(P,{fontSize:"sm",children:""}),e.jsx(P,{fontSize:"sm",fontWeight:"semibold",color:"blue.600",children:fe(se.vehicleId)})]}),se.description&&e.jsx(P,{fontSize:"sm",color:"gray.600",noOfLines:3,children:se.description}),e.jsx(J,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>ae(se),w:"100%",children:"Modifier"})]})})]},se.id))}),e.jsxs(wt,{isOpen:S,onClose:C,size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:_?"Modifier l'vnement":"Crer un nouvel vnement"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ho,{children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:"Informations de base"}),e.jsx(dn,{children:"Configuration"}),e.jsx(dn,{children:"Inscription & Prix"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:2,children:"Dmarrage rapide :"}),e.jsx(re,{spacing:2,wrap:"wrap",children:Object.entries(lj).map(([se,Y])=>e.jsx(J,{size:"sm",colorScheme:Y.color,variant:x===se?"solid":"outline",onClick:()=>H(se),children:Y.name},se))})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:R.title,onChange:se=>D(Y=>({...Y,title:se.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:R.date,onChange:se=>D(Y=>({...Y,date:se.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure"}),e.jsx(ge,{type:"time",value:R.time,onChange:se=>D(Y=>({...Y,time:se.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Lieu"}),e.jsx(ge,{value:R.location,onChange:se=>D(Y=>({...Y,location:se.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Vhicule assign"}),e.jsx(UJ,{vehicles:r,value:R.vehicleId,onChange:se=>D(Y=>({...Y,vehicleId:se}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:R.description,onChange:se=>D(Y=>({...Y,description:se.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsxs(st,{value:R.status,onChange:se=>D(Y=>({...Y,status:se.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"}),e.jsx("option",{value:"ARCHIVED",children:"Archiv"})]})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:"0",children:"Visible sur le site public"}),e.jsx(ur,{isChecked:R.isVisible,onChange:se=>D(Y=>({...Y,isVisible:se.target.checked}))})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:"0",children:"Inscription requise"}),e.jsx(ur,{isChecked:R.requiresRegistration,onChange:se=>D(Y=>({...Y,requiresRegistration:se.target.checked}))})]}),R.requiresRegistration&&e.jsxs(Q,{children:[e.jsx(K,{children:"Mthode d'inscription"}),e.jsxs(st,{value:R.registrationMethod,onChange:se=>D(Y=>({...Y,registrationMethod:se.target.value})),children:[e.jsx("option",{value:"none",children:"Aucune"}),e.jsx("option",{value:"helloasso",children:"HelloAsso"}),e.jsx("option",{value:"pdf",children:"Formulaire PDF"}),e.jsx("option",{value:"internal",children:"Systme interne"})]})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:"0",children:"vnement gratuit"}),e.jsx(ur,{isChecked:R.isFree,onChange:se=>D(Y=>({...Y,isFree:se.target.checked}))})]}),!R.isFree&&e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Prix adulte ()"}),e.jsx(ge,{type:"number",step:"0.01",value:R.adultPrice,onChange:se=>D(Y=>({...Y,adultPrice:se.target.value})),placeholder:"0.00"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prix enfant ()"}),e.jsx(ge,{type:"number",step:"0.01",value:R.childPrice,onChange:se=>D(Y=>({...Y,childPrice:se.target.value})),placeholder:"0.00"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nombre maximum de participants"}),e.jsx(ge,{type:"number",value:R.maxParticipants,onChange:se=>D(Y=>({...Y,maxParticipants:se.target.value})),placeholder:"Illimit"})]}),R.registrationMethod==="helloasso"&&e.jsxs(Q,{children:[e.jsx(K,{children:"URL HelloAsso"}),e.jsx(ge,{value:R.helloAssoUrl,onChange:se=>D(Y=>({...Y,helloAssoUrl:se.target.value})),placeholder:"https://www.helloasso.com/..."})]}),R.registrationMethod==="pdf"&&e.jsxs(Q,{children:[e.jsx(K,{children:"URL du formulaire PDF"}),e.jsx(ge,{value:R.pdfUrl,onChange:se=>D(Y=>({...Y,pdfUrl:se.target.value})),placeholder:"https://exemple.com/formulaire.pdf"})]})]})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:()=>{C(),O()},children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:he,isLoading:d,children:_?"Modifier":"Crer"})]})]})]})]})}function WJ(){return e.jsxs(ue,{p:6,bg:"green.100",minH:"100vh",children:[e.jsx(Pe,{color:"green.800",mb:4,children:" TEST - Gestion des vnements"}),e.jsx(P,{color:"green.700",mb:4,children:"Si vous voyez cette page, la redirection depuis MyRBE fonctionne !"}),e.jsx(J,{as:cr,to:"/dashboard/myrbe",colorScheme:"green",children:"Retour  MyRBE"})]})}function cj(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function qJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function GJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function kM(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function eA(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function tA(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function YJ(t){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function nA(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function ZJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function DM(t){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function PM(t){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function N1(t,{preferUpperLast:n=!0}={}){if(!t)return"Utilisateur";const r=t.firstName||t.prenom||t.given_name||"",i=t.lastName||t.nom||t.family_name||"",l=t.username||t.matricule||"",u=t.email||"",d=[];return n&&i&&d.push(String(i).toUpperCase()),r&&d.push(r),d.length?d.join(" ").trim():i||r?[r,i].filter(Boolean).join(" ").trim():l||u||"Utilisateur"}function L1(t){if(!t)return"Adhrent";const n=t.firstName||"",r=t.lastName||"",i=t.memberNumber||"",l=t.email||"",d=[r?String(r).toUpperCase():"",n].filter(Boolean).join(" ").trim()||l||i||"Adhrent";return i?`${d} - #${i}`:d}const op={async getAll(t){const n=await fetch("/api/email-templates",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Failed to fetch templates: ${n.statusText}`);return n.json()},async getById(t,n){const r=await fetch(`/api/email-templates/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Failed to fetch template: ${r.statusText}`);return r.json()},async create(t,n){const r=await fetch("/api/email-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to create template")}return r.json()},async update(t,n,r){const i=await fetch(`/api/email-templates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to update template")}return i.json()},async delete(t,n){const r=await fetch(`/api/email-templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to delete template")}return r.json()},async preview(t,n,r){const i=await fetch(`/api/email-templates/preview/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to preview template")}return i.json()}};function XJ({isOpen:t,onClose:n,template:r,onSave:i,isLoading:l}){const[u,d]=v.useState({name:"",subject:"",body:"",description:"",variables:"",active:!0});v.useEffect(()=>{d(r||{name:"",subject:"",body:"",description:"",variables:"",active:!0})},[r,t]);const m=g=>{const{name:x,value:y,checked:S,type:w}=g.target;d(C=>({...C,[x]:w==="checkbox"?S:y}))},p=()=>{if(!u.name.trim()||!u.subject.trim()||!u.body.trim()){alert("Name, subject, and body are required");return}i(u)};return e.jsxs(wt,{isOpen:t,onClose:n,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:r?.id?"Edit Template":"Create New Template"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(uo,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Template Name (unique, lowercase)"}),e.jsx(ge,{name:"name",value:u.name,onChange:m,placeholder:"e.g., ticket_created",isDisabled:!!r?.id}),e.jsx(ux,{children:"Use lowercase letters, numbers, and underscores. Cannot be changed after creation."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Subject (supports variables)"}),e.jsx(ge,{name:"subject",value:u.subject,onChange:m,placeholder:"New ticket: {{ticket.id}}"}),e.jsx(ux,{children:"Use double curly braces for variables, e.g.: ticket.id, creator.name"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Body (supports variables)"}),e.jsx(en,{name:"body",value:u.body,onChange:m,placeholder:"Enter email body...",minH:"200px"}),e.jsx(ux,{children:"Use double curly braces for variables. Supports plain text."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{name:"description",value:u.description,onChange:m,placeholder:"Describe when and how this template is used...",minH:"80px"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Available Variables (comma-separated, for documentation)"}),e.jsx(en,{name:"variables",value:u.variables,onChange:m,placeholder:"ticket.id, ticket.title, creator.name, creator.email",minH:"60px"})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{htmlFor:"active",mb:"0",children:"Active"}),e.jsx(ur,{id:"active",name:"active",isChecked:u.active,onChange:m,ml:4})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:n,children:"Cancel"}),e.jsxs(J,{colorScheme:"blue",onClick:p,isLoading:l,children:[r?.id?"Update":"Create"," Template"]})]})]})]})}function KJ({isOpen:t,onClose:n,template:r,token:i}){const[l,u]=v.useState(`{
  "ticket": {
    "id": "T-001",
    "title": "Test ticket"
  },
  "creator": {
    "name": "John Doe",
    "email": "john@example.com"
  }
}`),[d,m]=v.useState(null),[p,g]=v.useState(!1),[x,y]=v.useState(null),S=on(),w=async()=>{try{g(!0),y(null);const C=JSON.parse(l),_=await op.preview(r.name,C,i);m(_.preview)}catch(C){y(C.message),S({title:"Error",description:C.message,status:"error",duration:3})}finally{g(!1)}};return e.jsxs(wt,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsxs(Et,{children:["Preview Template: ",r?.name]}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(uo,{spacing:4,children:[e.jsxs(ue,{children:[e.jsx(K,{children:"Test Data (JSON)"}),e.jsx(en,{value:l,onChange:C=>u(C.target.value),fontFamily:"monospace",fontSize:"xs",minH:"150px"})]}),e.jsx(J,{onClick:w,colorScheme:"blue",isLoading:p,children:"Generate Preview"}),x&&e.jsxs(ue,{p:3,bg:"red.50",borderRadius:"md",color:"red.800",children:["Error: ",x]}),d&&e.jsxs(ne,{align:"start",spacing:3,p:3,bg:"gray.50",borderRadius:"md",children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Subject:"}),e.jsx(P,{fontFamily:"monospace",fontSize:"sm",children:d.subject})]}),e.jsx(bn,{}),e.jsxs(ue,{w:"100%",children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Body:"}),e.jsx(ue,{p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",fontSize:"sm",whiteSpace:"pre-wrap",fontFamily:"monospace",children:d.body})]})]})]})}),e.jsx(Ft,{children:e.jsx(J,{colorScheme:"blue",onClick:n,children:"Close"})})]})]})}function QJ({token:t}){const[n,r]=v.useState([]),[i,l]=v.useState(!1),[u,d]=v.useState(null),[m,p]=v.useState(null),[g,x]=v.useState(null),{isOpen:y,onOpen:S,onClose:w}=Rt(),{isOpen:C,onOpen:_,onClose:T}=Rt(),R=on();v.useEffect(()=>{D()},[t]);const D=async()=>{try{l(!0),d(null);const U=await op.getAll(t);r(U.templates||[])}catch(U){d(U.message),R({title:"Error loading templates",description:U.message,status:"error",duration:3})}finally{l(!1)}},k=()=>{p(null),S()},N=U=>{p(U),S()},M=U=>{x(U),_()},O=async U=>{if(confirm(`Are you sure you want to delete template "${U.name}"?`))try{await op.delete(U.id,t),R({title:"Template deleted",status:"success",duration:2}),D()}catch(ae){R({title:"Error deleting template",description:ae.message,status:"error",duration:3})}},H=async U=>{try{m?.id?(await op.update(m.id,U,t),R({title:"Template updated",status:"success",duration:2})):(await op.create(U,t),R({title:"Template created",status:"success",duration:2})),w(),D()}catch(ae){R({title:"Error saving template",description:ae.message,status:"error",duration:3})}};return e.jsxs(ue,{p:6,children:[e.jsxs(nr,{justify:"space-between",align:"center",mb:6,children:[e.jsx(Pe,{size:"lg",children:"Email Templates"}),e.jsx(J,{leftIcon:e.jsx(GP,{}),colorScheme:"green",onClick:k,children:"Create Template"})]}),u&&e.jsx(ue,{p:4,mb:6,bg:"red.50",borderRadius:"md",color:"red.800",children:u}),i?e.jsx(nr,{justify:"center",py:12,children:e.jsx(mn,{size:"lg"})}):n.length===0?e.jsx(Ne,{children:e.jsx(Ie,{textAlign:"center",py:12,children:e.jsx(P,{color:"gray.500",children:"No templates yet. Create your first one!"})})}):e.jsx(vi,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:n.map(U=>e.jsxs(Ne,{children:[e.jsx(St,{pb:2,children:e.jsx(nr,{justify:"space-between",align:"start",children:e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsx(Pe,{size:"md",children:U.name}),e.jsx(et,{colorScheme:U.active?"green":"gray",children:U.active?"Active":"Inactive"})]})})}),e.jsx(bn,{}),e.jsx(Ie,{children:e.jsxs(uo,{spacing:3,children:[e.jsxs(ue,{children:[e.jsx(P,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Subject:"}),e.jsx(P,{fontSize:"sm",noOfLines:2,children:U.subject})]}),U.description&&e.jsxs(ue,{children:[e.jsx(P,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Description:"}),e.jsx(P,{fontSize:"sm",noOfLines:2,children:U.description})]}),e.jsxs(re,{spacing:2,pt:2,children:[e.jsx(Js,{label:"Preview",children:e.jsx(J,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>M(U),children:e.jsx(um,{})})}),e.jsx(Js,{label:"Edit",children:e.jsx(J,{size:"sm",variant:"outline",colorScheme:"orange",onClick:()=>N(U),children:e.jsx(_1,{})})}),e.jsx(Js,{label:"Delete",children:e.jsx(J,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>O(U),children:e.jsx(vv,{})})})]})]})})]},U.id))}),e.jsx(XJ,{isOpen:y,onClose:w,template:m,onSave:H,isLoading:i}),g&&e.jsx(KJ,{isOpen:C,onClose:T,template:g,token:t})]})}const JJ=()=>{const[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,u]=v.useState(null),[d,m]=v.useState(""),[p,g]=v.useState(""),x=on(),y=Rt(),S=Rt(),w=Rt(),[C,_]=v.useState({name:"",description:"",htmlContent:"",logoSmall:"",logoBig:"",isDefault:!1});v.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0);const U=await fetch("/api/quote-templates");if(!U.ok)throw new Error("Failed to load templates");const ae=await U.json();n(ae),g("")}catch(U){g(U.message),x({title:"Erreur",description:U.message,status:"error"})}finally{i(!1)}},R=async()=>{try{if(!C.name||!C.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch("/api/quote-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...C,createdBy:"admin"})})).ok)throw new Error("Failed to create template");x({title:"Succs",description:"Template cr avec succs",status:"success"}),T(),O(),y.onClose()}catch(U){x({title:"Erreur",description:U.message,status:"error"})}},D=async()=>{try{if(!C.name||!C.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch(`/api/quote-templates/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok)throw new Error("Failed to update template");x({title:"Succs",description:"Template mis  jour",status:"success"}),T(),O(),S.onClose()}catch(U){x({title:"Erreur",description:U.message,status:"error"})}},k=async U=>{if(window.confirm("tes-vous sr de vouloir supprimer ce template?"))try{if(!(await fetch(`/api/quote-templates/${U}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template");x({title:"Succs",description:"Template supprim",status:"success"}),T()}catch(ae){x({title:"Erreur",description:ae.message,status:"error"})}},N=async U=>{try{const ae=await fetch(`/api/quote-templates/${U.id}/preview`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ae.ok)throw new Error("Failed to generate preview");const he=await ae.json();m(he.html),u(U),w.onOpen()}catch(ae){x({title:"Erreur",description:ae.message,status:"error"})}},M=U=>{u(U),_({name:U.name,description:U.description||"",htmlContent:U.htmlContent,logoSmall:U.logoSmall||"",logoBig:U.logoBig||"",isDefault:U.isDefault}),S.onOpen()},O=()=>{_({name:"",description:"",htmlContent:"",logoSmall:"",logoBig:"",isDefault:!1}),u(null)},H=()=>{O(),y.onOpen()};return e.jsxs(ue,{p:6,children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(P,{fontSize:"2xl",fontWeight:"bold",children:"Gestion des Templates de Documents"}),e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Crez et personnalisez les templates HTML pour vos devis et factures"})]}),e.jsx(J,{colorScheme:"blue",onClick:H,children:"+ Nouveau Template"})]}),e.jsx(bn,{}),r?e.jsx(P,{children:"Chargement..."}):t.length===0?e.jsxs(ue,{p:8,textAlign:"center",bg:"gray.50",borderRadius:"md",children:[e.jsx(P,{color:"gray.500",children:"Aucun template disponible"}),e.jsx(J,{colorScheme:"blue",mt:4,onClick:H,children:"Crer le premier template"})]}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.100",children:[e.jsx(ke,{children:"Nom"}),e.jsx(ke,{children:"Description"}),e.jsx(ke,{children:"Dfaut"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:t.map(U=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"600",children:U.name}),e.jsx(Ae,{fontSize:"sm",children:U.description||"-"}),e.jsx(Ae,{children:U.isDefault&&e.jsx(et,{colorScheme:"yellow",children:"Dfaut"})}),e.jsx(Ae,{children:e.jsxs(re,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(um,{}),size:"sm",variant:"ghost",onClick:()=>N(U),title:"Aperu"}),e.jsx(yt,{icon:e.jsx(_1,{}),size:"sm",variant:"ghost",onClick:()=>M(U),title:"Modifier"}),e.jsx(yt,{icon:e.jsx(vv,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>k(U.id),title:"Supprimer"})]})})]},U.id))})]})})]}),e.jsxs(wt,{isOpen:y.isOpen,onClose:y.onClose,size:"2xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:"Crer un nouveau template de devis"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsx(ge,{placeholder:"Nom du template",value:C.name,onChange:U=>_({...C,name:U.target.value})}),e.jsx(en,{placeholder:"Description (optionnel)",value:C.description,onChange:U=>_({...C,description:U.target.value})}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(en,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:C.htmlContent,onChange:U=>_({...C,htmlContent:U.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Petit (optionnel)"}),e.jsx(ge,{type:"file",accept:"image/*",onChange:async U=>{const ae=U.target.files[0];if(ae){const he=new FileReader;he.onload=le=>{_({...C,logoSmall:le.target.result})},he.readAsDataURL(ae)}}}),C.logoSmall&&e.jsx(ue,{mt:2,children:e.jsx("img",{src:C.logoSmall,alt:"Logo petit",style:{maxHeight:"50px"}})})]}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Grand (optionnel)"}),e.jsx(ge,{type:"file",accept:"image/*",onChange:async U=>{const ae=U.target.files[0];if(ae){const he=new FileReader;he.onload=le=>{_({...C,logoBig:le.target.result})},he.readAsDataURL(ae)}}}),C.logoBig&&e.jsx(ue,{mt:2,children:e.jsx("img",{src:C.logoBig,alt:"Logo grand",style:{maxHeight:"100px"}})})]}),e.jsx(re,{children:e.jsx(so,{isChecked:C.isDefault,onChange:U=>_({...C,isDefault:U.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(P,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(P,{fontSize:"xs",fontFamily:"mono",children:"{{NUM_DEVIS}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{DESTINATAIRE_NOM}}, {{DESTINATAIRE_ADRESSE}}, {{NOTES}}, {{LOGO_BIG}}, {{LOGO_SMALL}}"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:y.onClose,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:R,children:"Crer"})]})]})]}),e.jsxs(wt,{isOpen:S.isOpen,onClose:S.onClose,size:"2xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:"Modifier le template"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsx(ge,{placeholder:"Nom du template",value:C.name,onChange:U=>_({...C,name:U.target.value})}),e.jsx(en,{placeholder:"Description (optionnel)",value:C.description,onChange:U=>_({...C,description:U.target.value})}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(en,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:C.htmlContent,onChange:U=>_({...C,htmlContent:U.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Petit (optionnel)"}),e.jsx(ge,{type:"file",accept:"image/*",onChange:async U=>{const ae=U.target.files[0];if(ae){const he=new FileReader;he.onload=le=>{_({...C,logoSmall:le.target.result})},he.readAsDataURL(ae)}}}),C.logoSmall&&e.jsx(ue,{mt:2,children:e.jsx("img",{src:C.logoSmall,alt:"Logo petit",style:{maxHeight:"50px"}})})]}),e.jsxs(ue,{w:"full",children:[e.jsx(P,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Grand (optionnel)"}),e.jsx(ge,{type:"file",accept:"image/*",onChange:async U=>{const ae=U.target.files[0];if(ae){const he=new FileReader;he.onload=le=>{_({...C,logoBig:le.target.result})},he.readAsDataURL(ae)}}}),C.logoBig&&e.jsx(ue,{mt:2,children:e.jsx("img",{src:C.logoBig,alt:"Logo grand",style:{maxHeight:"100px"}})})]}),e.jsx(re,{children:e.jsx(so,{isChecked:C.isDefault,onChange:U=>_({...C,isDefault:U.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(P,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(P,{fontSize:"xs",fontFamily:"mono",children:"{{NUM_DEVIS}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{DESTINATAIRE_NOM}}, {{DESTINATAIRE_ADRESSE}}, {{NOTES}}, {{LOGO_BIG}}, {{LOGO_SMALL}}"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:S.onClose,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:D,children:"Mettre  jour"})]})]})]}),e.jsxs(wt,{isOpen:w.isOpen,onClose:w.onClose,size:"4xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsxs(Et,{children:["Aperu du template: ",l?.name]}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsx(ue,{p:6,bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",dangerouslySetInnerHTML:{__html:d},overflowY:"auto",maxH:"60vh"})}),e.jsx(Ft,{children:e.jsx(J,{onClick:w.onClose,children:"Fermer"})})]})]})]})},is={siteUsers:["api/site-users","site-users"],members:["api/members","members"],siteConfig:["api/site-config","site-config"],changelog:["api/changelog","changelog"],retroNews:["api/retro-news","retro-news"],notifications:["api/notifications","notifications"]},wu=()=>"api/site-users",kb=()=>"api/members",Wf=()=>"api/site-config",Fg=()=>"api/changelog",Cu=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",Db=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",qf=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",Vg=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",eee=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",Cp=t=>String(t||"").trim().replace(/^\/+|\/+$/g,""),tee=()=>Cp(""),as=(t,n,r="",i)=>{const l=Cp(r),u=tee(),d=new Set;typeof window<"u"&&window.location?.origin&&window.location.origin.replace(/\/+$/,"");const m=g=>{const x=[Cp(g)];l&&x.push(l);const y=x.filter(Boolean).join("/");y&&d.add(y)},p=g=>{if(!u)return;const x=Cp(g);x.startsWith(`${u}/`)||m(`${u}/${x}`)};return n&&m(n),t.forEach(g=>p(g)),t.forEach(g=>m(g)),Array.from(d)},fm=async(t,n,r)=>{Array.isArray(t)||(t=[t]);const i=[];for(const l of t)try{const u=Cp(l);if(!u)continue;const d=u.startsWith("/")?u:`/${u}`;let m;return n==="GET"?m=await Nt.get(d):n==="POST"?m=await Nt.post(d,r):n==="PUT"?m=await Nt.put(d,r):n==="PATCH"?m=await Nt.patch(d,r):n==="DELETE"&&(m=await Nt.delete(d)),console.log(` Success with URL: ${d}`),{data:m,headers:{},url:d}}catch(u){i.push(`${l}: ${u.message}`),console.log(` Failed URL ${l}: ${u.message}`)}throw new Error(`All URLs failed: ${i.join(" | ")}`)},_l=async t=>fm(t,"GET"),O1=async(t,n)=>fm(t,"POST",n),lp=async(t,n)=>fm(t,"PUT",n),nee=async(t,n)=>fm(t,"PATCH",n),MM=async t=>fm(t,"DELETE");function ree(){const[t,n]=v.useState([]),[r,i]=v.useState([]),[l,u]=v.useState(!0),[d,m]=v.useState(""),[p,g]=v.useState("ALL"),[x,y]=v.useState("ALL"),[S,w]=v.useState(null),[C,_]=v.useState({}),[T,R]=v.useState([]),[D,k]=v.useState(0),{isOpen:N,onOpen:M,onClose:O}=Rt(),{isOpen:H,onOpen:U,onClose:ae}=Rt(),he=on(),le=Tn("white","gray.800");v.useEffect(()=>{de(),Re(),fe(),se()},[]);const de=async()=>{try{u(!0);const F=(await _l(as(is.siteUsers,wu(),"",Cu()))).data;n(Array.isArray(F)?F:F?.users||[])}catch($){console.error("Erreur chargement utilisateurs:",$),he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}finally{u(!1)}},Re=async()=>{try{const F=(await _l(as(is.members,kb(),"",Db()),{params:{status:"ACTIVE"}})).data;i(Array.isArray(F)?F:F?.members||[])}catch($){console.error("Erreur chargement membres:",$),he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},fe=async()=>{try{const $=await _l(as(is.siteUsers,wu(),"stats",Cu()));_($.data||{})}catch($){if(console.error("Erreur chargement stats:",$),Array.isArray(t)&&t.length>0){const F=t.length,G=t.filter(be=>be.isActive).length,X=t.filter(be=>!!be.linkedMember).length,ye=Date.now()-1440*60*1e3,ve=t.filter(be=>be.lastLoginAt&&new Date(be.lastLoginAt).getTime()>=ye).length;_({totalUsers:F,activeUsers:G,linkedUsers:X,recentLogins:ve}),he({title:"Stats calcules localement",description:"Endpoint /site-users/stats indisponible, valeurs estimes  partir des utilisateurs chargs.",status:"info",duration:4e3})}else he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},se=async()=>{try{const F=(await _l(as(is.retroNews,"","",eee()))).data||[];R(Array.isArray(F)?F:[])}catch($){console.error("Erreur chargement RtroNews:",$),R([])}},Y=()=>{de(),Re(),fe()},q=t.filter($=>{const F=$.username?.toLowerCase().includes(d.toLowerCase())||$.email?.toLowerCase().includes(d.toLowerCase())||$.firstName?.toLowerCase().includes(d.toLowerCase())||$.lastName?.toLowerCase().includes(d.toLowerCase()),G=p==="ALL"||$.role===p,X=x==="ALL"||x==="ACTIVE"&&$.isActive||x==="INACTIVE"&&!$.isActive;return F&&G&&X});return e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"md",children:" Gestion des Accs Sites"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Gestion des comptes d'accs aux sites interne et externe"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:M,children:"Crer un accs"})]}),e.jsxs(ft,{columns:{base:2,md:3},spacing:4,children:[e.jsx(Ne,{bg:le,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total accs"}),e.jsx(vt,{color:"blue.500",children:C.totalUsers||0})]})})}),e.jsx(Ne,{bg:le,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Lis aux adhsions"}),e.jsx(vt,{color:"purple.500",children:C.linkedUsers||0})]})})}),e.jsx(Ne,{bg:le,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Connexions 24h"}),e.jsx(vt,{color:"orange.500",children:C.recentLogins||0})]})})})]}),T.length>0&&e.jsxs(Ne,{bg:le,children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Pe,{size:"sm",children:" RtroNews"}),e.jsxs(re,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(sM,{}),size:"sm",onClick:()=>k($=>$===0?T.length-1:$-1),"aria-label":"News prcdente",isDisabled:T.length<=1}),e.jsxs(P,{fontSize:"xs",color:"gray.500",children:[D+1," / ",T.length]}),e.jsx(yt,{icon:e.jsx(Nx,{}),size:"sm",onClick:()=>k($=>($+1)%T.length),"aria-label":"News suivante",isDisabled:T.length<=1})]})]})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(Pe,{size:"md",children:T[D]?.title||"Sans titre"}),T[D]?.date&&e.jsx(P,{fontSize:"sm",color:"gray.500",children:new Date(T[D].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(P,{children:T[D]?.content||""}),T[D]?.imageUrl&&e.jsx(Oi,{src:T[D].imageUrl,alt:T[D]?.title,maxH:"200px",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsx(Ne,{bg:le,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:4,children:[e.jsxs(kc,{flex:1,children:[e.jsx(Dc,{children:e.jsx(hm,{})}),e.jsx(ge,{placeholder:"Rechercher par nom, email ou identifiant...",value:d,onChange:$=>m($.target.value)})]}),e.jsxs(st,{value:p,onChange:$=>g($.target.value),maxW:"220px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"})]}),e.jsxs(st,{value:x,onChange:$=>y($.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"INACTIVE",children:"Inactif"})]}),e.jsx(J,{leftIcon:e.jsx(io,{}),onClick:de,size:"sm",children:"Actualiser"})]})})}),l?e.jsx(vn,{py:8,children:e.jsxs(ne,{spacing:4,children:[e.jsx(mn,{size:"lg"}),e.jsx(P,{children:"Chargement des accs..."})]})}):e.jsx(Ne,{bg:le,children:e.jsxs(Ie,{children:[e.jsxs(Un,{size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Utilisateur"}),e.jsx(ke,{children:"Matricule"}),e.jsx(ke,{children:"Rle"}),e.jsx(ke,{children:"Accs"}),e.jsx(ke,{children:"Adhsion lie"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Dernire connexion"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:q.map($=>e.jsx(see,{user:$,onEdit:()=>W($),onToggleStatus:()=>Ee($),onLink:()=>B($),onViewLogs:()=>ie($),onDelete:()=>xe($)},$.id))})]}),q.length===0&&e.jsxs(Wt,{status:"info",mt:4,children:[e.jsx(qt,{}),"Aucun utilisateur trouv avec ces critres"]})]})}),e.jsx(iee,{isOpen:N,onClose:()=>{O(),w(null)},members:r,user:S,onUserSaved:Y}),e.jsx(aee,{isOpen:H,onClose:ae,user:S,members:r,onLinked:Y})]});function W($){w($),M()}async function Ee($){try{await nee(as(is.siteUsers,wu(),`${$.id}`,Cu()),{isActive:!$.isActive}),he({title:"Succs",description:`Accs ${$.isActive?"dsactiv":"activ"}`,status:"success",duration:3e3}),Y()}catch(F){console.error(F),he({title:"Erreur",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}function B($){w($),U()}function ie($){he({title:"Info",description:`Affichage des logs pour ${$.username}  venir`,status:"info",duration:3e3})}async function xe($){if(window.confirm(`Supprimer dfinitivement l'accs de ${N1($)} (${$.username}) ?`))try{await MM(as(is.siteUsers,wu(),`${$.id}`,Cu())),he({title:"Accs supprim",description:`L'utilisateur ${$.username} a t supprim`,status:"success",duration:3e3}),Y()}catch(F){console.error(F),he({title:"Erreur",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}}function see({user:t,onEdit:n,onToggleStatus:r,onLink:i,onViewLogs:l,onDelete:u}){const d={PRESIDENT:"Prsident",VICE_PRESIDENT:"Vice-Prsident",TRESORIER:"Trsorier",SECRETAIRE_GENERAL:"Secrtaire Gnral",MEMBER:"Membre"},m=p=>({PRESIDENT:"red",VICE_PRESIDENT:"pink",TRESORIER:"green",SECRETAIRE_GENERAL:"purple",MEMBER:"blue"})[p]||"gray";return e.jsxs(jt,{children:[e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontWeight:"medium",fontSize:"sm",children:N1(t)}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:t.email})]})}),e.jsx(Ae,{children:e.jsx(P,{fontFamily:"mono",fontSize:"sm",children:t.username})}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:m(t.role),size:"sm",children:d[t.role]||t.role})}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[t.hasInternalAccess&&e.jsx(et,{colorScheme:"blue",size:"xs",children:"Interne"}),t.hasExternalAccess&&e.jsx(et,{colorScheme:"green",size:"xs",children:"Externe"})]})}),e.jsx(Ae,{children:t.linkedMember?e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"green.600",children:L1(t.linkedMember)}),t.linkedMember.memberNumber&&e.jsxs(P,{fontSize:"xs",color:"gray.500",children:["#",t.linkedMember.memberNumber]})]}):e.jsxs(J,{size:"xs",variant:"outline",onClick:i,children:[e.jsx(eQ,{style:{marginRight:"4px"}}),"Fusionner"]})}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:t.isActive?"green":"red",size:"sm",children:t.isActive?"Actif":"Inactif"})}),e.jsx(Ae,{children:e.jsx(P,{fontSize:"xs",children:t.lastLoginAt?new Date(t.lastLoginAt).toLocaleDateString("fr-FR"):"Jamais"})}),e.jsx(Ae,{children:e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(Dh,{}),size:"sm",variant:"ghost"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Fs,{}),onClick:n,children:"Modifier"}),e.jsx(En,{icon:e.jsx(Lo,{}),onClick:l,children:"Logs de connexion"}),e.jsx(En,{icon:t.isActive?e.jsx(Go,{}):e.jsx(Cb,{}),onClick:r,color:t.isActive?"red.500":"green.500",children:t.isActive?"Dsactiver":"Activer"}),e.jsx(En,{icon:e.jsx(Zn,{}),onClick:u,color:"red.600",children:"Supprimer"})]})]})})]})}function iee({isOpen:t,onClose:n,members:r,onUserSaved:i,user:l}){const u=!!l,d="access_form_draft",[m,p]=v.useState({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""}),[g,x]=v.useState(!1),[y,S]=v.useState(!1),w=on(),C=R=>{const D={...m,...R};p(D),S(!0),localStorage.setItem(d,JSON.stringify(D))};v.useEffect(()=>{if(u){const R={username:l?.username||"",firstName:l?.firstName||"",lastName:l?.lastName||"",email:l?.email||"",role:l?.role||"MEMBER",hasInternalAccess:!!l?.hasInternalAccess,hasExternalAccess:!!l?.hasExternalAccess,linkedMemberId:l?.linkedMember?.id||"",generatePassword:!1,customPassword:""};p(R),localStorage.removeItem(d),S(!1)}else if(t){const R=localStorage.getItem(d);if(R)try{const D=JSON.parse(R);p(D),S(!1)}catch(D){console.error("Erreur lors de la restauration des donnes:",D),_()}else _()}},[u,l,t]);const _=()=>{p({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""}),S(!1),localStorage.removeItem(d)},T=async()=>{try{x(!0);const R={username:m.username,firstName:m.firstName,lastName:m.lastName,email:m.email,role:m.role,hasInternalAccess:m.hasInternalAccess,hasExternalAccess:m.hasExternalAccess,linkedMemberId:m.linkedMemberId||null};if(u)m.customPassword?.trim()&&(R.password=m.customPassword.trim()),await lp(as(is.siteUsers,wu(),`${l.id}`,Cu()),R),w({title:"Accs mis  jour",description:"L'utilisateur a t mis  jour avec succs",status:"success",duration:3e3});else{R.generatePassword=!!m.generatePassword,!m.generatePassword&&m.customPassword&&(R.customPassword=m.customPassword);const k=(await O1(as(is.siteUsers,wu(),"",Cu()),R)).data;w({title:"Accs cr",description:k?.temporaryPassword?`Mot de passe temporaire: ${k.temporaryPassword}`:"L'utilisateur a t cr avec succs",status:"success",duration:k?.temporaryPassword?1e4:5e3,isClosable:!0})}localStorage.removeItem(d),_(),i?.(),n()}catch(R){console.error(R),w({title:"Erreur",description:`${R?.response?.data?.message||R.message}${R.urlsTried?`  Test: ${R.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{x(!1)}};return e.jsxs(wt,{isOpen:t,onClose:n,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:u?" Modifier un accs aux sites":" Crer un accs aux sites"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsx(P,{fontSize:"sm",children:u?"Mettez  jour le profil d'accs. Le matricule est l'identifiant utilis sur le site.":"Crez un compte d'accs aux sites. Le matricule est l'identifiant utilis sur le site."})]}),e.jsxs(ft,{columns:2,spacing:4,w:"full",children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Prnom"}),e.jsx(ge,{value:m.firstName,onChange:R=>C({firstName:R.target.value}),placeholder:"Prnom"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:m.lastName,onChange:R=>C({lastName:R.target.value}),placeholder:"Nom"})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Matricule (identifiant de connexion)"}),e.jsx(ge,{value:m.username,onChange:R=>p(D=>({...D,username:R.target.value})),placeholder:"Ex: w.belaidi"}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Format recommand: premire lettre du prnom + point + nom"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:m.email,onChange:R=>p(D=>({...D,email:R.target.value})),placeholder:"email@example.com"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Rle Mtier"}),e.jsxs(st,{value:m.role,onChange:R=>C({role:R.target.value}),children:[e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"}),e.jsx("option",{value:"CLIENT",children:"Client"})]}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Le rle mtier est  titre informatif. Les permissions d'accs aux modules sont gres individuellement ci-dessous."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Lier  une adhsion existante (optionnel)"}),e.jsxs(st,{value:m.linkedMemberId,onChange:R=>C({linkedMemberId:R.target.value}),children:[e.jsx("option",{value:"",children:"Aucune liaison"}),r.map(R=>e.jsx("option",{value:R.id,children:L1(R)},R.id))]})]}),e.jsx(bn,{}),e.jsxs(ne,{align:"start",spacing:3,w:"full",children:[e.jsx(P,{fontWeight:"medium",children:"Autorisations d'accs"}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(P,{fontSize:"sm",children:"Accs site interne"}),e.jsx(ur,{isChecked:m.hasInternalAccess,onChange:R=>p(D=>({...D,hasInternalAccess:R.target.checked}))})]}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(P,{fontSize:"sm",children:"Accs site externe"}),e.jsx(ur,{isChecked:m.hasExternalAccess,onChange:R=>p(D=>({...D,hasExternalAccess:R.target.checked}))})]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(bn,{}),e.jsxs(ne,{align:"start",spacing:3,w:"full",children:[e.jsx(P,{fontWeight:"medium",children:"Mot de passe"}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(P,{fontSize:"sm",children:"Gnrer automatiquement"}),e.jsx(ur,{isChecked:m.generatePassword,onChange:R=>p(D=>({...D,generatePassword:R.target.checked}))})]}),!m.generatePassword&&e.jsxs(Q,{children:[e.jsx(K,{children:"Mot de passe personnalis"}),e.jsx(ge,{type:"password",value:m.customPassword,onChange:R=>p(D=>({...D,customPassword:R.target.value})),placeholder:"Minimum 6 caractres"})]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(bn,{}),e.jsxs(ne,{align:"start",spacing:3,w:"full",children:[e.jsx(P,{fontWeight:"medium",children:"Changer le mot de passe (optionnel)"}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nouveau mot de passe"}),e.jsx(ge,{type:"password",value:m.customPassword,onChange:R=>p(D=>({...D,customPassword:R.target.value})),placeholder:"Laissez vide pour ne pas changer"})]})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:T,isLoading:g,loadingText:u?"Enregistrement...":"Cration...",children:u?"Enregistrer":"Crer l'accs"})]})]})]})}function aee({isOpen:t,onClose:n,user:r,members:i,onLinked:l}){const[u,d]=v.useState(""),[m,p]=v.useState(!1),[g,x]=v.useState(i||[]),y=on();v.useEffect(()=>{t&&(async()=>{try{const _=(await _l(as(is.members,kb(),"",Db()))).data,T=Array.isArray(_)?_:_?.members||[];x(T)}catch{console.warn("Chargement membres (fusion) chou, utilisation des props existantes"),x(i||[])}})()},[t]);const S=async()=>{if(!u){y({title:"Erreur",description:"Veuillez slectionner un membre",status:"error",duration:3e3});return}try{p(!0),await O1(as(is.siteUsers,wu(),`${r.id}/link-member`,Cu()),{memberId:u}),y({title:"Liaison cre",description:"Accs li  l'adhsion. L'utilisateur verra la page Mon Adhsion aprs actualisation ou reconnexion.",status:"success",duration:5e3}),l?.(),n(),d("")}catch(w){y({title:"Erreur",description:`${w?.response?.data?.message||w.message}${w.urlsTried?`  Test: ${w.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{p(!1)}};return e.jsxs(wt,{isOpen:t,onClose:n,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Fusionner avec une adhsion"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(P,{fontSize:"sm",children:["Fusionner l'accs de ",e.jsx("strong",{children:N1(r)})," avec une adhsion existante."]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Slectionner une adhsion"}),e.jsx(st,{value:u,onChange:w=>d(w.target.value),placeholder:"Choisir un membre...",children:(g||[]).filter(w=>!w.hasLinkedAccess).map(w=>e.jsxs("option",{value:w.id,children:[L1(w),w.email?` (${w.email})`:""]},w.id))}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:2,children:"Seuls les membres sans accs dj li sont affichs"})]}),e.jsx(re,{w:"full",justify:"flex-end",children:e.jsx(J,{size:"sm",variant:"outline",onClick:async()=>{try{const C=(await _l(as(is.members,kb(),"",Db()))).data;x(Array.isArray(C)?C:C?.members||[]),y({title:"Liste mise  jour",status:"success",duration:2e3})}catch(w){y({title:"Erreur rafrachissement",description:w.message,status:"error",duration:3e3})}},children:"Actualiser"})})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:S,isLoading:m,loadingText:"Fusion...",children:"Fusionner"})]})]})]})}function oee(){const{user:t,roles:n}=vs(),r=Tn("white","gray.800"),[i,l]=v.useState([]),[u,d]=v.useState(!0),[m,p]=v.useState(null),[g,x]=v.useState({title:"",version:"",date:"",entryType:"update",changes:[{tag:"update",text:""}]}),[y,S]=v.useState(localStorage.getItem("rbe_site_helloasso_url")||"https://www.helloasso.com/associations/retrobus-essonne"),{isOpen:w,onOpen:C,onClose:_}=Rt(),{isOpen:T,onOpen:R,onClose:D}=Rt(),{isOpen:k,onOpen:N,onClose:M}=Rt(),O=on(),H=async()=>{try{d(!0);const ye=(await _l(as(is.changelog,Fg(),"",Vg()))).data;Array.isArray(ye)?l(ye):ye&&Array.isArray(ye.entries)?l(ye.entries):ye&&Array.isArray(ye.items)?l(ye.items):(console.warn("Rponse inattendue de l'API:",ye),l([]))}catch(X){console.error("Erreur lors du chargement des changelogs:",X),l([]),O({title:"Erreur",description:`${X.message}${X.urlsTried?`  Test: ${X.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}};v.useEffect(()=>{H()},[]);const[U,ae]=v.useState({headerBgFocalX:50,headerBgFocalY:50,headerBgSize:"cover",logoWidth:44}),he=async()=>{try{const ye=(await _l(as(is.siteConfig,Wf(),"",qf())))?.data||{};ae(ve=>({...ve,headerBgFocalX:Number.isFinite(ye.headerBgFocalX)?ye.headerBgFocalX:ve.headerBgFocalX,headerBgFocalY:Number.isFinite(ye.headerBgFocalY)?ye.headerBgFocalY:ve.headerBgFocalY,headerBgSize:ye.headerBgSize||ve.headerBgSize,logoWidth:Number.isFinite(ye.logoWidth)?ye.logoWidth:ve.logoWidth}))}catch(X){console.warn("Chargement site-config (header) chou:",X?.message||X)}};v.useEffect(()=>{T&&he()},[T]);const le=async()=>{try{const X={headerBgFocalX:U.headerBgFocalX,headerBgFocalY:U.headerBgFocalY,headerBgSize:U.headerBgSize,logoWidth:U.logoWidth};await lp(as(is.siteConfig,Wf(),"",qf()),X),O({title:"Configuration du header mise  jour",status:"success",duration:2500}),D()}catch(X){O({title:"Erreur sauvegarde Header",description:`${X.message}${X.urlsTried?`  Test: ${X.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},de=async()=>{try{if(!y||!/^https?:\/\//i.test(y)){O({title:"Lien invalide",description:"Fournissez une URL complte commenant par http(s)://",status:"error",duration:3e3});return}localStorage.setItem("rbe_site_helloasso_url",y);const X=as(is.siteConfig,Wf(),"",qf()),ye=await lp(X,{helloAssoUrl:y});return O({title:"Lien mis  jour",description:'Le bouton "Soutenir" utilisera le nouveau lien.',status:"success",duration:3e3}),ye}catch(X){console.error("Erreur sauvegarde HelloAsso:",X),O({title:"Erreur",description:`${X.message}${X.urlsTried?`  Test: ${X.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},Re=async()=>{try{const X=as(is.siteConfig,Wf(),"",qf()),ve=(await _l(X))?.data||{};O({title:"Config dtecte",description:`helloAssoUrl=${ve.helloAssoUrl||"non dfini"}`,status:"success",duration:3e3})}catch(X){O({title:"Config indisponible",description:`${X.message}${X.urlsTried?`  Test: ${X.urlsTried.join(", ")}`:""}`,status:"warning",duration:5e3})}},fe=()=>{x({title:"",version:"",date:new Date().toISOString().split("T")[0],entryType:"update",changes:[{tag:"update",text:""}]}),p(null)},se=()=>{fe(),C()},Y=X=>{p(X);let ye=[{tag:"update",text:""}];if(X.changes){if(Array.isArray(X.changes))X.changes.length>0&&(ye=X.changes.map(ve=>typeof ve=="string"?{tag:"update",text:ve.replace(/^([\p{Emoji_Presentation}\p{Extended_Pictographic}]\s*)/u,"").trim()}:{tag:ve.tag||"update",text:ve.text||""}));else if(typeof X.changes=="string")try{const ve=JSON.parse(X.changes);ye=Array.isArray(ve)?ve.map(be=>typeof be=="string"?{tag:"update",text:be}:be):[{tag:"update",text:String(X.changes)}]}catch{console.warn("Impossible de parser changes:",X.changes),ye=[{tag:"update",text:X.changes}]}}else X.description&&typeof X.description=="string"&&(ye=X.description.split(/\n|\r\n/).map(ve=>({tag:"update",text:ve.replace(/^\s*/,"")})));x({title:X.title||"",version:X.version||"",date:X.date?X.date.split("T")[0]:new Date().toISOString().split("T")[0],entryType:X.type||"update",changes:ye}),C()},q=()=>{x(X=>({...X,changes:[...X.changes,{tag:"update",text:""}]}))},W=X=>{g.changes.length>1&&x(ye=>({...ye,changes:ye.changes.filter((ve,be)=>be!==X)}))},Ee=(X,ye)=>{x(ve=>({...ve,changes:ve.changes.map((be,He)=>He===X?{...be,text:ye}:be)}))},B=(X,ye)=>{x(ve=>({...ve,changes:ve.changes.map((be,He)=>He===X?{...be,tag:ye}:be)}))},ie=[{key:"feature",label:"Fonctionnalit",emoji:""},{key:"fix",label:"Correction",emoji:""},{key:"update",label:"Mise  jour",emoji:""},{key:"security",label:"Scurit",emoji:""},{key:"perf",label:"Performance",emoji:""},{key:"ui",label:"Interface",emoji:""},{key:"content",label:"Contenu",emoji:""},{key:"deps",label:"Dpendances",emoji:""},{key:"docs",label:"Documentation",emoji:""}],xe=X=>ie.find(ye=>ye.key===X)?.emoji||"",$=async()=>{try{if(!g.title.trim()||!g.version.trim()){O({title:"Erreur de validation",description:"Le titre et la version sont requis",status:"error",duration:3e3,isClosable:!0});return}const X=(g.changes||[]).filter(He=>He&&String(He.text||"").trim()!==""),ye=X.map(He=>`${xe(He.tag)} ${He.text.trim()}`),ve=ye.join(`
`),be={title:g.title.trim(),version:g.version.trim(),date:g.date,type:g.entryType||"update",changes:X,changesText:ye,description:ve};m?(await lp(as(is.changelog,Fg(),`${m.id}`,Vg()),be),O({title:"Succs",description:"Changelog mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await O1(as(is.changelog,Fg(),"",Vg()),be),O({title:"Succs",description:"Changelog cr avec succs",status:"success",duration:3e3,isClosable:!0})),H(),_();try{g.version?.trim()&&(await lp(as(is.siteConfig,Wf(),"",qf()),{siteVersion:g.version.trim()}),O({title:"Version du site mise  jour",description:`v${g.version.trim()}`,status:"success",duration:2500}))}catch(He){console.warn("MJ siteVersion choue:",He),O({title:"Version non synchronise",description:"Impossible de mettre  jour la version du site.",status:"warning",duration:3500})}}catch(X){console.error("Erreur lors de la sauvegarde:",X),O({title:"Erreur",description:`${X.message}${X.urlsTried?`  Test: ${X.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},F=async X=>{if(window.confirm("tes-vous sr de vouloir supprimer ce changelog ?"))try{await MM(as(is.changelog,Fg(),`${X}`,Vg())),O({title:"Succs",description:"Changelog supprim avec succs",status:"success",duration:3e3,isClosable:!0}),H()}catch(ye){console.error("Erreur lors de la suppression:",ye),O({title:"Erreur",description:`${ye.message}${ye.urlsTried?`  Test: ${ye.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},G=X=>{if(!X)return null;let ye=[];if(Array.isArray(X))ye=X;else if(typeof X=="string")try{const ve=JSON.parse(X);ye=Array.isArray(ve)?ve:[X]}catch{ye=[X]}return ye.map((ve,be)=>e.jsxs(P,{fontSize:"sm",children:[" ",ve]},be))};return u?e.jsx(vn,{minH:"400px",children:e.jsxs(ne,{children:[e.jsx(mn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(P,{children:"Chargement des changelogs..."})]})}):e.jsx(ks,{maxW:"container.xl",py:8,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(Pe,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(ch,{style:{marginRight:"12px"}}),"Gestion du Site Web"]}),e.jsxs(ho,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:" Changelog & Versions"}),e.jsx(dn,{children:" Accs aux Sites"}),e.jsx(dn,{children:" Configuration"}),e.jsx(dn,{children:" Modles de Documents"})]}),e.jsxs(Ba,{children:[e.jsxs(hn,{children:[e.jsxs(nr,{mb:6,align:"center",children:[e.jsx(Pe,{size:"lg",children:"Gestion du Site"}),e.jsx(Up,{}),e.jsx(J,{leftIcon:e.jsx(DM,{}),colorScheme:"blue",onClick:se,children:"Nouveau Changelog"})]}),e.jsx(ne,{spacing:4,align:"stretch",children:i.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun changelog trouv. Crez le premier !"]}):i.map(X=>e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(nr,{align:"center",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"md",children:X.title}),e.jsxs(re,{children:[e.jsxs(et,{colorScheme:"blue",children:["v",X.version]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:X.date?new Date(X.date).toLocaleDateString("fr-FR"):"Date inconnue"})]})]}),e.jsx(Up,{}),e.jsxs(re,{children:[e.jsx(yt,{icon:e.jsx(kM,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>Y(X),"aria-label":"Modifier"}),e.jsx(yt,{icon:e.jsx(PM,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>F(X.id),"aria-label":"Supprimer"})]})]})}),e.jsx(Ie,{pt:0,children:e.jsx(ne,{align:"start",spacing:2,children:Array.isArray(X.changes)&&X.changes.length>0?X.changes.map((ye,ve)=>e.jsx(P,{fontSize:"sm",children:typeof ye=="string"?ye:`${xe(ye.tag)} ${ye.text}`},ve)):G(X.changesText||X.description||[])})})]},X.id))})]}),e.jsx(hn,{children:e.jsx(ree,{})}),e.jsx(hn,{children:e.jsxs(ft,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Ne,{bg:r,children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:" Pages et contenu"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",variant:"outline",onClick:R,children:"Modifier le Header"}),e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",variant:"outline",children:"Grer les vnements"}),e.jsx(J,{leftIcon:e.jsx(Fs,{}),size:"sm",variant:"outline",children:'Mettre  jour " propos"'}),e.jsx(bn,{my:2}),e.jsx(Pe,{size:"xs",children:`Bouton "Soutenir l'association" (Navbar externe)`}),e.jsx(P,{fontSize:"xs",color:"gray.600",children:"Configure le lien HelloAsso utilis sur la navbar du site public."}),e.jsxs(re,{children:[e.jsx(ge,{value:y,onChange:X=>S(X.target.value),placeholder:"https://www.helloasso.com/associations/retrobus-essonne"}),e.jsx(J,{size:"sm",colorScheme:"blue",onClick:de,children:"Enregistrer"}),e.jsx(J,{size:"sm",variant:"outline",onClick:Re,children:"Tester"})]})]})})]}),e.jsxs(Ne,{bg:r,children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:" Configuration"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsx(J,{leftIcon:e.jsx(qK,{}),size:"sm",variant:"outline",children:"Notifications Flash"}),e.jsx(J,{leftIcon:e.jsx(zc,{}),size:"sm",variant:"outline",children:"Configuration Newsletter"}),e.jsx(J,{leftIcon:e.jsx(Dh,{}),size:"sm",variant:"outline",children:"Paramtres gnraux"}),e.jsx(bn,{my:2}),e.jsx(J,{leftIcon:e.jsx(zc,{}),size:"sm",variant:"outline",colorScheme:"purple",onClick:N,children:" Grer les templates d'email"})]})})]})]})}),e.jsx(hn,{children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",mb:2,children:" Gestion des Modles de Documents"}),e.jsx(P,{color:"gray.600",children:"Crez et grez les templates HTML pour vos devis et factures avec variables personnalisables"})]}),e.jsx(lee,{})]})})]})]}),e.jsxs(wt,{isOpen:k,onClose:M,size:"4xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Gestion des Templates d'Email"}),e.jsx($t,{}),e.jsx(Ct,{maxH:"80vh",overflowY:"auto",children:e.jsx(QJ,{token:localStorage.getItem("token")})})]})]}),e.jsxs(wt,{isOpen:T,onClose:D,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Modifier le Header"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Image de fond"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(Wt,{status:"info",fontSize:"sm",children:[e.jsx(qt,{}),"Pour modifier l'image : ditez manuellement ",e.jsx("strong",{children:"externe/public/assets/header.jpg"})]}),e.jsx(re,{children:e.jsxs(Q,{maxW:"220px",children:[e.jsx(K,{children:"Taille d'affichage"}),e.jsxs(st,{value:U.headerBgSize,onChange:X=>ae(ye=>({...ye,headerBgSize:X.target.value})),children:[e.jsx("option",{value:"cover",children:"Cover (remplit tout)"}),e.jsx("option",{value:"contain",children:"Contain (contient tout)"})]})]})}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:"Point focal (cliquez/glissez pour ajuster)"}),e.jsx(ue,{position:"relative",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",w:"100%",h:"180px",style:{backgroundImage:`url(/assets/header.jpg?t=${Date.now()})`,backgroundSize:U.headerBgSize||"cover",backgroundPosition:`${U.headerBgFocalX}% ${U.headerBgFocalY}%`},onMouseDown:X=>{const ye=X.currentTarget.getBoundingClientRect(),ve=(X.clientX-ye.left)/ye.width*100,be=(X.clientY-ye.top)/ye.height*100;ae(He=>({...He,headerBgFocalX:Math.round(ve),headerBgFocalY:Math.round(be)}))},onMouseMove:X=>{if(X.buttons!==1)return;const ye=X.currentTarget.getBoundingClientRect(),ve=(X.clientX-ye.left)/ye.width*100,be=(X.clientY-ye.top)/ye.height*100;ae(He=>({...He,headerBgFocalX:Math.round(Math.max(0,Math.min(100,ve))),headerBgFocalY:Math.round(Math.max(0,Math.min(100,be)))}))},children:e.jsx(ue,{position:"absolute",left:`calc(${U.headerBgFocalX}% - 6px)`,top:`calc(${U.headerBgFocalY}% - 6px)`,w:"12px",h:"12px",borderRadius:"full",bg:"var(--rbe-red)",border:"2px solid white",boxShadow:"sm",pointerEvents:"none"})}),e.jsx(re,{mt:2,fontSize:"xs",color:"gray.500",children:e.jsxs(P,{children:["Position: ",U.headerBgFocalX,"% , ",U.headerBgFocalY,"%"]})})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Logo"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(Wt,{status:"info",fontSize:"sm",children:[e.jsx(qt,{}),"Pour modifier le logo : ditez manuellement les fichiers dans ",e.jsx("strong",{children:"externe/src/assets/"})]}),e.jsx(re,{children:e.jsxs(Q,{maxW:"240px",children:[e.jsx(K,{children:"Hauteur du logo (px)"}),e.jsx(ge,{type:"number",min:24,max:240,value:U.logoWidth,onChange:X=>ae(ye=>({...ye,logoWidth:parseInt(X.target.value||"44",10)}))})]})})]})})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:D,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:le,children:"Enregistrer"})]})]})]}),e.jsxs(wt,{isOpen:w,onClose:_,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:m?" Modifier un changelog":" Nouveau changelog"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:g.title,onChange:X=>x(ye=>({...ye,title:X.target.value})),placeholder:"Ex: Amliorations sur la page d'accueil"})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Version"}),e.jsx(ge,{value:g.version,onChange:X=>x(ye=>({...ye,version:X.target.value})),placeholder:"Ex: 1.3.0"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date"}),e.jsx(ge,{type:"date",value:g.date,onChange:X=>x(ye=>({...ye,date:X.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type de publication"}),e.jsxs(st,{value:g.entryType,onChange:X=>x(ye=>({...ye,entryType:X.target.value})),children:[e.jsx("option",{value:"feature",children:"Fonctionnalit "}),e.jsx("option",{value:"fix",children:"Correction "}),e.jsx("option",{value:"update",children:"Mise  jour "}),e.jsx("option",{value:"security",children:"Scurit "})]})]}),e.jsxs(ne,{align:"stretch",spacing:2,children:[e.jsx(K,{children:"Changements"}),g.changes.map((X,ye)=>e.jsxs(re,{align:"start",children:[e.jsx(st,{maxW:"180px",value:X.tag,onChange:ve=>B(ye,ve.target.value),children:ie.map(ve=>e.jsxs("option",{value:ve.key,children:[ve.emoji," ",ve.label]},ve.key))}),e.jsx(ge,{value:X.text,onChange:ve=>Ee(ye,ve.target.value),placeholder:` Entre ${ye+1}`}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>W(ye)})]},ye)),e.jsx(J,{leftIcon:e.jsx(_n,{}),onClick:q,size:"sm",alignSelf:"flex-start",children:"Ajouter une ligne"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:_,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:$,children:m?"Enregistrer":"Crer"})]})]})]})]})})}const lee=()=>e.jsx(JJ,{}),uj={getByMember:t=>Nt.get(`/api/documents/member/${t}`),delete:t=>Nt.delete(`/api/documents/${t}`),updateStatus:(t,n)=>Nt.put(`/api/documents/${t}/status`,n),getExpiring:(t=60)=>Nt.get(`/api/documents/expiring?days=${t}`)},Ug={getAll:()=>Nt.get("/newsletter"),create:t=>Nt.post("/newsletter",t),delete:t=>Nt.delete(`/newsletter/${t}`),updateStatus:(t,n)=>Nt.put(`/newsletter/${t}/status`,{status:n}),getStats:()=>Nt.get("/newsletter/stats"),export:(t="csv")=>Nt.get(`/newsletter/export?format=${t}`),campaigns:{getAll:t=>Nt.get("/newsletter/campaigns",{params:t}),getById:t=>Nt.get(`/newsletter/campaigns/${t}`),create:t=>Nt.post("/newsletter/campaigns",t),update:(t,n)=>Nt.put(`/newsletter/campaigns/${t}`,n),delete:t=>Nt.delete(`/newsletter/campaigns/${t}`),preview:t=>Nt.get(`/newsletter/campaigns/${t}/preview`),sendTest:(t,n)=>Nt.post(`/newsletter/campaigns/${t}/test`,{email:n}),prepare:t=>Nt.post(`/newsletter/campaigns/${t}/prepare`),send:t=>Nt.post(`/newsletter/campaigns/${t}/send`),getStats:t=>Nt.get(`/newsletter/campaigns/${t}/stats`)}},dj={PIECES_DETACHEES:"Pices dtaches",CONSOMMABLES:"Consommables",OUTILLAGE:"Outillage",EQUIPEMENT:"quipement",DOCUMENTATION:"Documentation",MERCHANDISING:"Merchandising",FOURNITURES:"Fournitures",SECURITE:"Scurit",GENERAL:"Gnral"},hj={PIECE:"Pice",KG:"Kg",LITRE:"Litre",METRE:"Mtre",PAQUET:"Paquet",BOITE:"Bote",ROULEAU:"Rouleau",SET:"Set",AUTRE:"Autre"},rA={AVAILABLE:"Disponible",LOW_STOCK:"Stock bas",OUT_OF_STOCK:"Rupture",DISCONTINUED:"Discontinu",RESERVED:"Rserv"},cee={AVAILABLE:"green",LOW_STOCK:"orange",OUT_OF_STOCK:"red",DISCONTINUED:"gray",RESERVED:"blue"};function uee(){const[t,n]=v.useState([]),[r,i]=v.useState({}),[l,u]=v.useState(!0),[d,m]=v.useState({search:"",category:"ALL",status:"ALL",lowStock:!1}),[p,g]=v.useState(null),[x,y]=v.useState({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),[S,w]=v.useState({type:"IN",quantity:1,reason:"",notes:""}),[C,_]=v.useState(null),T=on(),{isOpen:R,onOpen:D,onClose:k}=Rt(),{isOpen:N,onOpen:M,onClose:O}=Rt(),{isOpen:H,onOpen:U,onClose:ae}=Rt();v.useEffect(()=>{he(),le()},[d]);const he=async()=>{try{u(!0);const B=new URLSearchParams;d.search&&B.append("search",d.search),d.category!=="ALL"&&B.append("category",d.category),d.status!=="ALL"&&B.append("status",d.status),d.lowStock&&B.append("lowStock","true");const ie=await Nt.get(`/api/stocks?${B.toString()}`),xe=ie?.stocks??(Array.isArray(ie)?ie:[]);n(xe)}catch(B){console.error("Erreur lors du chargement des stocks:",B),n([]),T({title:"Stocks indisponibles",description:"LAPI des stocks nest pas encore prte ou a renvoy une erreur",status:"warning",duration:3e3})}finally{u(!1)}},le=async()=>{try{const B=await Nt.get("/api/stocks/stats");i(B||{})}catch(B){console.error("Erreur lors du chargement des statistiques:",B),i({})}},de=()=>{g(null),y({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),D()},Re=B=>{g(B),y({reference:B.reference||"",name:B.name||"",description:B.description||"",category:B.category||"GENERAL",subcategory:B.subcategory||"",quantity:B.quantity||0,minQuantity:B.minQuantity||0,unit:B.unit||"PIECE",location:B.location||"",supplier:B.supplier||"",purchasePrice:B.purchasePrice||"",salePrice:B.salePrice||"",notes:B.notes||""}),D()},fe=async()=>{try{const B=p?"put":"post",ie=p?`/api/stocks/${p.id}`:"/api/stocks";await Nt[B](ie,x),T({title:"Succs",description:`Article ${p?"modifi":"cr"} avec succs`,status:"success",duration:3e3}),k(),he(),le()}catch(B){console.error("Erreur lors de la sauvegarde:",B),T({title:"Erreur",description:"Impossible de sauvegarder l'article",status:"error",duration:3e3})}},se=async()=>{if(C)try{await Nt.delete(`/api/stocks/${C.id}`),T({title:"Succs",description:"Article supprim avec succs",status:"success",duration:3e3}),ae(),_(null),he(),le()}catch(B){console.error("Erreur lors de la suppression:",B),T({title:"Erreur",description:"Impossible de supprimer l'article",status:"error",duration:3e3})}},Y=async()=>{if(C)try{await Nt.post(`/api/stocks/${C.id}/movement`,S),T({title:"Succs",description:"Mouvement enregistr avec succs",status:"success",duration:3e3}),O(),w({type:"IN",quantity:1,reason:"",notes:""}),he(),le()}catch(B){console.error("Erreur lors du mouvement:",B),T({title:"Erreur",description:B.response?.data?.error||"Impossible d'enregistrer le mouvement",status:"error",duration:3e3})}},q=B=>{_(B),w({type:"IN",quantity:1,reason:"",notes:""}),M()},W=B=>{_(B),U()},Ee={totalItems:r.totalItems||0,totalQuantity:r.totalQuantity||0,lowStockCount:r.lowStockCount||0,outOfStockCount:r.outOfStockCount||0};return e.jsxs(ue,{p:6,children:[e.jsxs(nr,{align:"center",mb:6,children:[e.jsx(Pe,{size:"lg",color:"teal.600",children:"Gestion des Stocks"}),e.jsx(Up,{}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"teal",onClick:de,children:"Nouvel article"})]}),e.jsxs(ft,{columns:{base:1,md:4},spacing:4,mb:6,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Articles totaux"}),e.jsx(vt,{children:Ee.totalItems}),e.jsxs(Pi,{children:[e.jsx(Ox,{style:{display:"inline",marginRight:"4px"}}),"Articles rfrencs"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Quantit totale"}),e.jsx(vt,{children:Ee.totalQuantity}),e.jsxs(Pi,{children:[e.jsx(rM,{style:{display:"inline",marginRight:"4px"}}),"Units en stock"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Stock bas"}),e.jsx(vt,{color:"orange.500",children:Ee.lowStockCount}),e.jsxs(Pi,{children:[e.jsx(tM,{style:{display:"inline",marginRight:"4px"}})," rapprovisionner"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Ruptures"}),e.jsx(vt,{color:"red.500",children:Ee.outOfStockCount}),e.jsxs(Pi,{children:[e.jsx(io,{style:{display:"inline",marginRight:"4px"}}),"Stock puis"]})]})})})]}),e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(re,{spacing:4,wrap:"wrap",children:[e.jsx(ge,{placeholder:"Rechercher...",value:d.search,onChange:B=>m(ie=>({...ie,search:B.target.value})),maxW:"300px"}),e.jsxs(st,{value:d.category,onChange:B=>m(ie=>({...ie,category:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Toutes catgories"}),Object.entries(dj).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsxs(st,{value:d.status,onChange:B=>m(ie=>({...ie,status:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(rA).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsx(J,{variant:d.lowStock?"solid":"outline",colorScheme:"orange",onClick:()=>m(B=>({...B,lowStock:!B.lowStock})),children:"Stock bas uniquement"})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(Un,{variant:"simple",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Rfrence"}),e.jsx(ke,{children:"Nom"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{children:"Quantit"}),e.jsx(ke,{children:"Unit"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Emplacement"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:l?e.jsx(jt,{children:e.jsx(Ae,{colSpan:8,textAlign:"center",children:"Chargement..."})}):t.length===0?e.jsx(jt,{children:e.jsx(Ae,{colSpan:8,textAlign:"center",children:"Aucun article trouv"})}):t.map(B=>e.jsxs(jt,{children:[e.jsx(Ae,{children:B.reference||"-"}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"medium",children:B.name}),B.description&&e.jsx(P,{fontSize:"sm",color:"gray.600",noOfLines:1,children:B.description})]})}),e.jsx(Ae,{children:dj[B.category]}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{color:B.quantity<=B.minQuantity?"red.500":"inherit",fontWeight:B.quantity<=B.minQuantity?"bold":"normal",children:B.quantity}),B.minQuantity>0&&e.jsxs(P,{fontSize:"xs",color:"gray.500",children:["Min: ",B.minQuantity]})]})}),e.jsx(Ae,{children:hj[B.unit]}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:cee[B.status],children:rA[B.status]})}),e.jsx(Ae,{children:B.location||"-"}),e.jsx(Ae,{children:e.jsxs(re,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(YK,{}),size:"sm",variant:"outline",onClick:()=>Re(B),"aria-label":"Modifier"}),e.jsx(yt,{icon:e.jsx(UK,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:()=>q(B),"aria-label":"Mouvement de stock"}),e.jsx(yt,{icon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>W(B),"aria-label":"Supprimer"})]})})]},B.id))})]})})}),e.jsxs(wt,{isOpen:R,onClose:k,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:p?"Modifier l'article":"Nouvel article"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Rfrence"}),e.jsx(ge,{value:x.reference,onChange:B=>y(ie=>({...ie,reference:B.target.value})),placeholder:"REF-001"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:x.name,onChange:B=>y(ie=>({...ie,name:B.target.value})),placeholder:"Nom de l'article"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:x.description,onChange:B=>y(ie=>({...ie,description:B.target.value})),placeholder:"Description dtaille"})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsx(st,{value:x.category,onChange:B=>y(ie=>({...ie,category:B.target.value})),children:Object.entries(dj).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Sous-catgorie"}),e.jsx(ge,{value:x.subcategory,onChange:B=>y(ie=>({...ie,subcategory:B.target.value})),placeholder:"Sous-catgorie"})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Quantit"}),e.jsx(On,{value:x.quantity,onChange:B=>y(ie=>({...ie,quantity:parseInt(B)||0})),children:e.jsx(Bn,{})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Quantit minimale"}),e.jsx(On,{value:x.minQuantity,onChange:B=>y(ie=>({...ie,minQuantity:parseInt(B)||0})),children:e.jsx(Bn,{})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Unit"}),e.jsx(st,{value:x.unit,onChange:B=>y(ie=>({...ie,unit:B.target.value})),children:Object.entries(hj).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Emplacement"}),e.jsx(ge,{value:x.location,onChange:B=>y(ie=>({...ie,location:B.target.value})),placeholder:"tagre A1, Atelier..."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Fournisseur"}),e.jsx(ge,{value:x.supplier,onChange:B=>y(ie=>({...ie,supplier:B.target.value})),placeholder:"Nom du fournisseur"})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Prix d'achat ()"}),e.jsx(On,{value:x.purchasePrice,onChange:B=>y(ie=>({...ie,purchasePrice:B})),precision:2,children:e.jsx(Bn,{})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Prix de vente ()"}),e.jsx(On,{value:x.salePrice,onChange:B=>y(ie=>({...ie,salePrice:B})),precision:2,children:e.jsx(Bn,{})})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes"}),e.jsx(en,{value:x.notes,onChange:B=>y(ie=>({...ie,notes:B.target.value})),placeholder:"Notes diverses"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:k,children:"Annuler"}),e.jsx(J,{colorScheme:"teal",onClick:fe,children:p?"Modifier":"Crer"})]})]})]}),e.jsxs(wt,{isOpen:N,onClose:O,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsxs(Et,{children:["Mouvement de stock - ",C?.name]}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type de mouvement"}),e.jsxs(st,{value:S.type,onChange:B=>w(ie=>({...ie,type:B.target.value})),children:[e.jsx("option",{value:"IN",children:"Entre (IN)"}),e.jsx("option",{value:"OUT",children:"Sortie (OUT)"}),e.jsx("option",{value:"ADJUSTMENT",children:"Correction (ADJUSTMENT)"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Quantit"}),e.jsx(On,{value:S.quantity,onChange:B=>w(ie=>({...ie,quantity:parseInt(B)||1})),children:e.jsx(Bn,{})}),C&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Stock actuel: ",C.quantity," ",hj[C.unit]]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Raison"}),e.jsx(ge,{value:S.reason,onChange:B=>w(ie=>({...ie,reason:B.target.value})),placeholder:"Achat, utilisation, correction..."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes"}),e.jsx(en,{value:S.notes,onChange:B=>w(ie=>({...ie,notes:B.target.value})),placeholder:"Notes sur ce mouvement"})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:O,children:"Annuler"}),e.jsx(J,{colorScheme:"teal",onClick:Y,children:"Enregistrer"})]})]})]}),e.jsx(PZ,{isOpen:H,onClose:ae,leastDestructiveRef:un.useRef(),children:e.jsx(_t,{children:e.jsxs(MZ,{children:[e.jsx(Et,{children:"Confirmer la suppression"}),e.jsxs(Ct,{children:[`tes-vous sr de vouloir supprimer l'article "`,C?.name,'" ? Cette action est irrversible.']}),e.jsxs(Ft,{children:[e.jsx(J,{onClick:ae,children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:se,ml:3,children:"Supprimer"})]})]})})})]})}const fj={info:{label:"Information",color:"blue",icon:ZJ},warning:{label:"Attention",color:"orange",icon:eA},success:{label:"Succs",color:"green",icon:qJ},error:{label:"Erreur",color:"red",icon:eA}};function dee(){const[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,u]=v.useState(null),[d,m]=v.useState({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),{isOpen:p,onOpen:g,onClose:x}=Rt(),y=on(),S=Tn("white","gray.700"),w=Tn("gray.200","gray.600"),C=async()=>{try{i(!0);const O=await Nt.get("/flashes");O.data&&Array.isArray(O.data)?n(O.data):(console.warn("Rponse inattendue de l'API:",O.data),n([]))}catch(O){console.error("Erreur lors du chargement des flashs:",O),n([]),y({title:"Erreur",description:"Impossible de charger les flashs",status:"error",duration:3e3,isClosable:!0})}finally{i(!1)}};v.useEffect(()=>{C()},[]);const _=()=>{m({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),u(null)},T=()=>{_(),g()},R=O=>{u(O),m({content:O.content||"",type:O.type||"info",active:O.active!==void 0?O.active:!0,showOnExternal:O.showOnExternal||!1,expiresAt:O.expiresAt?new Date(O.expiresAt).toISOString().slice(0,16):""}),g()},D=async()=>{try{if(!d.content.trim()){y({title:"Erreur de validation",description:"Le contenu du flash est requis",status:"error",duration:3e3,isClosable:!0});return}const O={...d,expiresAt:d.expiresAt||null};l?(await Nt.put(`/flashes/${l.id}`,O),y({title:"Succs",description:"Flash mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await Nt.post("/flashes",O),y({title:"Succs",description:"Flash cr avec succs",status:"success",duration:3e3,isClosable:!0})),C(),x()}catch(O){console.error("Erreur lors de la sauvegarde:",O),y({title:"Erreur",description:"Impossible de sauvegarder le flash",status:"error",duration:3e3,isClosable:!0})}},k=async O=>{try{await Nt.patch(`/flashes/${O.id}/toggle`),y({title:"Succs",description:`Flash ${O.active?"dsactiv":"activ"}`,status:"success",duration:2e3,isClosable:!0}),C()}catch(H){console.error("Erreur lors du toggle:",H),y({title:"Erreur",description:"Impossible de modifier le statut",status:"error",duration:3e3,isClosable:!0})}},N=async O=>{if(window.confirm("tes-vous sr de vouloir supprimer ce flash ?"))try{await Nt.delete(`/flashes/${O}`),y({title:"Succs",description:"Flash supprim avec succs",status:"success",duration:3e3,isClosable:!0}),C()}catch(H){console.error("Erreur lors de la suppression:",H),y({title:"Erreur",description:"Impossible de supprimer le flash",status:"error",duration:3e3,isClosable:!0})}},M=O=>O.expiresAt?new Date(O.expiresAt)<new Date:!1;return r?e.jsx(vn,{minH:"400px",children:e.jsxs(ne,{children:[e.jsx(mn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(P,{children:"Chargement des flashs..."})]})}):e.jsxs(ue,{p:6,children:[e.jsxs(nr,{mb:6,align:"center",children:[e.jsxs(re,{spacing:3,children:[e.jsx(cj,{color:"var(--rbe-red)",size:24}),e.jsx(Pe,{size:"lg",children:"Gestion des Flashs Info"})]}),e.jsx(Up,{}),e.jsx(J,{leftIcon:e.jsx(DM,{}),colorScheme:"blue",onClick:T,children:"Nouveau Flash"})]}),e.jsxs(vi,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,mb:6,children:[e.jsx(Ne,{bg:S,borderWidth:1,borderColor:w,children:e.jsx(Ie,{children:e.jsxs(re,{children:[e.jsx(cj,{color:"blue"}),e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Total"}),e.jsx(P,{fontSize:"2xl",fontWeight:"bold",children:t.length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:w,children:e.jsx(Ie,{children:e.jsxs(re,{children:[e.jsx(nA,{color:"green"}),e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Actifs"}),e.jsx(P,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:t.filter(O=>O.active&&!M(O)).length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:w,children:e.jsx(Ie,{children:e.jsxs(re,{children:[e.jsx(tA,{color:"purple"}),e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Sur l'externe"}),e.jsx(P,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:t.filter(O=>O.showOnExternal&&O.active&&!M(O)).length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:w,children:e.jsx(Ie,{children:e.jsxs(re,{children:[e.jsx(GJ,{color:"orange"}),e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Expirs"}),e.jsx(P,{fontSize:"2xl",fontWeight:"bold",color:"orange.500",children:t.filter(O=>M(O)).length})]})]})})})]}),e.jsx(ne,{spacing:4,align:"stretch",children:t.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun flash trouv. Crez le premier !"]}):t.map(O=>{const H=fj[O.type]||fj.info,U=H.icon,ae=M(O);return e.jsxs(Ne,{bg:S,borderWidth:1,borderColor:O.active&&!ae?`${H.color}.200`:"gray.300",opacity:O.active&&!ae?1:.6,children:[e.jsx(St,{children:e.jsxs(nr,{align:"center",children:[e.jsxs(re,{spacing:3,flex:1,children:[e.jsx(U,{color:`var(--chakra-colors-${H.color}-500)`}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsxs(re,{spacing:2,children:[e.jsx(et,{colorScheme:H.color,children:H.label}),O.active?e.jsx(et,{colorScheme:"green",children:"Actif"}):e.jsx(et,{colorScheme:"gray",children:"Inactif"}),O.showOnExternal&&e.jsx(et,{colorScheme:"purple",leftIcon:e.jsx(tA,{}),children:"Externe"}),ae&&e.jsx(et,{colorScheme:"red",children:"Expir"})]}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:["Cr le ",new Date(O.createdAt).toLocaleDateString("fr-FR"),O.expiresAt&&e.jsxs(e.Fragment,{children:["  Expire le ",new Date(O.expiresAt).toLocaleDateString("fr-FR")]})]})]})]}),e.jsxs(re,{spacing:1,children:[e.jsx(Js,{label:O.active?"Dsactiver":"Activer",children:e.jsx(yt,{icon:O.active?e.jsx(YJ,{}):e.jsx(nA,{}),size:"sm",colorScheme:O.active?"orange":"green",variant:"ghost",onClick:()=>k(O)})}),e.jsx(Js,{label:"Modifier",children:e.jsx(yt,{icon:e.jsx(kM,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>R(O)})}),e.jsx(Js,{label:"Supprimer",children:e.jsx(yt,{icon:e.jsx(PM,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>N(O.id)})})]})]})}),e.jsx(Ie,{pt:0,children:e.jsx(P,{children:O.content})})]},O.id)})}),e.jsxs(wt,{isOpen:p,onClose:x,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:e.jsxs(re,{children:[e.jsx(cj,{}),e.jsx(P,{children:l?"Modifier le flash":"Nouveau flash"})]})}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Type"}),e.jsx(st,{value:d.type,onChange:O=>m(H=>({...H,type:O.target.value})),children:Object.entries(fj).map(([O,H])=>e.jsx("option",{value:O,children:H.label},O))})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Contenu du message"}),e.jsx(en,{value:d.content,onChange:O=>m(H=>({...H,content:O.target.value})),placeholder:"Message  afficher...",rows:4})]}),e.jsxs(vi,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsxs(re,{children:[e.jsx(ur,{isChecked:d.active,onChange:O=>m(H=>({...H,active:O.target.checked}))}),e.jsx(P,{children:d.active?"Actif":"Inactif"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Afficher sur l'externe"}),e.jsxs(re,{children:[e.jsx(ur,{isChecked:d.showOnExternal,onChange:O=>m(H=>({...H,showOnExternal:O.target.checked}))}),e.jsx(P,{children:d.showOnExternal?"Oui":"Non"})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date d'expiration (optionnelle)"}),e.jsx(ge,{type:"datetime-local",value:d.expiresAt,onChange:O=>m(H=>({...H,expiresAt:O.target.value}))}),e.jsx(P,{fontSize:"sm",color:"gray.500",mt:1,children:"Laissez vide pour un flash permanent"})]}),d.showOnExternal&&e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Ce flash sera visible sur le site public externe"]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:D,children:l?"Mettre  jour":"Crer"})]})]})]})]})}const mu="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),hee={PENDING:{label:"En attente",color:"yellow",progress:25},ACTIVE:{label:"Actif",color:"green",progress:100},EXPIRED:{label:"Expir",color:"red",progress:0},SUSPENDED:{label:"Suspendu",color:"orange",progress:50}},pj={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},mj={CASH:"Espces",CHECK:"Chque",BANK_TRANSFER:"Virement",CARD:"Carte bancaire",PAYPAL:"PayPal",HELLOASSO:"HelloAsso"};function fee(){const{user:t,member:n,memberLoading:r,memberError:i,memberApiBase:l,refreshMember:u}=vs(),[d,m]=v.useState(null),[p,g]=v.useState(!0),[x,y]=v.useState(null),[S,w]=v.useState(null),[C,_]=v.useState(!1),[T,R]=v.useState({}),[D,k]=v.useState([]),[N,M]=v.useState(!1),[O,H]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{isOpen:U,onOpen:ae,onClose:he}=Rt(),{isOpen:le,onOpen:de,onClose:Re}=Rt(),{isOpen:fe,onOpen:se,onClose:Y}=Rt(),[q,W]=v.useState({reason:"",notes:"",pv:null,resignation:null}),[Ee,B]=v.useState(!1),[ie,xe]=v.useState([]),[$,F]=v.useState(""),G=on();v.useEffect(()=>{u()},[]),v.useEffect(()=>{m(n||null),g(r),y(i),w(l||null)},[n,r,i,l]),v.useEffect(()=>{d&&d.id?be():k([])},[d?.id]);const X=async()=>{await u(!0)},ye=()=>{_(!0),R({...d})},ve=async()=>{try{if(!T.firstName||!T.lastName)throw new Error("Prnom et nom requis");const We=[S??"",mu||""];let at=null;for(const Qe of We)try{const bt=await fetch(`${Qe}/api/members/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(T)});if(bt.ok){at=bt;break}}catch{}if(!at)throw new Error("Erreur de sauvegarde");const Lt=await at.json();m(Lt),_(!1),G({status:"success",title:"Profil mis  jour",description:"Vos informations ont t sauvegardes",duration:3e3})}catch(We){G({status:"error",title:"Erreur",description:We.message,duration:5e3})}},be=async()=>{try{M(!0);const We=[S??"",mu||""];let at=!1;for(const Lt of We)try{const Qe=await fetch(`${Lt}/api/members/me/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Qe.ok){const bt=await Qe.json();k(bt?.documents||[]),at=!0;break}}catch{}if(!at)throw new Error("Chargement des documents impossible")}catch(We){console.error("Docs error",We),k([])}finally{M(!1)}},He=async We=>{try{const at=[S??"",mu||""];let Lt=null;for(const Ye of at)try{const Mt=await fetch(`${Ye}/api/documents/${We.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Mt.ok){Lt=Mt;break}}catch{}if(!Lt)throw new Error("Tlchargement impossible");const Qe=await Lt.blob(),bt=URL.createObjectURL(Qe),In=document.createElement("a");In.href=bt,In.download=We.fileName||"document",document.body.appendChild(In),In.click(),In.remove(),URL.revokeObjectURL(bt)}catch(at){G({status:"error",title:"Erreur",description:at.message})}},ct=()=>{_(!1),R({...d})},Xe=async()=>{if(O.newPassword!==O.confirmPassword){G({status:"error",title:"Erreur",description:"Les mots de passe ne correspondent pas",duration:3e3});return}if(O.newPassword.length<6){G({status:"error",title:"Erreur",description:"Le mot de passe doit faire au moins 6 caractres",duration:3e3});return}try{const We=await fetch(`${mu}/api/members/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:O.currentPassword,newPassword:O.newPassword})});if(!We.ok){const at=await We.json();throw new Error(at.error||"Erreur de changement de mot de passe")}G({status:"success",title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs",duration:3e3}),H({currentPassword:"",newPassword:"",confirmPassword:""}),he()}catch(We){G({status:"error",title:"Erreur",description:We.message,duration:5e3})}};if(p)return e.jsx(vn,{h:"400px",children:e.jsx(mn,{size:"xl"})});const dt=We=>{try{const at=typeof We=="string"?new Date(We):We;return at?at.toLocaleDateString("fr-FR"):"-"}catch{return"-"}},Ue=(We,at)=>{const Lt=new Date(We.getTime());return Lt.setFullYear(Lt.getFullYear()+at),Lt},Ht=(We,at)=>Math.ceil((at.getTime()-We.getTime())/(1e3*60*60*24)),we=d?.membershipStartDate?new Date(d.membershipStartDate):null,Ke=d?.membershipEndDate?new Date(d.membershipEndDate):null,Bt=we?Ue(we,1):null,ce=Ke||Bt,je=new Date,it=ce?ce<je:!1,It=ce?Ht(je,ce):null,zn=We=>{switch(We){case"ACTIVE":return"green";case"PENDING":return"orange";case"EXPIRED":return"red";case"SUSPENDED":return"gray";default:return"gray"}},dr=hee[d?.membershipStatus]||{label:d?.membershipStatus||"Non dfini",progress:0};return e.jsxs(ue,{p:6,maxW:"4xl",mx:"auto",children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(Pe,{size:"lg",display:"flex",alignItems:"center",children:[e.jsx(rj,{style:{marginRight:"8px"}}),"Mon Adhsion"]}),C?e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(Pl,{}),colorScheme:"green",onClick:ve,children:"Sauvegarder"}),e.jsx(J,{leftIcon:e.jsx(qu,{}),variant:"outline",onClick:ct,children:"Annuler"})]}):e.jsx(J,{leftIcon:e.jsx(Fs,{}),onClick:ye,children:"Modifier"})]}),!d&&e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",children:"Profil adhrent introuvable"}),e.jsx(P,{fontSize:"sm",children:x===401?"Vous ntes pas autoris. Veuillez vous reconnecter.":x===404?"Votre profil nest pas encore li. Si vous venez de raliser une liaison, actualisez la page ou reconnectez-vous. Sinon, merci de contacter un administrateur pour lassocier depuis la Gestion des Adhrents.":x===500?"Erreur serveur lors de la rcupration du profil.":x==="network-error"?"Impossible de joindre lAPI. Rseau ou CORS ? Essayez  nouveau.":"Votre profil n'est pas encore li. Merci de contacter un administrateur pour l'associer depuis la Gestion des Adhrents."}),e.jsxs(re,{mt:3,children:[e.jsx(J,{size:"sm",onClick:X,children:"Ressayer"}),(t?.roles||[]).map(Lt=>String(Lt).toUpperCase()).some(Lt=>["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(Lt))?e.jsx(J,{size:"sm",variant:"outline",onClick:async()=>{try{B(!0);const Lt=[S??"",mu||""];let Qe=null;for(const bt of Lt)try{const In=await fetch(`${bt}/api/members?limit=500`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(In.ok){Qe=await In.json();break}}catch{}xe(Qe?.members||[]),se()}finally{B(!1)}},isLoading:Ee,children:"Associer mon compte"}):null]})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(ho,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:"Informations personnelles"}),e.jsx(dn,{children:"Informations Adhrent"}),e.jsx(dn,{children:"Documents d'adhsions"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Informations personnelles"})}),e.jsx(Ie,{children:e.jsx(ne,{spacing:4,align:"stretch",children:C?e.jsxs(e.Fragment,{children:[e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Prnom"}),e.jsx(ge,{value:T.firstName||"",onChange:We=>R(at=>({...at,firstName:We.target.value}))})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:T.lastName||"",onChange:We=>R(at=>({...at,lastName:We.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:T.email||"",onChange:We=>R(at=>({...at,email:We.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Tlphone"}),e.jsx(ge,{value:T.phone||"",onChange:We=>R(at=>({...at,phone:We.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Adresse"}),e.jsx(ge,{value:T.address||"",onChange:We=>R(at=>({...at,address:We.target.value}))})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Code postal"}),e.jsx(ge,{value:T.postalCode||"",onChange:We=>R(at=>({...at,postalCode:We.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Ville"}),e.jsx(ge,{value:T.city||"",onChange:We=>R(at=>({...at,city:We.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date de naissance"}),e.jsx(ge,{type:"date",value:T.birthDate?T.birthDate.split("T")[0]:"",onChange:We=>R(at=>({...at,birthDate:We.target.value}))})]})]}):e.jsxs(ft,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ue,{children:[e.jsxs(re,{mb:4,children:[e.jsx(rj,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Nom complet"}),e.jsxs(P,{fontWeight:"bold",children:[d.firstName," ",d.lastName]})]})]}),d.email&&e.jsxs(re,{mb:4,children:[e.jsx(zc,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Email"}),e.jsx(P,{fontWeight:"bold",children:d.email})]})]}),d.phone&&e.jsxs(re,{mb:4,children:[e.jsx(oM,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Tlphone"}),e.jsx(P,{fontWeight:"bold",children:d.phone})]})]})]}),e.jsxs(ue,{children:[(d.address||d.city)&&e.jsxs(re,{mb:4,children:[e.jsx(_c,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Adresse"}),e.jsxs(P,{fontWeight:"bold",children:[d.address&&`${d.address}, `,d.postalCode," ",d.city]})]})]}),d.birthDate&&e.jsxs(re,{mb:4,children:[e.jsx($s,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Date de naissance"}),e.jsx(P,{fontWeight:"bold",children:new Date(d.birthDate).toLocaleDateString("fr-FR")})]})]})]})]})})})]})}),e.jsx(hn,{px:0,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Statut de l'Adhsion"})}),e.jsxs(Ie,{children:[e.jsxs(ft,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:"Statut actuel"}),e.jsx(et,{colorScheme:zn(d.membershipStatus),fontSize:"md",p:2,children:dr.label}),e.jsx(Ec,{value:dr.progress,colorScheme:zn(d.membershipStatus),mt:2,size:"sm"})]}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:"Type d'adhsion"}),e.jsx(P,{fontWeight:"bold",children:pj[d.membershipType]||d.membershipType})]}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:"Matricule"}),e.jsx(P,{fontWeight:"bold",color:"blue.600",children:d.matricule}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Utilis pour se connecter au site"})]}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:"Numro d'adhrent"}),e.jsx(P,{fontWeight:"bold",color:"purple.600",children:d.memberNumber}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:"Numro unique d'adhsion"})]})]}),e.jsx(bn,{my:4}),e.jsxs(ft,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:1,children:"Dbut d'adhsion"}),e.jsx(P,{fontWeight:"bold",children:we?dt(we):"-"})]}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:1,children:"Expiration prvue"}),e.jsx(P,{fontWeight:"bold",color:it?"red.600":"gray.800",children:ce?dt(ce):"-"}),ce&&e.jsx(P,{fontSize:"xs",color:it?"red.500":"gray.500",children:it?"Adhsion expire":`${It} jour(s) restant(s)`})]}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",mb:1,children:"Dernier paiement"}),e.jsx(P,{fontWeight:"bold",children:we?dt(we):"-"}),d?.paymentAmount&&e.jsxs(P,{fontSize:"xs",color:"gray.600",children:[d.paymentAmount," (",mj[d.paymentMethod]||d.paymentMethod,")"]})]})]}),!it&&It!==null&&It<=60&&e.jsxs(Wt,{status:"warning",mt:4,borderRadius:"md",children:[e.jsx(qt,{}),"Votre adhsion arrive  chance dans ",It," jour(s). Pensez  la renouveler."]}),it&&e.jsxs(Wt,{status:"error",mt:4,borderRadius:"md",children:[e.jsx(qt,{}),"Votre adhsion est expire. Veuillez procder au renouvellement."]})]})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Dtails d'adhsion"})}),e.jsx(Ie,{children:C?e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type d'adhsion"}),e.jsx(st,{value:T.membershipType||"STANDARD",onChange:We=>R(at=>({...at,membershipType:We.target.value})),children:Object.entries(pj).map(([We,at])=>e.jsx("option",{value:We,children:at},We))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Montant cotisation ()"}),e.jsx(ge,{type:"number",value:T.paymentAmount||"",onChange:We=>R(at=>({...at,paymentAmount:We.target.value}))})]})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Mode de paiement"}),e.jsx(st,{value:T.paymentMethod||"CASH",onChange:We=>R(at=>({...at,paymentMethod:We.target.value})),children:Object.entries(mj).map(([We,at])=>e.jsx("option",{value:We,children:at},We))})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{htmlFor:"newsletter",mb:"0",children:"Newsletter"}),e.jsx(ur,{id:"newsletter",isChecked:T.newsletter,onChange:We=>R(at=>({...at,newsletter:We.target.checked}))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes"}),e.jsx(en,{value:T.notes||"",onChange:We=>R(at=>({...at,notes:We.target.value})),placeholder:"Notes personnelles..."})]})]}):e.jsxs(ft,{columns:{base:1,md:2},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[d.paymentAmount&&e.jsxs(re,{mb:4,children:[e.jsx(Lx,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Cotisation"}),e.jsxs(P,{fontWeight:"bold",children:[d.paymentAmount," (",mj[d.paymentMethod]||d.paymentMethod,")"]})]})]}),e.jsxs(re,{mb:4,children:[e.jsx(rj,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Type"}),e.jsx(P,{fontWeight:"bold",children:pj[d.membershipType]||d.membershipType})]})]}),we&&e.jsxs(re,{mb:4,children:[e.jsx($s,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Dbut d'adhsion"}),e.jsx(P,{fontWeight:"bold",children:dt(we)})]})]})]}),e.jsxs(ue,{children:[e.jsxs(re,{mb:4,children:[e.jsx(Iu,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Matricule"}),e.jsx(P,{fontWeight:"bold",color:"blue.600",children:d.matricule})]})]}),e.jsxs(re,{mb:4,children:[e.jsx(Iu,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Numro d'adhrent"}),e.jsx(P,{fontWeight:"bold",color:"purple.600",children:d.memberNumber})]})]}),ce&&e.jsxs(re,{mb:4,children:[e.jsx($s,{}),e.jsxs(ue,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Expiration prvue"}),e.jsx(P,{fontWeight:"bold",color:it?"red.600":"gray.800",children:dt(ce)})]})]})]})]})})]})]})}),e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Documents d'adhsions"})}),e.jsx(Ie,{children:N?e.jsx(vn,{children:e.jsx(mn,{})}):D.length===0?e.jsx(P,{color:"gray.600",children:"Aucun document pour le moment."}):e.jsxs(Un,{size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Fichier"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Ajout le"}),e.jsx(ke,{children:"Expiration"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{})]})}),e.jsx(Gn,{children:D.map(We=>e.jsxs(jt,{children:[e.jsx(Ae,{children:We.fileName}),e.jsx(Ae,{children:We.documentType||"-"}),e.jsx(Ae,{children:We.uploadedAt?new Date(We.uploadedAt).toLocaleString("fr-FR"):"-"}),e.jsx(Ae,{children:We.expiryDate?new Date(We.expiryDate).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ae,{children:e.jsx(et,{children:We.status||"PENDING"})}),e.jsx(Ae,{textAlign:"right",children:e.jsx(J,{size:"sm",leftIcon:e.jsx(Mi,{}),onClick:()=>He(We),children:"Tlcharger"})})]},We.id))})]})})]})})]})]}),!C&&e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Actions"})}),e.jsx(Ie,{children:e.jsxs(re,{spacing:4,wrap:"wrap",children:[e.jsx(J,{leftIcon:e.jsx(Iu,{}),onClick:ae,children:"Changer le mot de passe"}),e.jsx(J,{leftIcon:e.jsx(Mi,{}),variant:"outline",children:"Tlcharger ma carte d'adhrent"}),(t?.roles||[]).map(Lt=>String(Lt).toUpperCase()).some(Lt=>["PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(Lt))&&e.jsx(J,{colorScheme:"red",variant:"outline",onClick:de,children:"Supprimer l'adhsion"})]})})]}),d.notes&&!C&&e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Notes"})}),e.jsx(Ie,{children:e.jsx(P,{children:d.notes})})]})]})]}),e.jsxs(wt,{isOpen:U,onClose:he,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Changer le mot de passe"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Mot de passe actuel"}),e.jsx(ge,{type:"password",value:O.currentPassword,onChange:We=>H(at=>({...at,currentPassword:We.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nouveau mot de passe"}),e.jsx(ge,{type:"password",value:O.newPassword,onChange:We=>H(at=>({...at,newPassword:We.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Confirmer le nouveau mot de passe"}),e.jsx(ge,{type:"password",value:O.confirmPassword,onChange:We=>H(at=>({...at,confirmPassword:We.target.value}))})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:he,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:Xe,children:"Modifier"})]})]})]}),e.jsxs(wt,{isOpen:le,onClose:Re,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Supprimer l'adhsion"}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Motif"}),e.jsxs(st,{value:q.reason,onChange:We=>W(at=>({...at,reason:We.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes (optionnel)"}),e.jsx(en,{value:q.notes,onChange:We=>W(at=>({...at,notes:We.target.value}))})]}),q.reason==="EXCLUSION"||q.reason==="DEMISSION"?e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Procs-verbal (PDF/Image)"}),e.jsx(ge,{type:"file",accept:"application/pdf,image/*",onChange:We=>W(at=>({...at,pv:We.target.files?.[0]||null}))})]}):null,q.reason==="DEMISSION"?e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(ge,{type:"file",accept:"application/pdf,image/*",onChange:We=>W(at=>({...at,resignation:We.target.files?.[0]||null}))})]}):null]})}),e.jsx(Ft,{children:e.jsxs(re,{children:[e.jsx(J,{variant:"ghost",onClick:Re,children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:async()=>{try{if(!q.reason){G({title:"Motif requis",status:"error"});return}if(q.reason==="EXCLUSION"&&!q.pv){G({title:"PV obligatoire",status:"error"});return}if(q.reason==="DEMISSION"&&(!q.pv||!q.resignation)){G({title:"PV et lettre requis",status:"error"});return}const We=new FormData;We.append("reason",q.reason),q.notes&&We.append("notes",q.notes),q.pv&&We.append("pv",q.pv),q.resignation&&We.append("resignation",q.resignation);let at=null,Lt=null;for(const Qe of[S??"",mu||""])try{const bt=await fetch(`${Qe}/api/members/${d?.id}/terminate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:We});if(bt.ok){at=bt,Lt=await bt.json();break}else Lt=await bt.json().catch(()=>({}))}catch{}if(!at)throw new Error(Lt?.error||"Erreur de suppression");G({title:"Adhsion supprime",status:"success",duration:3e3}),Re(),X()}catch(We){G({title:"Erreur",description:We.message,status:"error"})}},children:"Confirmer"})]})})]})]}),e.jsxs(wt,{isOpen:fe,onClose:Y,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Associer mon compte  un adhrent"}),e.jsx(Ct,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Slectionnez ladhrent correspondant  votre compte afin dactiver la page Mon Adhsion."}),e.jsxs(Q,{children:[e.jsx(K,{children:"Adhrent"}),e.jsx(st,{value:$,onChange:We=>F(We.target.value),placeholder:"Choisir",children:ie.map(We=>e.jsxs("option",{value:We.id,children:[We.lastName?.toUpperCase()," ",We.firstName,"  ",We.email," ",We.memberNumber?`(${We.memberNumber})`:""]},We.id))})]})]})}),e.jsx(Ft,{children:e.jsxs(re,{children:[e.jsx(J,{variant:"ghost",onClick:Y,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",isDisabled:!$,onClick:async()=>{try{B(!0);let We=!1,at=null;for(const Lt of[S??"",mu||""])try{const Qe=await fetch(`${Lt}/api/members/${$}/link-access`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:(t?.username||"").toLowerCase()})}),bt=await Qe.json().catch(()=>({}));if(Qe.ok){We=!0;break}else at=bt?.error||"Erreur de liaison"}catch{}if(!We)throw new Error(at||"Erreur de liaison");G({status:"success",title:"Compte associ"}),Y(),await u(!0)}catch(We){G({status:"error",title:"chec",description:We.message})}finally{B(!1)}},children:"Associer"})]})})]})]})]})}const pee="/univers_rbe.png";function mee(){const[t,n]=v.useState(""),[r,i]=v.useState(""),[l,u]=v.useState(""),[d,m]=v.useState(!1),p=co(),{setToken:g,setUser:x}=vs(),y=Tn("rbe.500","rbe.300"),S=Tn("gray.100","gray.700"),w=async()=>{if(!t.trim()||!r.trim()){u("Champs requis.");return}m(!0),u("");try{const _=t.trim(),R=/^\d{4}-\d{3}$/i.test(_)||_.includes("@")?await KX(_,r):await XX(_.toLowerCase(),r);g(R.token),x(R.user),p("/dashboard")}catch(_){u(_.message)}finally{m(!1)}},C=_=>_.key==="Enter"&&w();return e.jsxs(ue,{minH:"100vh",bg:"white",overflowX:"hidden",children:[e.jsx(ue,{as:"header",w:"100%",bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:e.jsx(ue,{maxW:"2000px",mx:"auto",children:e.jsx(Oi,{src:pee,alt:"Bannire Intranet",w:"100%",h:{base:"100px",md:"200px",lg:"300px"},objectFit:"cover",fallbackSrc:"https://via.placeholder.com/2000x600?text=Intranet+Banner"})})}),e.jsx(ue,{as:"main",px:4,pb:12,children:e.jsx(ue,{maxW:"xs",w:"full",mx:"auto",mt:{base:-12,md:-20},position:"relative",children:e.jsxs(ne,{spacing:3,bg:"white",p:6,borderRadius:"md",shadow:"xl",border:"1px solid",borderColor:S,borderTop:"4px solid",borderTopColor:"rbe.500",children:[e.jsx(P,{fontSize:"xl",fontWeight:"bold",textAlign:"center",children:"Connexion Intranet"}),e.jsx(P,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Accs rserv aux membres et bnvoles"}),l&&e.jsx(P,{color:"red.500",textAlign:"center",children:l}),e.jsx(ge,{size:"sm",placeholder:"Identifiant",value:t,onChange:_=>n(_.target.value),onKeyDown:C,_focus:{borderColor:y,boxShadow:`0 0 0 1px ${y}`}}),e.jsx(ge,{size:"sm",placeholder:"Mot de passe",type:"password",value:r,onChange:_=>i(_.target.value),onKeyDown:C,_focus:{borderColor:y,boxShadow:`0 0 0 1px ${y}`}}),e.jsx(J,{size:"sm",colorScheme:"rbe",w:"full",onClick:w,isLoading:d,loadingText:"Connexion...",children:"Se connecter"})]})})})]})}function gee(){const[t,n]=v.useState([]),[r,i]=v.useState(!1),[l,u]=v.useState(!1),[d,m]=v.useState(""),[p,g]=v.useState("CONFIRMED"),[x,y]=v.useState(!1),[S,w]=v.useState({total:0,confirmed:0,pending:0}),[C,_]=v.useState(null),[T,R]=v.useState("ALL"),D=on(),{token:k,isAuthenticated:N}=vs(),M=co(),{isOpen:O,onOpen:H,onClose:U}=Rt(),ae=v.useCallback(async(Y={manual:!1})=>{if(!k){console.log("[Newsletter] Waiting for token...");return}i(!0),y(!1);try{console.log("[Newsletter] Fetching subscribers...");const q=await Ug.getAll();console.log("[Newsletter] Received:",q),n(Array.isArray(q)?q:[]);const W=q.length,Ee=q.filter(ie=>ie.status==="CONFIRMED").length,B=q.filter(ie=>ie.status==="PENDING").length;w({total:W,confirmed:Ee,pending:B})}catch(q){if(console.error("[Newsletter] fetch error:",q),q.status===401){D({status:"error",title:"Session expire",description:"Veuillez vous reconnecter"}),n([]);return}y(!0),Y.manual||D({status:"warning",title:"Mode dgrad",description:"Affichage de donnes de dmonstration (chec API)"}),n([{id:"demo1",email:"demo@example.com",status:"CONFIRMED",createdAt:new Date().toISOString()},{id:"demo2",email:"test@rbe.fr",status:"PENDING",createdAt:new Date().toISOString()}]),w({total:2,confirmed:1,pending:1})}finally{i(!1)}},[k,D]);v.useEffect(()=>{k&&ae()},[k,ae]);const he=async()=>{if(!d.includes("@")){D({status:"error",title:"Email invalide"});return}if(!k){D({status:"error",title:"Authentification requise"});return}u(!0);try{await Ug.create({email:d.trim().toLowerCase(),status:p}),D({status:"success",title:"Abonn ajout avec succs"}),m(""),g("CONFIRMED"),ae({manual:!0})}catch(Y){if(Y.status===401){D({status:"error",title:"Session expire"});return}if(Y.status===409){D({status:"info",title:"Email dj existant",description:"Cet email est dj dans la liste"});return}D({status:"error",title:"Erreur lors de l'ajout"})}finally{u(!1)}},le=async(Y,q)=>{if(confirm(`Supprimer l'abonn ${q} ?`)){if(!k){D({status:"error",title:"Authentification requise"});return}try{await Ug.delete(Y),D({status:"success",title:"Abonn supprim"}),n(W=>W.filter(Ee=>Ee.id!==Y)),w(W=>({...W,total:W.total-1,confirmed:W.confirmed-(t.find(Ee=>Ee.id===Y)?.status==="CONFIRMED"?1:0),pending:W.pending-(t.find(Ee=>Ee.id===Y)?.status==="PENDING"?1:0)}))}catch(W){if(W.status===401){D({status:"error",title:"Session expire"});return}D({status:"error",title:"Erreur lors de la suppression"})}}},de=Y=>{_(Y),H()},Re=async Y=>{if(C)try{await Ug.updateStatus(C.id,Y),D({status:"success",title:"Statut mis  jour",description:`${C.email}  ${Y}`}),n(q=>q.map(W=>W.id===C.id?{...W,status:Y}:W)),U(),ae({manual:!0})}catch{D({status:"error",title:"Erreur lors de la mise  jour"})}},fe=async()=>{try{D({status:"info",title:"Export en cours...",description:"Gnration du fichier CSV"});const Y=t.map(B=>({Email:B.email,Statut:B.status,"Date inscription":new Date(B.createdAt).toLocaleDateString("fr-FR")})),q=[Object.keys(Y[0]).join(";"),...Y.map(B=>Object.values(B).join(";"))].join(`
`),W=new Blob([q],{type:"text/csv;charset=utf-8;"}),Ee=document.createElement("a");Ee.href=URL.createObjectURL(W),Ee.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,Ee.click(),D({status:"success",title:"Export termin"})}catch{D({status:"error",title:"Erreur lors de l'export"})}},se=T==="ALL"?t:t.filter(Y=>Y.status===T);return N?e.jsx(ue,{p:6,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"lg",children:" Gestion Newsletter"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Grez les abonnements  la newsletter RtroBus Essonne"})]}),e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(io,{}),size:"sm",variant:"outline",onClick:()=>ae({manual:!0}),isLoading:r,children:"Rafrachir"}),e.jsx(J,{leftIcon:e.jsx(Mi,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:fe,isDisabled:t.length===0,children:"Exporter CSV"}),e.jsx(J,{leftIcon:e.jsx(zc,{}),size:"sm",colorScheme:"blue",onClick:()=>M("/dashboard/newsletter-campaigns"),title:"Grer les campagnes de mailing",children:"Campagnes"})]})]}),e.jsxs(C1,{children:[e.jsxs(gt,{children:[e.jsx(xt,{children:"Total abonns"}),e.jsx(vt,{color:"blue.500",children:S.total})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Confirms"}),e.jsx(vt,{color:"green.500",children:S.confirmed})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"En attente"}),e.jsx(vt,{color:"orange.500",children:S.pending})]})]}),x&&e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"bold",children:"Mode dgrad"}),e.jsx(P,{fontSize:"sm",children:"Donnes de dmonstration affiches (API indisponible)"})]})]}),e.jsx(ue,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",children:e.jsxs(ne,{spacing:4,children:[e.jsx(Pe,{size:"sm",children:" Ajouter un nouvel abonn"}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(Q,{flex:2,children:[e.jsx(K,{fontSize:"sm",children:"Email"}),e.jsx(ge,{placeholder:"nouvel.abonne@email.com",value:d,onChange:Y=>m(Y.target.value),bg:"white"})]}),e.jsxs(Q,{flex:1,children:[e.jsx(K,{fontSize:"sm",children:"Statut"}),e.jsxs(st,{value:p,onChange:Y=>g(Y.target.value),bg:"white",children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"green",onClick:he,isLoading:l,alignSelf:"end",children:"Ajouter"})]})]})}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(re,{children:[e.jsx(P,{fontSize:"sm",fontWeight:"medium",children:"Filtrer par statut :"}),e.jsxs(st,{size:"sm",value:T,onChange:Y=>R(Y.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous"}),e.jsx("option",{value:"CONFIRMED",children:"Confirms"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsxs(Uu,{size:"lg",variant:"subtle",colorScheme:"purple",children:[e.jsxs(Hu,{children:[e.jsx(zi,{style:{marginRight:"4px"}}),se.length," affich",se.length>1?"s":""]}),t.length>0&&e.jsx(E1,{title:"Vider la liste locale (ne supprime pas en base)",onClick:()=>{confirm("Vider la liste locale affiche ? (ne supprime pas en base)")&&(n([]),w({total:0,confirmed:0,pending:0}))}})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflowX:"auto",children:r?e.jsx(vn,{py:10,children:e.jsxs(ne,{children:[e.jsx(mn,{size:"lg",color:"blue.500"}),e.jsx(P,{color:"gray.600",children:"Chargement des abonns..."})]})}):e.jsxs(Un,{size:"sm",children:[e.jsx(Yn,{bg:"gray.50",children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Email"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Date d'inscription"}),e.jsx(ke,{children:"Actions"})]})}),e.jsxs(Gn,{children:[se.map(Y=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{fontWeight:"semibold",maxW:"300px",isTruncated:!0,children:Y.email}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:Y.status==="CONFIRMED"?"green":"orange",variant:"subtle",fontSize:"xs",px:2,py:1,borderRadius:"md",cursor:"pointer",onClick:()=>de(Y),_hover:{opacity:.8},title:"Cliquer pour modifier",children:Y.status==="CONFIRMED"?" Confirm":" En attente"})}),e.jsx(Ae,{fontSize:"sm",color:"gray.600",children:Y.createdAt?new Date(Y.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"-"}),e.jsx(Ae,{children:e.jsxs(re,{spacing:1,children:[e.jsx(yt,{"aria-label":"Modifier le statut",icon:e.jsx(Fs,{}),size:"xs",colorScheme:"blue",variant:"ghost",onClick:()=>de(Y),title:"Modifier le statut"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>le(Y.id,Y.email),title:"Supprimer cet abonn"})]})})]},Y.id)),se.length===0&&!r&&e.jsx(jt,{children:e.jsx(Ae,{colSpan:4,children:e.jsx(vn,{py:8,children:e.jsxs(ne,{children:[e.jsx(P,{fontSize:"lg",children:""}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:T==="ALL"?"Aucun abonn pour le moment.":`Aucun abonn avec le statut "${T}".`}),T!=="ALL"&&e.jsx(J,{size:"sm",variant:"link",onClick:()=>R("ALL"),children:"Voir tous les abonns"})]})})})})]})]})}),e.jsx(ue,{mt:8,p:4,bg:"blue.50",borderRadius:"lg",children:e.jsxs(ne,{align:"start",spacing:3,children:[e.jsx(Pe,{size:"sm",color:"blue.700",children:" Feuille de route"}),e.jsxs(ne,{align:"start",spacing:1,fontSize:"sm",color:"blue.600",children:[e.jsx(P,{children:" Ajout / suppression manuelle d'abonns"}),e.jsx(P,{children:" Gestion des statuts (confirm / en attente)"}),e.jsx(P,{children:" Export CSV des abonns"}),e.jsx(P,{children:" Statistiques en temps rel"}),e.jsx(P,{children:" Import CSV en masse"}),e.jsx(P,{children:" Double opt-in avec email de confirmation"}),e.jsx(P,{children:" Intgration service de mailing (Sendinblue, Mailjet...)"}),e.jsx(P,{children:" Templates d'emails personnalisables"}),e.jsx(P,{children:" Segmentation avance des abonns"})]})]})}),e.jsxs(wt,{isOpen:O,onClose:U,isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Modifier le statut de l'abonn"}),e.jsx($t,{}),e.jsx(Ct,{children:C&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Email :"})," ",C.email]}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Statut actuel :"})," ",C.status]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nouveau statut"}),e.jsxs(st,{defaultValue:C.status,onChange:Y=>_({...C,newStatus:Y.target.value}),children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:U,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:()=>Re(C?.newStatus||C?.status),children:"Mettre  jour"})]})]})]})]})}):e.jsx(vn,{minH:"300px",children:e.jsxs(ne,{children:[e.jsx(P,{children:"Veuillez vous connecter pour accder  la gestion newsletter."}),e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Cette section ncessite des droits d'administration."})]})})}const jc="https://attractive-kindness-rbe-serveurs.up.railway.app";function xee(){const[t,n]=v.useState([]),[r,i]=v.useState(!1),[l,u]=v.useState(null),[d,m]=v.useState(null),[p,g]=v.useState({title:"",subject:"",content:"",scheduledAt:""}),[x,y]=v.useState(""),[S,w]=v.useState(null),[C,_]=v.useState(null),[T,R]=v.useState({}),{token:D}=vs(),k=on(),{isOpen:N,onOpen:M,onClose:O}=Rt(),{isOpen:H,onOpen:U,onClose:ae}=Rt(),{isOpen:he,onOpen:le,onClose:de}=Rt(),Re=async()=>{i(!0);try{const xe=await fetch(`${jc}/newsletter/campaigns`,{headers:{Authorization:`Bearer ${D}`}});if(!xe.ok)throw new Error("Erreur chargement");const $=await xe.json();n($)}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les campagnes"})}finally{i(!1)}};v.useEffect(()=>{D&&Re()},[D]);const fe=async()=>{if(!p.title||!p.subject||!p.content){k({status:"error",title:"Erreur",description:"Tous les champs sont requis"});return}try{if(!(await fetch(`${jc}/newsletter/campaigns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(p)})).ok)throw new Error("Erreur cration");k({status:"success",title:"Succs",description:"Campagne cre avec succs"}),g({title:"",subject:"",content:"",scheduledAt:""}),O(),Re()}catch{k({status:"error",title:"Erreur",description:"Impossible de crer la campagne"})}},se=async xe=>{try{const $=await fetch(`${jc}/newsletter/campaigns/${xe}/preview`,{headers:{Authorization:`Bearer ${D}`}});if(!$.ok)throw new Error("Erreur prvisualisation");const F=await $.json();m(xe),w(F),U()}catch{k({status:"error",title:"Erreur",description:"Impossible de prvisualiser"})}},Y=async xe=>{if(!x){k({status:"error",title:"Erreur",description:"Email de test requis"});return}try{if(!(await fetch(`${jc}/newsletter/campaigns/${xe}/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({email:x})})).ok)throw new Error("Erreur envoi test");k({status:"success",title:"Test envoy",description:`Email de test envoy  ${x}`}),y("")}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer le test"})}},q=async xe=>{if(confirm("tes-vous sr de vouloir envoyer cette campagne ? Cette action est irrversible.")){_(xe);try{const $=await fetch(`${jc}/newsletter/campaigns/${xe}/prepare`,{method:"POST",headers:{Authorization:`Bearer ${D}`}});if(!$.ok)throw new Error("Erreur prparation");const F=await $.json();k({status:"info",title:"Prparation termine",description:`${F.preparedSends} emails prpars. Envoi en cours...`});const G=await fetch(`${jc}/newsletter/campaigns/${xe}/send`,{method:"POST",headers:{Authorization:`Bearer ${D}`}});if(!G.ok)throw new Error("Erreur envoi");const X=await G.json();k({status:"success",title:"Envoi termin",description:`${X.success} emails envoys avec succs, ${X.errors} erreurs`}),Re()}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer la campagne"})}finally{_(null)}}},W=async xe=>{u(xe);try{const $=await fetch(`${jc}/newsletter/campaigns/${xe.id}/stats`,{headers:{Authorization:`Bearer ${D}`}});if(!$.ok)throw new Error("Erreur stats");const F=await $.json();R(F),le()}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les statistiques"})}},Ee=async(xe,$)=>{if(confirm(`Supprimer dfinitivement la campagne "${$}" ?`))try{if(!(await fetch(`${jc}/newsletter/campaigns/${xe}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}})).ok)throw new Error("Erreur suppression");k({status:"success",title:"Supprim",description:"Campagne supprime avec succs"}),Re()}catch{k({status:"error",title:"Erreur",description:"Impossible de supprimer la campagne"})}},B=xe=>{const $={DRAFT:{color:"gray",text:"Brouillon"},SENDING:{color:"blue",text:"En cours"},SENT:{color:"green",text:"Envoy"},CANCELLED:{color:"red",text:"Annul"}},F=$[xe]||$.DRAFT;return e.jsx(et,{colorScheme:F.color,children:F.text})},ie={event:{title:"Nouvel vnement",subject:" Nouveau vnement RtroBus Essonne !",content:`
        <h2> Nouvel vnement  ne pas manquer !</h2>
        <p>Chers passionns de vhicules d'poque,</p>
        <p>Nous avons le plaisir de vous annoncer un nouvel vnement organis par l'association RtroBus Essonne :</p>
        
        <h3> [Nom de l'vnement]</h3>
        <p><strong>Date :</strong> [Date]<br>
        <strong>Lieu :</strong> [Lieu]<br>
        <strong>Heure :</strong> [Heure]</p>
        
        <p>[Description de l'vnement]</p>
        
        <a href="#" class="button">S'inscrire  l'vnement</a>
        
        <p>Au plaisir de vous retrouver nombreux !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `},news:{title:"Actualits du parc",subject:" Actualits RtroBus Essonne",content:`
        <h2> Les dernires nouvelles de notre parc</h2>
        <p>Bonjour  tous,</p>
        <p>Voici les dernires actualits de l'association RtroBus Essonne :</p>
        
        <h3> Nouveau vhicule au parc</h3>
        <p>[Informations sur le nouveau vhicule]</p>
        
        <h3> Travaux de restauration</h3>
        <p>[Avancement des travaux]</p>
        
        <h3> Retour en images</h3>
        <p>[Galerie photos rcente]</p>
        
        <a href="#" class="button">Voir toutes les actualits</a>
        
        <p>Merci pour votre soutien !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `}};return e.jsxs(ue,{p:6,children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"lg",children:" Campagnes Newsletter"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Crez et grez vos campagnes d'emailing"})]}),e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(io,{}),onClick:Re,isLoading:r,variant:"outline",size:"sm",children:"Actualiser"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:M,children:"Nouvelle campagne"})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:r?e.jsx(vn,{py:10,children:e.jsx(mn,{size:"lg"})}):t.length===0?e.jsx(vn,{py:10,children:e.jsxs(ne,{children:[e.jsx(P,{fontSize:"lg",children:""}),e.jsx(P,{color:"gray.500",children:"Aucune campagne cre"}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",size:"sm",onClick:M,children:"Crer votre premire campagne"})]})}):e.jsxs(Un,{children:[e.jsx(Yn,{bg:"gray.50",children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Campagne"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Cre le"}),e.jsx(ke,{children:"Abonns"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:t.map(xe=>e.jsxs(jt,{children:[e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"semibold",children:xe.title}),e.jsx(P,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:xe.subject})]})}),e.jsx(Ae,{children:B(xe.status)}),e.jsx(Ae,{children:e.jsx(P,{fontSize:"sm",children:new Date(xe.createdAt).toLocaleDateString("fr-FR")})}),e.jsx(Ae,{children:e.jsx(P,{fontSize:"sm",children:xe.totalSent||xe._count?.sends||0})}),e.jsx(Ae,{children:e.jsxs(re,{spacing:1,children:[e.jsx(yt,{"aria-label":"Prvisualiser",icon:e.jsx(Wu,{}),size:"sm",variant:"ghost",onClick:()=>se(xe.id)}),xe.status==="DRAFT"&&e.jsxs(e.Fragment,{children:[e.jsx(yt,{"aria-label":"Envoyer",icon:e.jsx(iQ,{}),size:"sm",colorScheme:"green",variant:"ghost",onClick:()=>q(xe.id),isLoading:C===xe.id}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(Zn,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>Ee(xe.id,xe.title)})]}),xe.status==="SENT"&&e.jsx(yt,{"aria-label":"Statistiques",icon:e.jsx(WK,{}),size:"sm",colorScheme:"purple",variant:"ghost",onClick:()=>W(xe)})]})})]},xe.id))})]})})]}),e.jsxs(wt,{isOpen:N,onClose:O,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:" Nouvelle campagne newsletter"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Titre de la campagne"}),e.jsx(ge,{placeholder:"ex: Newsletter mensuelle octobre 2025",value:p.title,onChange:xe=>g($=>({...$,title:xe.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Sujet de l'email"}),e.jsx(ge,{placeholder:"ex:  Actualits RtroBus Essonne - Octobre 2025",value:p.subject,onChange:xe=>g($=>({...$,subject:xe.target.value}))})]}),e.jsx(nD,{allowToggle:!0,w:"100%",children:e.jsxs(iD,{children:[e.jsxs(rD,{children:[e.jsx(ue,{flex:"1",textAlign:"left",children:" Utiliser un template prdfini"}),e.jsx(sD,{})]}),e.jsx(aD,{children:e.jsx(ne,{spacing:2,children:Object.entries(ie).map(([xe,$])=>e.jsx(J,{size:"sm",variant:"outline",w:"100%",onClick:()=>g(F=>({...F,title:$.title,subject:$.subject,content:$.content})),children:$.title},xe))})})]})}),e.jsxs(Q,{children:[e.jsx(K,{children:"Contenu de la newsletter (HTML)"}),e.jsx(en,{value:p.content,onChange:xe=>g($=>({...$,content:xe.target.value})),minH:"400px",fontFamily:"mono",fontSize:"sm",placeholder:"Entrez votre contenu HTML..."})]}),e.jsxs(Wt,{status:"info",fontSize:"sm",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"semibold",children:" Conseils"}),e.jsx(P,{children:" Utilisez des titres avec <h2> et <h3>"}),e.jsx(P,{children:' Ajoutez des liens avec <a href="#" class="button">Texte</a>'}),e.jsx(P,{children:" Sparez les sections avec des paragraphes <p>"})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:O,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:fe,children:"Crer la campagne"})]})]})]}),e.jsxs(wt,{isOpen:H,onClose:ae,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsx(Et,{children:" Prvisualisation de la campagne"}),e.jsx($t,{}),e.jsx(Ct,{children:S&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Sujet"}),e.jsx(vh,{p:2,w:"100%",children:S.subject})]}),e.jsx(bn,{}),e.jsxs(ne,{spacing:2,children:[e.jsx(P,{fontWeight:"semibold",children:"Aperu de l'email :"}),e.jsx(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",h:"400px",w:"100%",overflow:"auto",children:e.jsx("iframe",{srcDoc:S.html,style:{width:"100%",height:"100%",border:"none"},title:"Prvisualisation email"})})]}),e.jsx(bn,{}),e.jsxs(Q,{children:[e.jsx(K,{children:"Envoyer un test  :"}),e.jsxs(re,{children:[e.jsx(ge,{placeholder:"votre-email@test.com",value:x,onChange:xe=>y(xe.target.value)}),e.jsx(J,{leftIcon:e.jsx(zc,{}),colorScheme:"orange",onClick:()=>Y(d),isDisabled:!x||!d,children:"Envoyer le test"})]})]})]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:ae,children:"Fermer"})})]})]}),e.jsxs(wt,{isOpen:he,onClose:de,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Statistiques de la campagne"}),e.jsx($t,{}),e.jsx(Ct,{children:l&&e.jsxs(ne,{spacing:6,children:[e.jsxs(ne,{align:"start",w:"100%",children:[e.jsx(P,{fontWeight:"semibold",children:l.title}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:l.subject}),e.jsxs(P,{fontSize:"sm",color:"gray.500",children:["Envoye le ",new Date(l.sentAt).toLocaleDateString("fr-FR")]})]}),e.jsxs(C1,{w:"100%",children:[e.jsxs(gt,{children:[e.jsx(xt,{children:"Envoys"}),e.jsx(vt,{color:"blue.500",children:T.sent||0})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"checs"}),e.jsx(vt,{color:"red.500",children:T.failed||0})]}),e.jsxs(gt,{children:[e.jsx(xt,{children:"Ouvertures"}),e.jsx(vt,{color:"green.500",children:T.opened||0})]})]}),T.sent>0&&e.jsxs(ue,{w:"100%",children:[e.jsx(P,{fontSize:"sm",mb:2,children:"Taux de russite"}),e.jsx(Ec,{value:T.sent/(T.sent+T.failed)*100,colorScheme:"green",size:"lg"}),e.jsxs(P,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.round(T.sent/(T.sent+T.failed)*100),"% des emails ont t envoys avec succs"]})]})]})}),e.jsx(Ft,{children:e.jsx(J,{onClick:de,children:"Fermer"})})]})]})]})}const vee=({label:t,value:n,change:r,icon:i,color:l="brand",loading:u=!1})=>{const d=Tn("white","gray.800"),m=Tn(`${l}.600`,`${l}.400`);return e.jsx(Ne,{variant:"modern",bg:d,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsxs(re,{justify:"space-between",align:"start",mb:2,children:[e.jsx(xt,{color:"gray.600",fontSize:"sm",fontWeight:"500",children:t}),i&&e.jsx(Mn,{as:i,color:m,boxSize:5})]}),e.jsx(vt,{color:m,fontSize:"2xl",fontWeight:"700",children:u?e.jsx(mn,{size:"sm"}):n}),r&&!u&&e.jsxs(Pi,{mb:0,children:[e.jsx(Qd,{type:r.type}),r.value]})]})})})},yee=({stats:t,loading:n=!1})=>e.jsx(ft,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:t.map((r,i)=>e.jsx(vee,{...r,loading:n},i))}),$d={STANDARD:{label:"Standard",price:60,description:"Adhsion individuelle classique",color:"blue"},FAMILY:{label:"Famille",price:100,description:"2 adultes + enfants mineurs",color:"green"},STUDENT:{label:"tudiant",price:35,description:"Tarif rduit sur justificatif",color:"purple"},HONORARY:{label:"Honneur",price:0,description:"Membre d'honneur",color:"gold"},LIFETIME:{label:" vie",price:0,description:"Adhsion permanente",color:"red"}},Hg={PENDING:{label:"En attente",color:"yellow",icon:D1,description:"Dossier en cours de traitement"},ACTIVE:{label:"Actif",color:"green",icon:A1,description:"Adhsion  jour"},EXPIRED:{label:"Expir",color:"red",icon:hQ,description:"Adhsion expire"},SUSPENDED:{label:"Suspendu",color:"orange",icon:T1,description:"Adhsion suspendue"},CANCELLED:{label:"Annul",color:"gray",icon:Bx,description:"Adhsion annule"}},Wg={MEMBER:{label:"Adhrent",icon:zi,color:"blue",description:"Membre standard de l'association",permissions:["participate_events","access_newsletter"]},DRIVER:{label:"Conducteur",icon:Tc,color:"green",description:"Autoris  conduire les vhicules",permissions:["drive_vehicles","access_myrbe"]},ADMIN:{label:"Administrateur",icon:M1,color:"red",description:"Accs complet aux fonctions d'administration",permissions:["admin_full_access"]},BUREAU:{label:"Bureau",icon:HK,color:"purple",description:"Membre du bureau de l'association",permissions:["bureau_access","admin_events","admin_members"]}},jee={CASH:{label:"Espces",icon:Mc,color:"green"},CHECK:{label:"Chque",icon:Lx,color:"blue"},TRANSFER:{label:"Virement",icon:Lo,color:"purple"},HELLOASSO:{label:"HelloAsso",icon:iM,color:"orange"},CARD:{label:"Carte bancaire",icon:Lx,color:"teal"}},gj={IDENTITY_CARD:{label:"Pice d'identit",icon:cM,color:"green",required:!0,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},DRIVING_LICENSE:{label:"Permis de conduire",icon:Tc,color:"blue",required:!1,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},INSURANCE_RECORD:{label:"Relev d'assurance",icon:M1,color:"orange",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEMBERSHIP_FORM:{label:"Bulletin d'adhsion",icon:wb,color:"purple",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEDICAL_CERTIFICATE:{label:"Certificat mdical",icon:A1,color:"teal",required:!1,maxSizeMB:3,allowedTypes:["application/pdf"]}};function bee(){const[t,n]=v.useState([]),[r,i]=v.useState([]),[l,u]=v.useState(null),[d,m]=v.useState(!0),[p,g]=v.useState(!1),[x,y]=v.useState("table"),[S,w]=v.useState([]),[C,_]=v.useState({search:"",status:"ALL",role:"ALL",membershipType:"ALL",hasMyRBEAccess:"ALL",expiringOnly:!1}),{isOpen:T,onOpen:R,onClose:D}=Rt(),{isOpen:k,onOpen:N,onClose:M}=Rt(),{isOpen:O,onOpen:H,onClose:U}=Rt(),{isOpen:ae,onOpen:he,onClose:le}=Rt(),[de,Re]=v.useState(null),[fe,se]=v.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:"",paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),[Y,q]=v.useState([]),[W,Ee]=v.useState({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B=v.useRef(null),ie=on();Tn("white","gray.800");const xe=()=>{const ce=new Date().getFullYear(),je=Math.floor(Math.random()*900)+100;return`${ce}-${je}`},$=()=>{const ce="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let je="";for(let it=0;it<8;it++)je+=ce.charAt(Math.floor(Math.random()*ce.length));return je},F=(ce,je)=>{const it=new Date(ce),It=new Date(it);return It.setFullYear(it.getFullYear()+1,11,31),It.toISOString().split("T")[0]},G=(ce,je=60)=>{if(!ce)return!1;const it=new Date(ce),It=new Date(Date.now()+je*24*60*60*1e3);return it<=It},X=v.useCallback(async()=>{try{if(m(!0),console.log(" Chargement des membres..."),!await El.testConnectivity()){console.warn(" API non accessible, mode dgrad activ"),ie({status:"warning",title:"Mode dgrad",description:"L'API n'est pas accessible. Certaines fonctionnalits peuvent tre limites.",duration:5e3,isClosable:!0}),n([]);return}const je=await El.getAll();console.log(" Rponse API membres:",je);let it=[];je?.members?it=Array.isArray(je.members)?je.members:[je.members]:je?.data?it=Array.isArray(je.data)?je.data:[je.data]:Array.isArray(je)?it=je:(console.warn(" Structure de rponse inattendue:",je),it=[]),n(it),console.log(` ${it.length} membres chargs avec succs`),it.length===0&&ie({status:"info",title:"Aucun membre",description:"Aucun membre trouv dans la base de donnes",duration:3e3,isClosable:!0})}catch(ce){console.error(" Erreur chargement membres:",ce);let je="Impossible de charger les membres",it="error";ce.message.includes("404")?je="Endpoint membres non trouv. Vrifiez la configuration de l'API.":ce.message.includes("401")?(je="Session expire. Veuillez vous reconnecter.",setTimeout(()=>{window.location.href="/login"},2e3)):ce.message.includes("500")?je="Erreur serveur. Contactez l'administrateur.":ce.message.includes("Network")&&(je="Problme de rseau. Vrifiez votre connexion.",it="warning"),ie({status:it,title:"Erreur de chargement",description:je,duration:8e3,isClosable:!0}),n([])}finally{m(!1)}},[ie]),ye=v.useCallback(async()=>{try{if(t.length===0)return;const ce=new Date,je=new Date(ce.getTime()-720*60*60*1e3),it={totalMembers:t.length,activeMembers:t.filter(It=>It.membershipStatus==="ACTIVE").length,expiredMembers:t.filter(It=>It.membershipStatus==="EXPIRED").length,pendingMembers:t.filter(It=>It.membershipStatus==="PENDING").length,driversCount:t.filter(It=>It.role==="DRIVER"||It.driverLicense).length,myRBEEnabled:t.filter(It=>It.loginEnabled).length,recentJoins:t.filter(It=>new Date(It.joinDate||It.createdAt)>je).length,expiringSoon:t.filter(It=>G(It.renewalDate)).length,totalRevenue:t.filter(It=>It.membershipStatus==="ACTIVE"&&It.paymentAmount).reduce((It,zn)=>It+(parseFloat(zn.paymentAmount)||0),0)};u(it)}catch(ce){console.error(" Erreur calcul statistiques:",ce)}},[t]),ve=v.useCallback(()=>{let ce=[...t];if(C.search){const je=C.search.toLowerCase();ce=ce.filter(it=>`${it.firstName} ${it.lastName}`.toLowerCase().includes(je)||it.email?.toLowerCase().includes(je)||it.matricule?.toLowerCase().includes(je)||it.phone?.includes(je))}if(C.status!=="ALL"&&(ce=ce.filter(je=>je.membershipStatus===C.status)),C.role!=="ALL"&&(ce=ce.filter(je=>je.role===C.role)),C.membershipType!=="ALL"&&(ce=ce.filter(je=>je.membershipType===C.membershipType)),C.hasMyRBEAccess!=="ALL"){const je=C.hasMyRBEAccess==="true";ce=ce.filter(it=>!!it.loginEnabled===je)}C.expiringOnly&&(ce=ce.filter(je=>G(je.renewalDate))),i(ce)},[t,C]);v.useEffect(()=>{X()},[X]),v.useEffect(()=>{ye()},[ye]),v.useEffect(()=>{ve()},[ve]);const be=()=>{se({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:$d.STANDARD.price.toString(),paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),Re(null)},He=()=>{be(),R()},ct=ce=>{se({...ce,joinDate:ce.joinDate?ce.joinDate.split("T")[0]:"",renewalDate:ce.renewalDate?ce.renewalDate.split("T")[0]:"",birthDate:ce.birthDate?ce.birthDate.split("T")[0]:"",licenseExpiryDate:ce.licenseExpiryDate?ce.licenseExpiryDate.split("T")[0]:"",medicalCertificateDate:ce.medicalCertificateDate?ce.medicalCertificateDate.split("T")[0]:"",paymentAmount:ce.paymentAmount?.toString()||"",maxPassengers:ce.maxPassengers?.toString()||"",driverCertifications:ce.driverCertifications||[],vehicleAuthorizations:ce.vehicleAuthorizations||[]}),Re(ce),N()},Xe=async()=>{try{if(g(!0),!fe.firstName?.trim()||!fe.lastName?.trim()||!fe.email?.trim()){ie({status:"error",title:"Champs requis",description:"Nom, prnom et email sont obligatoires",duration:5e3,isClosable:!0});return}fe.joinDate&&!fe.renewalDate&&(fe.renewalDate=F(fe.joinDate,fe.membershipType)),fe.loginEnabled&&!fe.matricule&&(fe.matricule=xe()),fe.loginEnabled&&!fe.temporaryPassword&&(fe.temporaryPassword=$(),fe.mustChangePassword=!0);const ce={...fe,paymentAmount:fe.paymentAmount?parseFloat(fe.paymentAmount):null,maxPassengers:fe.maxPassengers?parseInt(fe.maxPassengers):null};de?(await El.update(de.id,ce),ie({status:"success",title:"Membre mis  jour",description:`${fe.firstName} ${fe.lastName} a t modifi avec succs`,duration:5e3,isClosable:!0})):(await El.create(ce),ie({status:"success",title:"Membre cr",description:`${fe.firstName} ${fe.lastName} a t ajout avec succs`,duration:5e3,isClosable:!0})),D(),M(),be(),X()}catch(ce){console.error(" Erreur sauvegarde:",ce),ie({status:"error",title:"Erreur de sauvegarde",description:ce.message||"Impossible de sauvegarder le membre",duration:5e3,isClosable:!0})}finally{g(!1)}},dt=()=>l?[{label:"Total adhrents",value:l.totalMembers,icon:zi,color:"brand",change:l.recentJoins>0?{type:"increase",value:`+${l.recentJoins} ce mois`}:void 0},{label:"Membres actifs",value:l.activeMembers,icon:A1,color:"success",change:{type:"increase",value:`${Math.round(l.activeMembers/l.totalMembers*100)}% du total`}},{label:"Conducteurs habilits",value:l.driversCount,icon:Tc,color:"blue"},{label:"Accs MyRBE",value:l.myRBEEnabled,icon:Iu,color:"purple"},{label:"Expirant bientt",value:l.expiringSoon,icon:T1,color:"warning"},{label:"Revenus adhsions",value:`${l.totalRevenue||0}`,icon:Mc,color:"green",change:{type:"increase",value:"Cotisations encaisses"}}]:[],Ue=ce=>{const je=Hg[ce]||Hg.PENDING;return e.jsx(Js,{label:je.description,children:e.jsx(et,{colorScheme:je.color,variant:"subtle",children:e.jsxs(re,{spacing:1,children:[e.jsx(Icon,{as:je.icon,size:"12px"}),e.jsx(P,{children:je.label})]})})})},Ht=ce=>{const je=Wg[ce]||Wg.MEMBER;return e.jsx(Js,{label:je.description,children:e.jsx(et,{colorScheme:je.color,variant:"outline",children:e.jsxs(re,{spacing:1,children:[e.jsx(Icon,{as:je.icon,size:"12px"}),e.jsx(P,{children:je.label})]})})})},we=ce=>{const je=$d[ce]||$d.STANDARD;return e.jsx(et,{colorScheme:je.color,variant:"subtle",children:je.label})},Ke=ce=>{console.log(`Action en masse: ${ce} sur ${S.length} membres`)},Bt=()=>{console.log("Export des donnes membres")};return d?e.jsx(Ll,{title:" Gestion des Adhsions",subtitle:"Chargement des donnes membres...",children:e.jsxs(ne,{spacing:8,py:16,children:[e.jsx(mn,{size:"xl",color:"brand.500",thickness:"4px"}),e.jsx(P,{color:"gray.600",children:"Synchronisation avec la base de donnes..."})]})}):e.jsxs(Ll,{title:" Gestion des Adhsions",subtitle:"Administration complte des membres de l'association RtroBus Essonne",breadcrumbs:[{label:"MyRBE",href:"/dashboard/myrbe"},{label:"Gestion des Adhsions",href:"/dashboard/members-management"}],headerActions:e.jsxs(re,{spacing:3,children:[e.jsx(J,{leftIcon:e.jsx(Mi,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Bt,children:"Exporter"}),e.jsx(J,{leftIcon:e.jsx(FT,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:He,children:"Nouvel adhrent"})]}),children:[e.jsxs(ne,{spacing:8,align:"stretch",children:[e.jsx(yee,{stats:dt(),loading:!l}),e.jsx(wl,{title:"Filtres et recherche",icon:XK,color:"gray",children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(ft,{columns:{base:1,md:2,lg:4},spacing:4,children:[e.jsxs(kc,{children:[e.jsx(Dc,{children:e.jsx(hm,{color:"gray.400"})}),e.jsx(ge,{placeholder:"Rechercher un membre...",value:C.search,onChange:ce=>_(je=>({...je,search:ce.target.value}))})]}),e.jsxs(st,{value:C.status,onChange:ce=>_(je=>({...je,status:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),Object.entries(Hg).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))]}),e.jsxs(st,{value:C.role,onChange:ce=>_(je=>({...je,role:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les rles"}),Object.entries(Wg).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))]}),e.jsxs(st,{value:C.membershipType,onChange:ce=>_(je=>({...je,membershipType:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les types"}),Object.entries($d).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))]})]}),e.jsxs(re,{spacing:4,justify:"space-between",children:[e.jsxs(re,{spacing:4,children:[e.jsx(so,{isChecked:C.expiringOnly,onChange:ce=>_(je=>({...je,expiringOnly:ce.target.checked})),children:"Expirant bientt"}),e.jsxs(st,{maxW:"200px",value:C.hasMyRBEAccess,onChange:ce=>_(je=>({...je,hasMyRBEAccess:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les accs"}),e.jsx("option",{value:"true",children:"Avec MyRBE"}),e.jsx("option",{value:"false",children:"Sans MyRBE"})]})]}),e.jsxs(re,{spacing:2,children:[e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[r.length," membre",r.length>1?"s":""," affich",r.length>1?"s":""]}),e.jsxs(sb,{size:"sm",isAttached:!0,variant:"outline",children:[e.jsx(J,{leftIcon:e.jsx(sQ,{}),onClick:()=>y("cards"),colorScheme:x==="cards"?"blue":"gray",children:"Cartes"}),e.jsx(J,{leftIcon:e.jsx(Lo,{}),onClick:()=>y("table"),colorScheme:x==="table"?"blue":"gray",children:"Tableau"})]})]})]})]})}),S.length>0&&e.jsxs(Wt,{status:"info",borderRadius:"lg",children:[e.jsx(qt,{}),e.jsxs(re,{justify:"space-between",w:"full",children:[e.jsxs(P,{children:[S.length," membre",S.length>1?"s":""," slectionn",S.length>1?"s":""]}),e.jsxs(sb,{size:"sm",children:[e.jsx(J,{onClick:()=>Ke("enable_myrbe"),children:"Activer MyRBE"}),e.jsx(J,{onClick:()=>Ke("send_renewal"),children:"Envoi renouvellement"}),e.jsx(J,{colorScheme:"red",onClick:()=>Ke("archive"),children:"Archiver"})]})]})]}),r.length===0?e.jsx(wl,{children:e.jsxs(ne,{spacing:4,py:12,children:[e.jsx(Icon,{as:zi,size:"48px",color:"gray.300"}),e.jsxs(ne,{spacing:2,children:[e.jsx(P,{fontSize:"lg",fontWeight:"600",color:"gray.500",children:"Aucun membre trouv"}),e.jsx(P,{fontSize:"sm",color:"gray.400",children:C.search||C.status!=="ALL"?"Aucun membre ne correspond aux critres de recherche":"Commencez par crer votre premier membre"})]}),e.jsx(J,{leftIcon:e.jsx(FT,{}),colorScheme:"blue",onClick:He,children:"Crer un membre"})]})}):x==="cards"?e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(ce=>e.jsx(wl,{variant:"modern",color:"blue",onClick:()=>ct(ce),children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsxs(P,{fontWeight:"600",fontSize:"lg",children:[ce.firstName," ",ce.lastName]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:ce.email}),ce.matricule&&e.jsx(et,{colorScheme:"purple",size:"sm",children:ce.matricule})]}),e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Fs,{}),onClick:()=>ct(ce),children:"Modifier"}),e.jsx(En,{icon:e.jsx(wb,{}),onClick:()=>{Re(ce),he()},children:"Documents"}),e.jsx(En,{icon:e.jsx(Iu,{}),children:"Rinitialiser mot de passe"}),e.jsx(En,{icon:e.jsx(zc,{}),children:"Envoyer email"}),e.jsx(bn,{}),e.jsx(En,{icon:e.jsx(Zn,{}),color:"red.500",children:"Supprimer"})]})]})]}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[Ue(ce.membershipStatus),Ht(ce.role),we(ce.membershipType),ce.loginEnabled&&e.jsx(et,{colorScheme:"green",variant:"outline",size:"sm",children:"MyRBE"})]}),e.jsxs(ne,{spacing:2,align:"stretch",fontSize:"sm",children:[ce.phone&&e.jsxs(re,{children:[e.jsx(Icon,{as:oM,color:"gray.400"}),e.jsx(P,{children:ce.phone})]}),ce.renewalDate&&e.jsxs(re,{children:[e.jsx(Icon,{as:$s,color:"gray.400"}),e.jsxs(P,{children:["Expire le ",new Date(ce.renewalDate).toLocaleDateString("fr-FR"),G(ce.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",ml:2,children:"Bientt"})]})]}),ce.paymentAmount&&e.jsxs(re,{children:[e.jsx(Icon,{as:Mc,color:"gray.400"}),e.jsxs(P,{children:[ce.paymentAmount,""]})]})]})]})},ce.id))}):e.jsx(wl,{children:e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{variant:"simple",size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:e.jsx(so,{isChecked:S.length===r.length,isIndeterminate:S.length>0&&S.length<r.length,onChange:ce=>{ce.target.checked?w(r.map(je=>je.id)):w([])}})}),e.jsx(ke,{children:"Membre"}),e.jsx(ke,{children:"Contact"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Rle"}),e.jsx(ke,{children:"Type"}),e.jsx(ke,{children:"Renouvellement"}),e.jsx(ke,{children:"MyRBE"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:r.map(ce=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsx(Ae,{children:e.jsx(so,{isChecked:S.includes(ce.id),onChange:je=>{je.target.checked?w(it=>[...it,ce.id]):w(it=>it.filter(It=>It!==ce.id))}})}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:0,children:[e.jsxs(P,{fontWeight:"600",children:[ce.firstName," ",ce.lastName]}),ce.memberNumber&&e.jsxs(P,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:["#",ce.memberNumber]})]})}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",children:ce.email}),ce.phone&&e.jsx(P,{fontSize:"xs",color:"gray.500",children:ce.phone})]})}),e.jsx(Ae,{children:Ue(ce.membershipStatus)}),e.jsx(Ae,{children:Ht(ce.role)}),e.jsx(Ae,{children:we(ce.membershipType)}),e.jsx(Ae,{children:e.jsxs(ne,{align:"start",spacing:0,children:[e.jsx(P,{fontSize:"sm",children:ce.renewalDate?new Date(ce.renewalDate).toLocaleDateString("fr-FR"):""}),G(ce.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Expire bientt"})]})}),e.jsx(Ae,{children:e.jsx(ne,{align:"start",spacing:1,children:ce.loginEnabled?e.jsxs(e.Fragment,{children:[e.jsx(et,{colorScheme:"green",size:"sm",children:"Activ"}),ce.matricule&&e.jsx(P,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:ce.matricule}),ce.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Changer MDP"})]}):e.jsx(et,{colorScheme:"gray",size:"sm",children:"Dsactiv"})})}),e.jsx(Ae,{children:e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Fs,{}),onClick:()=>ct(ce),children:"Modifier"}),e.jsx(En,{icon:e.jsx(wb,{}),onClick:()=>{Re(ce),he()},children:"Documents"}),e.jsx(En,{icon:e.jsx(Iu,{}),children:"Rinitialiser MDP"}),e.jsx(En,{icon:e.jsx(zc,{}),children:"Envoyer email"}),e.jsx(bn,{}),e.jsx(En,{icon:e.jsx(Zn,{}),color:"red.500",children:"Supprimer"})]})]})})]},ce.id))})]})})})]}),e.jsxs(wt,{isOpen:T||k,onClose:()=>{D(),M(),be()},size:"6xl",children:[e.jsx(_t,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Et,{children:de?`Modifier ${de.firstName} ${de.lastName}`:"Nouveau membre"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ho,{variant:"enclosed",children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:" Informations personnelles"}),e.jsx(dn,{children:" Adhsion"}),e.jsx(dn,{children:" Accs MyRBE"}),e.jsx(dn,{children:" Conduite"}),e.jsx(dn,{children:" Notes"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsxs(ft,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Prnom"}),e.jsx(ge,{value:fe.firstName,onChange:ce=>se(je=>({...je,firstName:ce.target.value})),placeholder:"Prnom"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:fe.lastName,onChange:ce=>se(je=>({...je,lastName:ce.target.value})),placeholder:"Nom"})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:fe.email,onChange:ce=>se(je=>({...je,email:ce.target.value})),placeholder:"email@exemple.com"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Tlphone"}),e.jsx(ge,{type:"tel",value:fe.phone,onChange:ce=>se(je=>({...je,phone:ce.target.value})),placeholder:"06 12 34 56 78"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date de naissance"}),e.jsx(ge,{type:"date",value:fe.birthDate,onChange:ce=>se(je=>({...je,birthDate:ce.target.value}))})]})]}),e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Adresse"}),e.jsx(en,{value:fe.address,onChange:ce=>se(je=>({...je,address:ce.target.value})),placeholder:"Adresse complte",rows:3})]}),e.jsxs(re,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Ville"}),e.jsx(ge,{value:fe.city,onChange:ce=>se(je=>({...je,city:ce.target.value})),placeholder:"Ville"})]}),e.jsxs(Q,{maxW:"150px",children:[e.jsx(K,{children:"Code postal"}),e.jsx(ge,{value:fe.postalCode,onChange:ce=>se(je=>({...je,postalCode:ce.target.value})),placeholder:"91000"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Contact d'urgence"}),e.jsx(ge,{value:fe.emergencyContact,onChange:ce=>se(je=>({...je,emergencyContact:ce.target.value})),placeholder:"Nom et relation"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Tlphone d'urgence"}),e.jsx(ge,{type:"tel",value:fe.emergencyPhone,onChange:ce=>se(je=>({...je,emergencyPhone:ce.target.value})),placeholder:"06 12 34 56 78"})]})]})]})}),e.jsx(hn,{children:e.jsxs(ft,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type d'adhsion"}),e.jsx(st,{value:fe.membershipType,onChange:ce=>{const je=ce.target.value;se(it=>({...it,membershipType:je,paymentAmount:$d[je].price.toString()}))},children:Object.entries($d).map(([ce,je])=>e.jsxs("option",{value:ce,children:[je.label," - ",je.price," (",je.description,")"]},ce))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Statut d'adhsion"}),e.jsx(st,{value:fe.membershipStatus,onChange:ce=>se(je=>({...je,membershipStatus:ce.target.value})),children:Object.entries(Hg).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Rle"}),e.jsx(st,{value:fe.role,onChange:ce=>se(je=>({...je,role:ce.target.value})),children:Object.entries(Wg).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))})]}),e.jsxs(re,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Date d'adhsion"}),e.jsx(ge,{type:"date",value:fe.joinDate,onChange:ce=>{const je=ce.target.value;se(it=>({...it,joinDate:je,renewalDate:F(je,it.membershipType)}))}})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Renouvellement"}),e.jsx(ge,{type:"date",value:fe.renewalDate,onChange:ce=>se(je=>({...je,renewalDate:ce.target.value}))})]})]})]}),e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(re,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Montant pay"}),e.jsxs(kc,{children:[e.jsx(ge,{type:"number",step:"0.01",value:fe.paymentAmount,onChange:ce=>se(je=>({...je,paymentAmount:ce.target.value})),placeholder:"60.00"}),e.jsx(Dc,{children:""})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Mthode de paiement"}),e.jsx(st,{value:fe.paymentMethod,onChange:ce=>se(je=>({...je,paymentMethod:ce.target.value})),children:Object.entries(jee).map(([ce,je])=>e.jsx("option",{value:ce,children:je.label},ce))})]})]}),e.jsx(bn,{}),e.jsxs(ne,{spacing:3,align:"stretch",children:[e.jsx(P,{fontWeight:"600",color:"gray.700",children:"Accs et prfrences"}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:0,flex:1,children:"Accs site externe"}),e.jsx(ur,{isChecked:fe.hasExternalAccess,onChange:ce=>se(je=>({...je,hasExternalAccess:ce.target.checked}))})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:0,flex:1,children:"Accs interne"}),e.jsx(ur,{isChecked:fe.hasInternalAccess,onChange:ce=>se(je=>({...je,hasInternalAccess:ce.target.checked}))})]}),e.jsxs(Q,{display:"flex",alignItems:"center",children:[e.jsx(K,{mb:0,flex:1,children:"Newsletter"}),e.jsx(ur,{isChecked:fe.newsletter,onChange:ce=>se(je=>({...je,newsletter:ce.target.checked}))})]})]})]})]})}),e.jsx(hn,{children:e.jsxs(ft,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Numro de permis de conduire"}),e.jsx(ge,{value:fe.driverLicense,onChange:ce=>se(je=>({...je,driverLicense:ce.target.value})),placeholder:"AB123456"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Catgories"}),e.jsxs(st,{multiple:!0,value:fe.driverCertifications,onChange:ce=>se(je=>({...je,driverCertifications:Array.from(ce.target.selectedOptions,it=>it.value)})),children:[e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"E",children:"E"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date d'expiration du permis"}),e.jsx(ge,{type:"date",value:fe.licenseExpiryDate,onChange:ce=>se(je=>({...je,licenseExpiryDate:ce.target.value}))})]})]}),e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Vhicules autoriss"}),e.jsxs(st,{multiple:!0,value:fe.vehicleAuthorizations,onChange:ce=>se(je=>({...je,vehicleAuthorizations:Array.from(ce.target.selectedOptions,it=>it.value)})),children:[e.jsx("option",{value:"VL",children:"Vhicule lger"}),e.jsx("option",{value:"PL",children:"Poids lourd"}),e.jsx("option",{value:"TC",children:"Transport en commun"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nombre maximum de passagers"}),e.jsx(ge,{type:"number",value:fe.maxPassengers,onChange:ce=>se(je=>({...je,maxPassengers:ce.target.value})),placeholder:"4"})]})]})]})}),e.jsx(hn,{children:e.jsxs(Q,{children:[e.jsx(K,{children:"Notes internes"}),e.jsx(en,{value:fe.notes,onChange:ce=>se(je=>({...je,notes:ce.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:6})]})})]})]})}),e.jsx(Ft,{children:e.jsxs(re,{spacing:4,children:[e.jsx(J,{colorScheme:"blue",isLoading:p,onClick:Xe,children:de?"Sauvegarder les modifications":"Crer le membre"}),e.jsx(J,{variant:"outline",onClick:()=>{D(),M(),be()},children:"Annuler"})]})})]})]}),e.jsxs(wt,{isOpen:ae,onClose:()=>{le(),Re(null)},size:"4xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsxs(Et,{children:["Documents de ",de?.firstName," ",de?.lastName]}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"600",mb:2,children:"Documents tlchargs"}),e.jsxs(dv,{spacing:3,children:[Y.length===0&&e.jsx(P,{color:"gray.500",fontSize:"sm",children:"Aucun document trouv pour ce membre."}),Y.map(ce=>e.jsxs(QD,{p:3,borderWidth:"1px",borderRadius:"md",display:"flex",alignItems:"center",children:[e.jsxs(re,{spacing:3,flex:1,children:[e.jsx(Icon,{as:gj[ce.type]?.icon,boxSize:8,color:gj[ce.type]?.color}),e.jsxs(ne,{align:"start",spacing:1,flex:1,children:[e.jsxs(P,{fontWeight:"500",children:[ce.type==="IDENTITY_CARD"&&"Pice d'identit",ce.type==="DRIVING_LICENSE"&&"Permis de conduire",ce.type==="INSURANCE_RECORD"&&"Relev d'assurance",ce.type==="MEMBERSHIP_FORM"&&"Bulletin d'adhsion",ce.type==="MEDICAL_CERTIFICATE"&&"Certificat mdical"]}),e.jsxs(re,{spacing:2,children:[e.jsxs(P,{fontSize:"sm",color:"gray.500",children:[ce.size," Mo"]}),e.jsxs(et,{colorScheme:ce.status==="VALIDATED"?"green":"yellow",variant:"outline",fontSize:"sm",children:[ce.status==="VALIDATED"&&"Valid",ce.status==="PENDING"&&"En attente"]})]})]})]}),e.jsxs(re,{spacing:2,children:[e.jsx(J,{size:"sm",variant:"outline",leftIcon:e.jsx(Mi,{}),onClick:()=>{uj.download(ce.id).then(()=>{ie({status:"success",title:"Tlchargement lanc",description:"Le document est en cours de tlchargement",duration:5e3,isClosable:!0})}).catch(je=>{console.error(" Erreur tlchargement document:",je),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})})},children:"Tlcharger"}),e.jsx(J,{size:"sm",variant:"outline",colorScheme:"red",leftIcon:e.jsx(Zn,{}),onClick:async()=>{if(window.confirm("tes-vous sr de vouloir supprimer ce document ?"))try{await uj.remove(ce.id),q(je=>je.filter(it=>it.id!==ce.id)),ie({status:"success",title:"Document supprim",description:"Le document a t supprim avec succs",duration:5e3,isClosable:!0})}catch(je){console.error(" Erreur suppression document:",je),ie({status:"error",title:"Erreur de suppression",description:"Impossible de supprimer le document",duration:5e3,isClosable:!0})}},children:"Supprimer"})]})]},ce.id))]})]}),e.jsx(bn,{}),e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsx(P,{fontWeight:"600",children:"Tlcharger un nouveau document"}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type de document"}),e.jsx(st,{value:W.type,onChange:ce=>Ee(je=>({...je,type:ce.target.value})),children:Object.entries(gj).map(([ce,je])=>e.jsxs("option",{value:ce,children:[je.label," (",je.maxSizeMB," Mo max)"]},ce))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date d'expiration"}),e.jsx(ge,{type:"date",value:W.expiryDate,onChange:ce=>Ee(je=>({...je,expiryDate:ce.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes"}),e.jsx(en,{value:W.notes,onChange:ce=>Ee(je=>({...je,notes:ce.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:3})]}),e.jsx(J,{colorScheme:"blue",isLoading:p,onClick:async()=>{try{if(g(!0),!W.type||!W.expiryDate){ie({status:"error",title:"Champs requis",description:"Type de document et date d'expiration sont obligatoires",duration:5e3,isClosable:!0});return}const ce=new FormData;ce.append("file",B.current.files[0]),ce.append("type",W.type),ce.append("expiryDate",W.expiryDate),ce.append("notes",W.notes);const je=await uj.upload(ce,de.id),it=je?.document||je?.data;q(It=>[...It,it]),Ee({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B.current.value=null,ie({status:"success",title:"Document tlcharg",description:"Le document a t ajout avec succs",duration:5e3,isClosable:!0})}catch(ce){console.error(" Erreur upload document:",ce),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})}finally{g(!1)}},children:"Tlcharger le document"})]})]})})]})]})]})}const See={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},wee={PENDING:"En attente",ACTIVE:"Actif",EXPIRED:"Expir",SUSPENDED:"Suspendu"};function Cee({isOpen:t,onClose:n,onMemberCreated:r}){const[i,l]=v.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),[u,d]=v.useState(!1),m=on(),p=()=>l({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),g=async()=>{if(!i.firstName.trim()||!i.lastName.trim()||!i.email.trim()){m({title:"Champs requis",description:"Prnom, nom et email sont requis",status:"error",duration:3e3});return}try{d(!0);const y={...i},S=await El.create(y);m({title:"Adhrent cr",status:"success",duration:3e3}),r?.(S),p(),n()}catch(y){m({title:"Erreur",description:y.message,status:"error",duration:5e3})}finally{d(!1)}},x=()=>{p(),n()};return e.jsxs(wt,{isOpen:t,onClose:x,size:"xl",scrollBehavior:"inside",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Crer un adhrent"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Informations personnelles"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(ft,{columns:2,spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Prnom"}),e.jsx(ge,{value:i.firstName,onChange:y=>l(S=>({...S,firstName:y.target.value}))})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:i.lastName,onChange:y=>l(S=>({...S,lastName:y.target.value}))})]})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:i.email,onChange:y=>l(S=>({...S,email:y.target.value}))})]}),e.jsxs(ft,{columns:2,spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Tlphone"}),e.jsx(ge,{value:i.phone,onChange:y=>l(S=>({...S,phone:y.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date de naissance"}),e.jsx(ge,{type:"date",value:i.birthDate,onChange:y=>l(S=>({...S,birthDate:y.target.value}))})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Adresse"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Adresse"}),e.jsx(ge,{value:i.address,onChange:y=>l(S=>({...S,address:y.target.value}))})]}),e.jsxs(ft,{columns:2,spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Code postal"}),e.jsx(ge,{value:i.postalCode,onChange:y=>l(S=>({...S,postalCode:y.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Ville"}),e.jsx(ge,{value:i.city,onChange:y=>l(S=>({...S,city:y.target.value}))})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Adhsion"})}),e.jsx(Ie,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(ft,{columns:2,spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type d'adhsion"}),e.jsx(st,{value:i.membershipType,onChange:y=>l(S=>({...S,membershipType:y.target.value})),children:Object.entries(See).map(([y,S])=>e.jsx("option",{value:y,children:S},y))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsx(st,{value:i.membershipStatus,onChange:y=>l(S=>({...S,membershipStatus:y.target.value})),children:Object.entries(wee).map(([y,S])=>e.jsx("option",{value:y,children:S},y))})]})]}),e.jsxs(ft,{columns:2,spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Montant cotisation ()"}),e.jsx(ge,{type:"number",value:i.paymentAmount,onChange:y=>l(S=>({...S,paymentAmount:y.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Mode de paiement"}),e.jsxs(st,{value:i.paymentMethod,onChange:y=>l(S=>({...S,paymentMethod:y.target.value})),children:[e.jsx("option",{value:"CASH",children:"Espces"}),e.jsx("option",{value:"CHECK",children:"Chque"}),e.jsx("option",{value:"BANK_TRANSFER",children:"Virement"}),e.jsx("option",{value:"CARD",children:"Carte"}),e.jsx("option",{value:"PAYPAL",children:"PayPal"}),e.jsx("option",{value:"HELLOASSO",children:"HelloAsso"})]})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Notes"})}),e.jsx(Ie,{children:e.jsxs(Q,{children:[e.jsx(K,{children:"Notes administratives"}),e.jsx(en,{value:i.notes,onChange:y=>l(S=>({...S,notes:y.target.value})),placeholder:"Notes internes sur l'adhrent..."})]})})]})]})}),e.jsx(Ft,{children:e.jsxs(re,{spacing:3,children:[e.jsx(J,{variant:"ghost",onClick:x,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:g,isLoading:u,loadingText:"Cration...",children:"Crer l'adhrent"})]})})]})]})}const sA="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),qg=t=>sA?`${sA}${t}`:t,Pb={PENDING:{label:"En attente",color:"yellow",icon:D1},ACTIVE:{label:"Actif",color:"green",icon:cM},EXPIRED:{label:"Expir",color:"red",icon:Bx},SUSPENDED:{label:"Suspendu",color:"orange",icon:Go},CANCELLED:{label:"Annul",color:"gray",icon:Bx}},Mb={MEMBER:{label:"Adhrent",color:"blue",permissions:["VIEW_PROFILE"]},DRIVER:{label:"Conducteur",color:"green",permissions:["VIEW_PROFILE","DRIVE_VEHICLES"]},MODERATOR:{label:"Modrateur",color:"purple",permissions:["VIEW_PROFILE","MODERATE_CONTENT"]},ADMIN:{label:"Administrateur",color:"red",permissions:["FULL_ACCESS"]}};function Eee({member:t,onEdit:n,onLinkAccess:r,onTerminate:i,onDeleteMember:l}){const u=Tn("white","gray.800"),d=Pb[t.membershipStatus]||Pb.PENDING,m=Mb[t.role]||Mb.MEMBER;return e.jsxs(Ne,{bg:u,borderWidth:1,borderColor:"gray.200",children:[e.jsx(St,{pb:2,children:e.jsxs(nr,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsxs(re,{children:[e.jsxs(P,{fontWeight:"bold",fontSize:"md",children:[t.firstName," ",t.lastName]}),e.jsx(et,{colorScheme:d.color,size:"sm",children:d.label}),e.jsx(et,{colorScheme:m.color,variant:"outline",size:"sm",children:m.label})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:t.email}),t.matricule&&e.jsxs(re,{spacing:2,children:[e.jsxs(et,{colorScheme:"blue",variant:"subtle",children:[" ",t.matricule]}),t.loginEnabled?e.jsx(et,{colorScheme:"green",size:"sm",children:" Accs activ"}):e.jsx(et,{colorScheme:"gray",size:"sm",children:" Accs dsactiv"})]})]}),e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(Dh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{children:[e.jsx(En,{icon:e.jsx(Fs,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(En,{icon:e.jsx(Bx,{}),onClick:()=>i(t),color:"red.500",children:"Terminer l'adhsion"}),e.jsx(En,{icon:e.jsx(Iu,{}),onClick:()=>r(t),children:"Associer  un accs existant"}),t.membershipStatus==="CANCELLED"&&e.jsx(En,{icon:e.jsx(Zn,{}),onClick:()=>l(t),color:"red.600",children:"Effacer l'adhrent"})]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ne,{align:"start",spacing:2,children:[t.phone&&e.jsxs(P,{fontSize:"sm",children:[" ",t.phone]}),t.lastLoginAt&&e.jsxs(P,{fontSize:"xs",color:"gray.500",children:["Dernire connexion: ",new Date(t.lastLoginAt).toLocaleDateString("fr-FR")]}),t.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:" Doit changer le mot de passe"})]})})]})}function _ee(){const[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,u]=v.useState(""),[d,m]=v.useState("ALL"),[p,g]=v.useState("ALL"),[x,y]=v.useState(!1),[S,w]=v.useState(null),[C,_]=v.useState({}),{isOpen:T,onOpen:R,onClose:D}=Rt(),{isOpen:k,onOpen:N,onClose:M}=Rt(),{isOpen:O,onOpen:H,onClose:U}=Rt(),{isOpen:ae,onOpen:he,onClose:le}=Rt(),de=on(),Re=Tn("white","gray.800"),[fe,se]=v.useState(null),[Y,q]=v.useState(null),[W,Ee]=v.useState({reason:"",notes:"",pv:null,resignation:null}),{isOpen:B,onOpen:ie,onClose:xe}=Rt(),[$,F]=v.useState({username:"",email:""});v.useEffect(()=>{G()},[]);const G=async()=>{try{i(!0);const we=await El.getAll();n(we.members||[]),X(we.members||[])}catch(we){console.error("Erreur chargement membres:",we),de({title:"Erreur",description:"Impossible de charger les membres",status:"error",duration:5e3})}finally{i(!1)}},X=we=>{const Ke=we.length,Bt=we.filter(it=>it.loginEnabled).length,ce=we.filter(it=>it.membershipStatus==="ACTIVE").length,je=we.filter(it=>{if(!it.lastLoginAt)return!1;const It=new Date(it.lastLoginAt),zn=new Date;return zn.setMonth(zn.getMonth()-1),It>zn}).length;_({total:Ke,withLogin:Bt,active:ce,recentlyActive:je})},ye=t.filter(we=>{const Ke=we.firstName?.toLowerCase().includes(l.toLowerCase())||we.lastName?.toLowerCase().includes(l.toLowerCase())||we.email?.toLowerCase().includes(l.toLowerCase())||we.matricule?.toLowerCase().includes(l.toLowerCase()),Bt=d==="ALL"||we.membershipStatus===d,ce=p==="ALL"||we.role===p,je=!x||we.loginEnabled;return Ke&&Bt&&ce&&je}),ve=we=>{w(we),se({...we}),H()},be=async()=>{try{if(!S)return;const we=["firstName","lastName","email","phone","address","city","postalCode","membershipType","membershipStatus","paymentAmount","paymentMethod","newsletter","notes"],Ke={};for(const it of we)it in fe&&(Ke[it]=fe[it]);const Bt=await fetch(qg(`/api/members/${S.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ke)}),ce=await Bt.json().catch(()=>({}));if(!Bt.ok)throw new Error(ce?.error||"chec de la mise  jour");const je=ce.member||ce;n(it=>it.map(It=>It.id===S.id?{...It,...je}:It)),de({title:"Membre mis  jour",status:"success"}),U()}catch(we){de({title:"Erreur",description:we.message,status:"error"})}},He=we=>{q(we),Ee({reason:"",notes:"",pv:null,resignation:null}),he()},ct=async()=>{try{if(!Y)return;if(!W.reason){de({title:"Motif requis",status:"error"});return}if(W.reason==="EXCLUSION"&&!W.pv){de({title:"PV obligatoire",status:"error"});return}if(W.reason==="DEMISSION"&&(!W.pv||!W.resignation)){de({title:"PV et lettre obligatoires",status:"error"});return}const we=new FormData;we.append("reason",W.reason),W.notes&&we.append("notes",W.notes),W.pv&&we.append("pv",W.pv),W.resignation&&we.append("resignation",W.resignation);const Ke=await fetch(qg(`/api/members/${Y.id}/terminate`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:we}),Bt=await Ke.json().catch(()=>({}));if(!Ke.ok)throw new Error(Bt?.error||"chec de la rsiliation");de({title:"Adhsion termine",status:"success"}),await G(),le()}catch(we){de({title:"Erreur",description:we.message,status:"error"})}},Xe=async we=>{try{if(we.membershipStatus!=="CANCELLED"){de({title:"Rsiliez d'abord l'adhsion",status:"warning"});return}if(!window.confirm(`Effacer dfinitivement ${we.firstName} ${we.lastName} ?`))return;const Ke=await fetch(qg(`/api/members/${we.id}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ke.ok&&Ke.status!==204){const Bt=await Ke.json().catch(()=>({}));throw new Error(Bt?.error||"Suppression impossible")}de({title:"Adhrent effac",status:"success"}),n(Bt=>Bt.filter(ce=>ce.id!==we.id))}catch(Ke){de({title:"Erreur",description:Ke.message,status:"error"})}},dt=we=>{n(Ke=>[we,...Ke]),X([we,...t]),D()},Ue=we=>{w(we),F({username:"",email:""}),ie()},Ht=async()=>{try{if(!S)return;if(!$.username&&!$.email){de({title:"Renseignez matricule ou email",status:"warning"});return}const we=await fetch(qg(`/api/members/${S.id}/link-access`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:$.username||void 0,email:$.email||void 0})}),Ke=await we.json().catch(()=>({}));if(!we.ok)throw new Error(Ke?.error||"chec de lassociation");de({title:"Accs associ",status:"success"}),await G(),xe()}catch(we){de({title:"Erreur",description:we.message,status:"error"})}};return r?e.jsx(ks,{maxW:"container.xl",py:8,children:e.jsxs(ne,{spacing:8,children:[e.jsx(mn,{size:"xl",color:"blue.500"}),e.jsx(P,{children:"Chargement des membres..."})]})}):e.jsxs(ks,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsxs(Pe,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(zi,{style:{marginRight:"12px"}}),"Gestion des Adhsions"]}),e.jsx(P,{color:"gray.600",children:"Crer et grer les adhrents (les identifiants sont grs sparment)"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",size:"lg",onClick:R,children:"Nouvel adhrent"})]}),e.jsxs(ft,{columns:{base:2,md:4},spacing:4,children:[e.jsx(Ne,{bg:Re,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total membres"}),e.jsx(vt,{color:"blue.500",children:C.total})]})})}),e.jsx(Ne,{bg:Re,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Avec accs MyRBE"}),e.jsx(vt,{color:"green.500",children:C.withLogin}),e.jsxs(Pi,{children:[C.total>0?Math.round(C.withLogin/C.total*100):0,"%"]})]})})}),e.jsx(Ne,{bg:Re,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Adhsions actives"}),e.jsx(vt,{color:"purple.500",children:C.active})]})})}),e.jsx(Ne,{bg:Re,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Connexions rcentes"}),e.jsx(vt,{color:"orange.500",children:C.recentlyActive}),e.jsx(Pi,{children:"30 derniers jours"})]})})})]}),e.jsx(Ne,{bg:Re,children:e.jsx(Ie,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(re,{w:"full",spacing:4,children:[e.jsxs(kc,{flex:2,children:[e.jsx(Dc,{children:e.jsx(hm,{})}),e.jsx(ge,{placeholder:"Rechercher par nom, email ou matricule...",value:l,onChange:we=>u(we.target.value)})]}),e.jsxs(st,{value:d,onChange:we=>m(we.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(Pb).map(([we,Ke])=>e.jsx("option",{value:we,children:Ke.label},we))]}),e.jsxs(st,{value:p,onChange:we=>g(we.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),Object.entries(Mb).map(([we,Ke])=>e.jsx("option",{value:we,children:Ke.label},we))]})]}),e.jsxs(re,{children:[e.jsx(so,{isChecked:x,onChange:we=>y(we.target.checked),children:"Afficher seulement les membres avec accs MyRBE"}),e.jsx(J,{leftIcon:e.jsx(io,{}),size:"sm",onClick:G,children:"Actualiser"})]})]})})}),e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[ye.length," membre(s) affich(s)"]}),e.jsx(ft,{columns:{base:1,md:2,lg:3},spacing:4,children:ye.map(we=>e.jsx(Eee,{member:we,onEdit:ve,onLinkAccess:Ue,onTerminate:He,onDeleteMember:Xe},we.id))}),ye.length===0&&e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),"Aucun membre ne correspond aux critres de recherche"]})]}),e.jsx(Cee,{isOpen:T,onClose:D,onMemberCreated:dt}),e.jsxs(wt,{isOpen:B,onClose:xe,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Associer  un accs existant"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),'La cration daccs se fait dans "Gestion des accs". Ici, vous pouvez lier un accs existant (fusion).']}),e.jsxs(Q,{children:[e.jsx(K,{children:"Matricule (username)"}),e.jsx(ge,{value:$.username,onChange:we=>F(Ke=>({...Ke,username:we.target.value})),placeholder:"ex: jd2025"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:$.email,onChange:we=>F(Ke=>({...Ke,email:we.target.value})),placeholder:"utilisateur@domaine.fr"})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Renseignez au moins lun des deux champs."})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:xe,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:Ht,children:"Associer"})]})]})]}),e.jsxs(wt,{isOpen:O,onClose:U,size:"xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Modifier le membre"}),e.jsx($t,{}),e.jsx(Ct,{children:fe&&e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Prnom"}),e.jsx(ge,{value:fe.firstName||"",onChange:we=>se(Ke=>({...Ke,firstName:we.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:fe.lastName||"",onChange:we=>se(Ke=>({...Ke,lastName:we.target.value}))})]})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Email"}),e.jsx(ge,{type:"email",value:fe.email||"",onChange:we=>se(Ke=>({...Ke,email:we.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Tlphone"}),e.jsx(ge,{value:fe.phone||"",onChange:we=>se(Ke=>({...Ke,phone:we.target.value}))})]})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Statut"}),e.jsxs(st,{value:fe.membershipStatus||"ACTIVE",onChange:we=>se(Ke=>({...Ke,membershipStatus:we.target.value})),children:[e.jsx("option",{value:"PENDING",children:"En attente"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"EXPIRED",children:"Expir"}),e.jsx("option",{value:"SUSPENDED",children:"Suspendu"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type d'adhsion"}),e.jsxs(st,{value:fe.membershipType||"STANDARD",onChange:we=>se(Ke=>({...Ke,membershipType:we.target.value})),children:[e.jsx("option",{value:"STANDARD",children:"Standard"}),e.jsx("option",{value:"FAMILY",children:"Famille"}),e.jsx("option",{value:"STUDENT",children:"tudiant"}),e.jsx("option",{value:"HONORARY",children:"Honneur"})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes"}),e.jsx(en,{value:fe.notes||"",onChange:we=>se(Ke=>({...Ke,notes:we.target.value}))})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:U,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:be,children:"Enregistrer"})]})]})]}),e.jsxs(wt,{isOpen:ae,onClose:le,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Terminer l'adhsion"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(Wt,{status:"warning",children:[e.jsx(qt,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Motif"}),e.jsxs(st,{value:W.reason,onChange:we=>Ee(Ke=>({...Ke,reason:we.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Notes (optionnel)"}),e.jsx(en,{value:W.notes,onChange:we=>Ee(Ke=>({...Ke,notes:we.target.value}))})]}),(W.reason==="EXCLUSION"||W.reason==="DEMISSION")&&e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Procs-verbal (PDF/Image)"}),e.jsx(ge,{type:"file",accept:"application/pdf,image/*",onChange:we=>Ee(Ke=>({...Ke,pv:we.target.files?.[0]||null}))})]}),W.reason==="DEMISSION"&&e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(ge,{type:"file",accept:"application/pdf,image/*",onChange:we=>Ee(Ke=>({...Ke,resignation:we.target.files?.[0]||null}))})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:le,children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:ct,children:"Confirmer"})]})]})]})]})}function Tee({report:t,onUpdate:n,onComment:r,onStatusChange:i,onDelete:l}){const u=Tn("white","gray.800"),d={low:"green",medium:"yellow",high:"orange",critical:"red"},m={open:"blue",in_progress:"orange",resolved:"green",closed:"gray"},p=v.useMemo(()=>{switch(t.priority){case"low":return" Faible";case"medium":return" Moyen";case"high":return" lev";default:return" Critique"}},[t.priority]),g=v.useMemo(()=>{switch(t.status){case"open":return"Ouvert";case"in_progress":return"En cours";case"resolved":return"Rsolu";default:return"Ferm"}},[t.status]),x=t.createdAt?new Date(t.createdAt):null;return e.jsxs(Ne,{bg:u,borderLeftWidth:4,borderLeftColor:`${d[t.priority]||"gray"}.500`,children:[e.jsx(St,{pb:3,children:e.jsxs(nr,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(et,{colorScheme:d[t.priority]||"gray",variant:"solid",size:"sm",children:p}),e.jsx(et,{colorScheme:m[t.status]||"gray",variant:"subtle",children:g})]}),e.jsx(Pe,{size:"sm",children:t.title}),e.jsxs(P,{fontSize:"xs",color:"gray.500",children:["Cr par ",t.createdBy," ",x?`le ${x.toLocaleDateString("fr-FR")}`:""]})]}),e.jsxs(Uo,{children:[e.jsx(Ho,{as:yt,icon:e.jsx(uh,{}),variant:"ghost",size:"sm"}),e.jsxs(Wo,{zIndex:10,position:"relative",children:[e.jsx(En,{icon:e.jsx(Jd,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(En,{icon:e.jsx(rQ,{}),onClick:()=>r(t),children:"Commenter"}),t.status==="open"&&e.jsx(En,{icon:e.jsx(io,{}),onClick:()=>i(t.id,"in_progress"),children:"Marquer en cours"}),(t.status==="open"||t.status==="in_progress")&&e.jsx(En,{icon:e.jsx(Hp,{}),onClick:()=>i(t.id,"resolved"),children:"Marquer comme rsolu"}),t.status==="resolved"&&e.jsx(En,{icon:e.jsx(qu,{}),onClick:()=>i(t.id,"closed"),children:"Fermer dfinitivement"}),t.status==="closed"&&e.jsx(En,{icon:e.jsx(io,{}),onClick:()=>i(t.id,"open"),children:"Rouvrir"}),e.jsx(Px,{}),e.jsx(En,{icon:e.jsx(Zn,{}),onClick:()=>l(t.id),color:"red.500",children:"Supprimer"})]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ne,{align:"start",spacing:3,children:[e.jsx(P,{fontSize:"sm",children:t.description}),t.category&&e.jsx(Uu,{size:"sm",variant:"subtle",children:e.jsx(Hu,{children:t.category})}),t.assignedTo&&e.jsxs(re,{children:[e.jsx(dD,{size:"xs",name:t.assignedTo}),e.jsxs(P,{fontSize:"xs",children:["Assign  ",t.assignedTo]})]}),Array.isArray(t.comments)&&t.comments.length>0&&e.jsxs(ne,{align:"start",spacing:2,w:"full",children:[e.jsx(bn,{}),e.jsx(re,{children:e.jsxs(P,{fontSize:"xs",fontWeight:"bold",children:[t.comments.length," commentaire(s)"]})}),e.jsxs(ue,{bg:"gray.50",p:2,borderRadius:"md",w:"full",children:[e.jsx(P,{fontSize:"xs",children:t.comments[t.comments.length-1].message}),e.jsxs(P,{fontSize:"xs",color:"gray.500",mt:1,children:["Par ",t.comments[t.comments.length-1].author," - ",new Date(t.comments[t.comments.length-1].createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]})}function Aee(){const{user:t}=vs(),n=on(),{isOpen:r,onOpen:i,onClose:l}=Rt(),{isOpen:u,onOpen:d,onClose:m}=Rt(),{isOpen:p,onOpen:g,onClose:x}=Rt(),[y,S]=v.useState(!0),[w,C]=v.useState([]),[_,T]=v.useState(null),[R,D]=v.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[k,N]=v.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[M,O]=v.useState({message:"",status:""}),[H,U]=v.useState([]),ae=Tn("white","gray.800"),he=async()=>{try{const q="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W=await fetch(`${q}/api/retro-reports`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!W.ok)throw new Error("load failed");const Ee=await W.json();C(Ee.reports||[])}catch(q){console.error("Erreur chargement rtroreports:",q)}};v.useEffect(()=>{(async()=>(S(!0),await he(),S(!1)))()},[]);const le=async()=>{if(!R.title||!R.description){n({title:"Erreur",description:"Veuillez remplir le titre et la description",status:"error",duration:3e3,isClosable:!0});return}try{const q="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W=new FormData;W.append("title",R.title),W.append("description",R.description),W.append("category",R.category||""),W.append("priority",R.priority||"medium"),W.append("type",R.type||"bug"),H&&H.length>0&&H.forEach(B=>W.append("screenshots",B,B.name));const Ee=await fetch(`${q}/api/retro-reports`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:W});if(!Ee.ok){const B=await Ee.json().catch(()=>({error:"create failed"}));throw new Error(B.error||"create failed")}await he(),D({title:"",description:"",category:"",priority:"medium",type:"bug"}),U([]),l(),n({title:"Succs",description:"RtroReport cr avec succs",status:"success",duration:3e3,isClosable:!0})}catch(q){n({title:"Erreur",description:q.message||"Impossible de crer le RtroReport",status:"error",duration:3e3})}},de=async()=>{if(!M.message){n({title:"Erreur",description:"Veuillez crire un commentaire",status:"error",duration:3e3,isClosable:!0});return}try{const q="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W={message:M.message,author:t?.name||"Administrateur",status:M.status||void 0};let Ee=await fetch(`${q}/api/retro-reports/${_.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(W)});if(!Ee.ok&&(Ee=await fetch(`${q}/api/retro-reports/${_.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({appendComment:{message:W.message,author:W.author},status:W.status})}),!Ee.ok))throw new Error("Impossible de persister le commentaire");await he(),O({message:"",status:""}),m(),n({title:"Succs",description:"Commentaire ajout avec succs",status:"success",duration:3e3,isClosable:!0})}catch(q){console.error(q),n({title:"Erreur",description:"Impossible d'ajouter le commentaire",status:"error",duration:3e3})}},Re=async(q,W)=>{try{const Ee="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,"");let B=await fetch(`${Ee}/api/retro-reports/${q}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})});if(!B.ok&&(B=await fetch(`${Ee}/api/retro-reports/${q}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})}),!B.ok))throw new Error("status failed");await he(),n({title:"Statut mis  jour",description:`RtroReport marqu comme ${{open:"Ouvert",in_progress:"En cours",resolved:"Rsolu",closed:"Ferm"}[W]?.toLowerCase()||W}`,status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Impossible de changer le statut",status:"error",duration:3e3})}},fe=async q=>{if(window.confirm("tes-vous sr de vouloir supprimer ce RtroReport ?"))try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Ee=localStorage.getItem("token");if(!Ee){n({title:"Erreur",description:"Token non trouv",status:"error",duration:3e3});return}const B=`${W}/api/retro-reports/${q}`;console.log(" Suppression ticket:",B);const ie=await fetch(B,{method:"DELETE",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",ie.status),!ie.ok){const $=await ie.text();throw console.error("Delete error:",$),new Error(`HTTP ${ie.status}: ${$}`)}const xe=await ie.json();console.log("Delete result:",xe),await he(),n({title:"RtroReport supprim",description:"Le ticket a t supprim avec succs",status:"success",duration:3e3})}catch(W){console.error(" Erreur suppression:",W),n({title:"Erreur",description:`Suppression impossible: ${W.message}`,status:"error",duration:5e3})}},se=q=>{T(q),N({title:q.title,description:q.description,category:q.category||"",priority:q.priority||"medium",type:q.type||"bug"}),g()},Y=async()=>{if(!_?.id||!k.title||!k.description){n({title:"Erreur",description:"Titre et description requis",status:"error",duration:3e3,isClosable:!0});return}try{if(!(await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/api/retro-reports/${_.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:k.title,description:k.description,category:k.category||"",priority:k.priority||"medium",type:k.type||"bug"})})).ok)throw new Error("update failed");await he(),x(),n({title:"Succs",description:"RtroReport mis  jour",status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Mise  jour impossible",status:"error",duration:3e3})}};return y?e.jsx(ks,{maxW:"container.xl",py:8,children:e.jsxs(ne,{spacing:8,children:[e.jsx(mn,{size:"xl",color:"green.500"}),e.jsx(P,{children:"Chargement du support"})]})}):e.jsxs(ks,{maxW:"container.xl",py:8,children:[e.jsxs(ue,{bgGradient:"linear(to-r, red.500, orange.500)",color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsx(Pe,{size:"xl",mb:2,children:" Support du site"}),e.jsx(P,{opacity:.9,children:"Tickets: incidents, bugs et amliorations"})]}),e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"md",children:"Systme de tickets"}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Signalez et suivez les incidents et demandes"})]}),e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"red",onClick:i,children:"Nouveau ticket"})]}),e.jsxs(ft,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{bg:ae,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{fontSize:"xs",children:"Ouverts"}),e.jsx(vt,{color:"red.500",fontSize:"lg",children:w.filter(q=>q.status==="open").length})]})})}),e.jsx(Ne,{bg:ae,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{fontSize:"xs",children:"En cours"}),e.jsx(vt,{color:"orange.500",fontSize:"lg",children:w.filter(q=>q.status==="in_progress").length})]})})}),e.jsx(Ne,{bg:ae,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{fontSize:"xs",children:"Rsolus"}),e.jsx(vt,{color:"green.500",fontSize:"lg",children:w.filter(q=>q.status==="resolved").length})]})})}),e.jsx(Ne,{bg:ae,children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{fontSize:"xs",children:"Total"}),e.jsx(vt,{color:"blue.500",fontSize:"lg",children:w.length})]})})})]}),e.jsx(ne,{spacing:4,align:"stretch",children:w.length===0?e.jsxs(Wt,{status:"info",children:[e.jsx(qt,{}),e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",children:"Aucun ticket"}),e.jsx(P,{fontSize:"xs",children:"Crez votre premier ticket."})]})]}):w.map(q=>e.jsx(Tee,{report:q,onUpdate:se,onComment:W=>{T(W),d()},onStatusChange:Re,onDelete:fe},q.id))})]}),e.jsxs(wt,{isOpen:r,onClose:l,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Nouveau ticket"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:R.title,onChange:q=>D(W=>({...W,title:q.target.value})),placeholder:"Ex: Problme de connexion, Page lente..."})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:R.description,onChange:q=>D(W=>({...W,description:q.target.value})),rows:4,placeholder:"Dcrivez le problme..."})]}),e.jsxs(ft,{columns:2,spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:R.type,onChange:q=>D(W=>({...W,type:q.target.value})),children:[e.jsx("option",{value:"bug",children:" Bug"}),e.jsx("option",{value:"feature",children:" Amlioration"}),e.jsx("option",{value:"performance",children:" Performance"}),e.jsx("option",{value:"security",children:" Scurit"}),e.jsx("option",{value:"other",children:" Autre"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Priorit"}),e.jsxs(st,{value:R.priority,onChange:q=>D(W=>({...W,priority:q.target.value})),children:[e.jsx("option",{value:"low",children:" Faible"}),e.jsx("option",{value:"medium",children:" Moyen"}),e.jsx("option",{value:"high",children:" lev"}),e.jsx("option",{value:"critical",children:" Critique"})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsx(ge,{value:R.category,onChange:q=>D(W=>({...W,category:q.target.value})),placeholder:"Ex: Technique, Interface, Base de donnes..."})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Captures dcran (optionnel)"}),e.jsx(ge,{type:"file",accept:"image/*",multiple:!0,onChange:q=>U(Array.from(q.target.files||[]))})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:l,children:"Annuler"}),e.jsx(J,{colorScheme:"red",onClick:le,leftIcon:e.jsx(_n,{}),children:"Crer"})]})]})]}),e.jsxs(wt,{isOpen:u,onClose:m,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Ajouter un commentaire"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Commentaire"}),e.jsx(en,{value:M.message,onChange:q=>O(W=>({...W,message:q.target.value})),rows:3})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Changer le statut (optionnel)"}),e.jsxs(st,{value:M.status,onChange:q=>O(W=>({...W,status:q.target.value})),children:[e.jsx("option",{value:"",children:"Ne pas changer"}),e.jsx("option",{value:"open",children:"Ouvert"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"resolved",children:"Rsolu"}),e.jsx("option",{value:"closed",children:"Ferm"})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:m,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:de,children:"Publier"})]})]})]}),e.jsxs(wt,{isOpen:p,onClose:x,children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Modifier le ticket"}),e.jsx($t,{}),e.jsx(Ct,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{value:k.title,onChange:q=>N(W=>({...W,title:q.target.value}))})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description"}),e.jsx(en,{rows:4,value:k.description,onChange:q=>N(W=>({...W,description:q.target.value}))})]}),e.jsxs(ft,{columns:2,spacing:4,w:"full",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsx(ge,{value:k.category,onChange:q=>N(W=>({...W,category:q.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Priorit"}),e.jsxs(st,{value:k.priority,onChange:q=>N(W=>({...W,priority:q.target.value})),children:[e.jsx("option",{value:"low",children:"Faible"}),e.jsx("option",{value:"medium",children:"Moyen"}),e.jsx("option",{value:"high",children:"lev"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsxs(st,{value:k.type,onChange:q=>N(W=>({...W,type:q.target.value})),children:[e.jsx("option",{value:"bug",children:"Bug"}),e.jsx("option",{value:"feature",children:"Amlioration"}),e.jsx("option",{value:"performance",children:"Performance"}),e.jsx("option",{value:"security",children:"Scurit"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})}),e.jsxs(Ft,{children:[e.jsx(J,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:Y,children:"Enregistrer"})]})]})]})]})}function xj({p:t,onEdit:n,onDelete:r}){return e.jsxs(Ne,{overflow:"hidden",children:[e.jsx(Oi,{src:t.image||"/assets/fallback/_MG_1006.jpg",alt:t.name,w:"100%",h:"160px",objectFit:"cover"}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:2,children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"sm",children:t.name}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:t.category})]}),e.jsx(Uu,{size:"sm",colorScheme:t.active?"green":"gray",children:e.jsx(Hu,{children:t.active?"Actif":"Masqu"})})]}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(P,{fontWeight:"bold",children:[t.price.toFixed(2)," "]}),e.jsxs(re,{children:[e.jsx(yt,{"aria-label":"diter",size:"sm",icon:e.jsx(Fs,{}),onClick:()=>n(t)}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(Zn,{}),onClick:()=>r(t)})]})]})]})})]})}function Ree(){const t=on(),[n,r]=v.useState(["Textiles","Goodies","Affiches"]),[i,l]=v.useState([{id:"tee-classic",name:"T-shirt RtroBus Classique",price:20,category:"Textiles",image:"",active:!0},{id:"mug-logo",name:"Mug Logo RBE",price:12,category:"Goodies",image:"",active:!0},{id:"poster-920",name:"Affiche R312 n920",price:15,category:"Affiches",image:"",active:!1}]),[u,d]=v.useState([]),[m,p]=v.useState("Toutes"),[g,x]=v.useState(null),[y,S]=v.useState({id:"",name:"",price:0,category:"Textiles",image:"",active:!0,description:""}),w=Rt(),C=v.useMemo(()=>m==="Toutes"?i:i.filter($=>$.category===m),[i,m]),_=()=>S({id:"",name:"",price:0,category:n[0]||"Textiles",image:"",active:!0,description:""}),T=()=>{x(null),_(),w.onOpen()},R=$=>{x($),S({...$}),w.onOpen()},D=()=>{const $=(y.id||y.name||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");if(!y.name||!$)return t({status:"warning",title:"Nom requis"});const F={...y,id:$};l(G=>g?G.map(X=>X.id===g.id?F:X):[{...F},...G]),w.onClose(),t({status:"success",title:g?"Produit mis  jour":"Produit ajout"})},k=$=>{confirm(`Supprimer ${$.name} ?`)&&(l(F=>F.filter(G=>G.id!==$.id)),t({status:"info",title:"Produit supprim"}))},N=[{id:"hero-1",type:"banner",colSpan:12,data:{title:"Bienvenue sur RtroMerch",subtitle:"Slection spciale",image:"",ctaText:"Dcouvrir",ctaHref:"/retromerch"}},{id:"promo-1",type:"promo",colSpan:6,data:{label:"Promo",productId:"tee-classic",discount:20}},{id:"product-1",type:"product",colSpan:6,data:{productId:"mug-logo"}},{id:"grid-1",type:"grid",colSpan:12,data:{category:"Textiles",count:4}}],[M,O]=v.useState(()=>{try{const $=localStorage.getItem("retromerch_layout");return $?JSON.parse($):N}catch{return N}}),[H,U]=v.useState(null),[ae,he]=v.useState(!0);v.useEffect(()=>{try{localStorage.setItem("retromerch_layout",JSON.stringify(M))}catch{}},[M]);const le=$=>`${$}-${Date.now().toString(36)}`,de=$=>{const F={colSpan:12,data:{}},G={id:le($),type:$,...F};$==="banner"&&(G.data={title:"Titre",subtitle:"Sous-titre",image:"",ctaText:"Voir",ctaHref:"/retromerch"}),$==="promo"&&(G.data={label:"Promo",productId:i[0]?.id||"",discount:10}),$==="product"&&(G.data={productId:i[0]?.id||""}),$==="grid"&&(G.data={category:n[0]||"Textiles",count:4}),$==="text"&&(G.data={text:"Texte libre de prsentation"}),$==="spacer"&&(G.data={size:6}),O(X=>[...X,G]),U(G.id)},Re=$=>O(F=>F.filter(G=>G.id!==$)),fe=$=>{const F=M.find(ve=>ve.id===$);if(!F)return;const G={...F,id:le("copy")},X=M.findIndex(ve=>ve.id===$),ye=[...M];ye.splice(X+1,0,G),O(ye),U(G.id)},se=($,F)=>O(G=>G.map(X=>X.id===$?{...X,...F,data:{...X.data,...F.data||{}}}:X)),Y=($,F)=>{const G=M.findIndex(ve=>ve.id===$);if(G<0)return;const X=[...M],ye=F==="up"?G-1:G+1;ye<0||ye>=X.length||([X[G],X[ye]]=[X[ye],X[G]],O(X))},q=($,F)=>se($,{colSpan:F}),[W,Ee]=v.useState(null),B=$=>F=>{Ee($),F.dataTransfer.setData("text/plain",$)},ie=$=>{$.preventDefault()},xe=$=>F=>{F.preventDefault();const G=W||F.dataTransfer.getData("text/plain");if(!G||G===$)return;const X=[...M],ye=X.findIndex(He=>He.id===G),ve=X.findIndex(He=>He.id===$);if(ye===-1||ve===-1)return;const[be]=X.splice(ye,1);X.splice(ve,0,be),O(X),Ee(null)};return e.jsxs(ue,{p:6,maxW:"7xl",mx:"auto",children:[e.jsxs(ne,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsxs(Pe,{size:"lg",display:"flex",alignItems:"center",gap:2,children:[e.jsx(Ox,{})," Administration RtroMerch"]}),e.jsxs(re,{children:[e.jsx(J,{leftIcon:e.jsx(_n,{}),colorScheme:"blue",onClick:T,children:"Ajouter un produit"}),e.jsx(J,{leftIcon:e.jsx(Dh,{}),variant:"outline",children:"Paramtres"})]})]}),e.jsxs(ho,{colorScheme:"red",variant:"enclosed",children:[e.jsxs(Oa,{children:[e.jsxs(dn,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(Ox,{})," Catalogue"]}),e.jsxs(dn,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(aQ,{})," Commandes"]}),e.jsx(dn,{children:"Catgories"}),e.jsx(dn,{children:"Mise en page"}),e.jsx(dn,{children:"Paramtres"})]}),e.jsxs(Ba,{children:[e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Pe,{size:"md",children:"Catalogue"}),e.jsxs(re,{children:[e.jsxs(st,{size:"sm",value:m,onChange:$=>p($.target.value),children:[e.jsx("option",{children:"Toutes"}),n.map($=>e.jsx("option",{children:$},$))]}),e.jsx(J,{size:"sm",onClick:T,leftIcon:e.jsx(_n,{}),children:"Nouveau"})]})]})}),e.jsx(Ie,{children:C.length===0?e.jsx(vn,{py:10,children:e.jsx(P,{color:"gray.600",children:"Aucun produit pour linstant."})}):e.jsx(ft,{columns:{base:1,sm:2,md:3,xl:4},spacing:4,children:C.map($=>e.jsx(xj,{p:$,onEdit:R,onDelete:k},$.id))})})]})}),e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Commandes"})}),e.jsx(Ie,{children:u.length===0?e.jsx(vn,{py:10,children:e.jsx(P,{color:"gray.600",children:"Aucune commande pour le moment."})}):e.jsxs(Un,{size:"sm",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"#"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Client"}),e.jsx(ke,{children:"Montant"}),e.jsx(ke,{children:"Statut"})]})}),e.jsx(Gn,{children:u.map($=>e.jsxs(jt,{children:[e.jsx(Ae,{children:$.id}),e.jsx(Ae,{children:new Date($.createdAt).toLocaleString("fr-FR")}),e.jsx(Ae,{children:$.customerName}),e.jsxs(Ae,{children:[$.total.toFixed(2)," "]}),e.jsx(Ae,{children:$.status})]},$.id))})]})})]})}),e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(re,{justify:"space-between",children:e.jsx(Pe,{size:"md",children:"Catgories"})})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[n.map(($,F)=>e.jsxs(re,{justify:"space-between",borderWidth:"1px",p:3,borderRadius:"md",children:[e.jsx(P,{children:$}),e.jsxs(re,{children:[e.jsx(yt,{"aria-label":"Renommer",size:"sm",icon:e.jsx(Fs,{}),onClick:()=>{const G=prompt("Nouveau nom de catgorie",$);G&&(r(X=>X.map(ye=>ye===$?G:ye)),l(X=>X.map(ye=>ye.category===$?{...ye,category:G}:ye)))}}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(Zn,{}),onClick:()=>{confirm(`Supprimer la catgorie ${$} ?`)&&(r(G=>G.filter(X=>X!==$)),l(G=>G.map(X=>X.category===$?{...X,category:"Autre"}:X)))}})]})]},$)),e.jsxs(re,{children:[e.jsx(ge,{placeholder:"Nouvelle catgorie",size:"sm",id:"newCat"}),e.jsx(J,{size:"sm",onClick:()=>{const $=document.getElementById("newCat"),F=($?.value||"").trim();if(F){if(n.includes(F))return t({status:"info",title:"Existe dj"});r(G=>[...G,F]),$.value=""}},children:"Ajouter"})]})]})})]})}),e.jsx(hn,{px:0,children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Pe,{size:"md",children:"Mise en page  diteur  puzzle "}),e.jsxs(re,{children:[e.jsxs(J,{size:"sm",leftIcon:e.jsx(Wu,{}),onClick:()=>he($=>!$),children:[ae?"Masquer":"Afficher"," laperu"]}),e.jsx(J,{size:"sm",variant:"outline",leftIcon:e.jsx($T,{}),onClick:()=>{navigator.clipboard.writeText(JSON.stringify(M,null,2)),t({status:"success",title:"Layout copi"})},children:"Exporter JSON"})]})]}),e.jsxs(ft,{columns:{base:1,xl:3},spacing:4,children:[e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Palette"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:2,children:[e.jsx(J,{onClick:()=>de("banner"),children:"Bannire"}),e.jsx(J,{onClick:()=>de("promo"),children:"Produit en promo"}),e.jsx(J,{onClick:()=>de("product"),children:"Produit (slection)"}),e.jsx(J,{onClick:()=>de("grid"),children:"Grille par catgorie"}),e.jsx(J,{onClick:()=>de("text"),children:"Texte"}),e.jsx(J,{onClick:()=>de("spacer"),children:"Espace"})]})})]}),e.jsxs(Ne,{gridColumn:{base:"auto",xl:"span 2"},children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"diteur"})}),e.jsx(Ie,{children:e.jsx(ue,{borderWidth:"1px",borderRadius:"md",p:3,children:e.jsx(vi,{templateColumns:"repeat(12, 1fr)",gap:3,gridAutoFlow:"row dense",children:M.map($=>e.jsxs(ue,{gridColumn:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`,p:0,borderWidth:H===$.id?"2px":"1px",borderColor:H===$.id?"blue.400":"gray.200",borderRadius:"md",bg:H===$.id?"blue.50":"white",draggable:!0,onDragStart:B($.id),onDragOver:ie,onDrop:xe($.id),onClick:()=>U($.id),children:[e.jsxs(re,{justify:"space-between",p:2,bg:"gray.50",borderBottomWidth:"1px",borderTopRadius:"md",children:[e.jsxs(re,{children:[e.jsx(Uu,{size:"sm",children:e.jsx(Hu,{children:$.type})}),e.jsx(st,{size:"xs",w:"auto",value:$.colSpan,onChange:F=>q($.id,parseInt(F.target.value)),children:[12,8,6,4,3].map(F=>e.jsxs("option",{value:F,children:[F,"/12"]},F))})]}),e.jsxs(re,{children:[e.jsx(yt,{"aria-label":"Monter",size:"xs",icon:e.jsx(k1,{}),onClick:F=>{F.stopPropagation(),Y($.id,"up")}}),e.jsx(yt,{"aria-label":"Descendre",size:"xs",icon:e.jsx(R1,{}),onClick:F=>{F.stopPropagation(),Y($.id,"down")}}),e.jsx(yt,{"aria-label":"Dupliquer",size:"xs",icon:e.jsx($T,{}),onClick:F=>{F.stopPropagation(),fe($.id)}}),e.jsx(yt,{"aria-label":"Supprimer",size:"xs",colorScheme:"red",icon:e.jsx(Zn,{}),onClick:F=>{F.stopPropagation(),Re($.id)}})]})]}),e.jsxs(ue,{p:3,children:[$.type==="banner"&&e.jsxs(ne,{align:"stretch",spacing:2,children:[e.jsx(ge,{size:"sm",placeholder:"Titre",value:$.data.title||"",onChange:F=>se($.id,{data:{title:F.target.value}})}),e.jsx(ge,{size:"sm",placeholder:"Sous-titre",value:$.data.subtitle||"",onChange:F=>se($.id,{data:{subtitle:F.target.value}})}),e.jsx(ge,{size:"sm",placeholder:"Image URL",value:$.data.image||"",onChange:F=>se($.id,{data:{image:F.target.value}})}),e.jsxs(re,{children:[e.jsx(ge,{size:"sm",placeholder:"Texte du bouton",value:$.data.ctaText||"",onChange:F=>se($.id,{data:{ctaText:F.target.value}})}),e.jsx(ge,{size:"sm",placeholder:"Lien",value:$.data.ctaHref||"",onChange:F=>se($.id,{data:{ctaHref:F.target.value}})})]})]}),$.type==="promo"&&e.jsxs(ft,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:$.data.productId||"",onChange:F=>se($.id,{data:{productId:F.target.value}}),children:i.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Label"}),e.jsx(ge,{size:"sm",value:$.data.label||"",onChange:F=>se($.id,{data:{label:F.target.value}})})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Rduction (%)"}),e.jsx(On,{size:"sm",min:0,max:90,value:$.data.discount||0,onChange:(F,G)=>se($.id,{data:{discount:isNaN(G)?0:G}}),children:e.jsx(Bn,{})})]})]}),$.type==="product"&&e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:$.data.productId||"",onChange:F=>se($.id,{data:{productId:F.target.value}}),children:i.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))})]}),$.type==="grid"&&e.jsxs(ft,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Catgorie"}),e.jsx(st,{size:"sm",value:$.data.category||"",onChange:F=>se($.id,{data:{category:F.target.value}}),children:n.map(F=>e.jsx("option",{value:F,children:F},F))})]}),e.jsxs(Q,{children:[e.jsx(K,{fontSize:"xs",children:"Nombre"}),e.jsx(On,{size:"sm",min:1,max:12,value:$.data.count||4,onChange:(F,G)=>se($.id,{data:{count:isNaN(G)?4:G}}),children:e.jsx(Bn,{})})]})]}),$.type==="text"&&e.jsx(en,{size:"sm",rows:3,value:$.data.text||"",onChange:F=>se($.id,{data:{text:F.target.value}})}),$.type==="spacer"&&e.jsxs(re,{children:[e.jsx(P,{fontSize:"sm",color:"gray.600",children:"Espace (px)"}),e.jsx(On,{size:"sm",min:8,max:96,value:$.data.size||24,onChange:(F,G)=>se($.id,{data:{size:isNaN(G)?24:G}}),children:e.jsx(Bn,{})})]})]})]},$.id))})})})]})]}),ae&&e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"sm",children:"Aperu dynamique"})}),e.jsx(Ie,{children:e.jsx(ue,{children:e.jsx(vi,{templateColumns:{base:"1fr",md:"repeat(12, 1fr)"},gap:4,gridAutoFlow:"row dense",children:M.map($=>e.jsxs(ue,{gridColumn:{base:"auto",md:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`},children:[$.type==="banner"&&e.jsx(nr,{bgImage:$.data.image||void 0,bgSize:"cover",bgPos:"center",borderRadius:"md",p:10,minH:"160px",align:"center",justify:"space-between",bg:$.data.image?void 0:"gray.100",children:e.jsxs(ne,{align:"start",spacing:2,children:[e.jsx(Pe,{size:"lg",children:$.data.title||"Titre"}),e.jsx(P,{color:"gray.700",children:$.data.subtitle||"Sous-titre"}),$.data.ctaText&&e.jsx(J,{colorScheme:"blue",size:"sm",children:$.data.ctaText})]})}),$.type==="promo"&&(()=>{const F=i.find(G=>G.id===$.data.productId);return F?e.jsxs(Ne,{overflow:"hidden",borderColor:"red.200",borderWidth:"1px",children:[e.jsx(Oi,{src:F.image||"/assets/fallback/_MG_1006.jpg",alt:F.name,h:"160px",w:"100%",objectFit:"cover"}),e.jsxs(Ie,{children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",spacing:1,children:[e.jsx(Pe,{size:"sm",children:F.name}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:F.category})]}),e.jsx(Uu,{colorScheme:"red",children:e.jsxs(Hu,{children:[$.data.label||"Promo"," -",$.data.discount||0,"%"]})})]}),e.jsxs(re,{justify:"space-between",pt:2,children:[e.jsxs(P,{fontWeight:"bold",children:[(F.price*(1-($.data.discount||0)/100)).toFixed(2),"  ",e.jsxs(P,{as:"span",color:"gray.500",textDecor:"line-through",ml:2,children:[F.price.toFixed(2)," "]})]}),e.jsx(J,{size:"sm",colorScheme:"blue",children:"Voir"})]})]})]}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="product"&&(()=>{const F=i.find(G=>G.id===$.data.productId);return F?e.jsx(xj,{p:F,onEdit:()=>{},onDelete:()=>{}}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="grid"&&(()=>{const F=i.filter(G=>G.active&&($.data.category?G.category===$.data.category:!0)).slice(0,$.data.count||4);return e.jsx(ft,{columns:{base:1,sm:2,md:2,lg:3,xl:4},spacing:4,children:F.map(G=>e.jsx(xj,{p:G,onEdit:()=>{},onDelete:()=>{}},G.id))})})(),$.type==="text"&&e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:e.jsx(P,{children:$.data.text||""})}),$.type==="spacer"&&e.jsx(ue,{h:`${$.data.size||24}px`})]},$.id))})})})]})]})}),e.jsx(hn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:"Paramtres"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{children:"Activer la boutique"}),e.jsx(ur,{defaultChecked:!0,isDisabled:!0})]}),e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{children:"Mode test (paiements simuls)"}),e.jsx(ur,{isDisabled:!0})]}),e.jsx(P,{color:"gray.600",children:"Connecteurs (HelloAsso/Stripe), TVA, frais de port, etc. seront configurables ici."})]})})]})})]})]})]}),w.isOpen&&e.jsx(ue,{position:"fixed",inset:0,bg:"blackAlpha.600",zIndex:1e3,onClick:w.onClose,children:e.jsx(ue,{as:"dialog",onClick:$=>$.stopPropagation(),style:{border:0},children:e.jsxs(Ne,{position:"fixed",top:"10%",left:"50%",transform:"translateX(-50%)",w:{base:"95%",md:"560px"},children:[e.jsx(St,{children:e.jsx(Pe,{size:"md",children:g?"Modifier le produit":"Nouveau produit"})}),e.jsx(Ie,{children:e.jsxs(ne,{align:"stretch",spacing:3,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Nom"}),e.jsx(ge,{value:y.name,onChange:$=>S(F=>({...F,name:$.target.value}))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Identifiant (URL)"}),e.jsx(ge,{value:y.id,onChange:$=>S(F=>({...F,id:$.target.value})),placeholder:"auto depuis le nom"})]}),e.jsxs(ft,{columns:{base:1,md:2},spacing:3,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Prix ()"}),e.jsx(On,{min:0,value:y.price,onChange:($,F)=>S(G=>({...G,price:isNaN(F)?0:F})),children:e.jsx(Bn,{})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsx(st,{value:y.category,onChange:$=>S(F=>({...F,category:$.target.value})),children:n.map($=>e.jsx("option",{children:$},$))})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Image (URL)"}),e.jsx(ge,{value:y.image,onChange:$=>S(F=>({...F,image:$.target.value})),placeholder:"https://"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{value:y.description,onChange:$=>S(F=>({...F,description:$.target.value})),rows:3})]}),e.jsxs(re,{justify:"space-between",children:[e.jsx(P,{children:"Actif"}),e.jsx(ur,{isChecked:y.active,onChange:$=>S(F=>({...F,active:$.target.checked}))})]}),e.jsxs(re,{justify:"flex-end",pt:2,children:[e.jsx(J,{variant:"ghost",onClick:w.onClose,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:D,children:g?"Enregistrer":"Crer"})]})]})})]})})})]})}const B1=[{value:"tournee",label:"Tourne",color:"orange"},{value:"campagne",label:"Campagne",color:"purple"},{value:"maintenance",label:"Maintenance",color:"red"},{value:"evenement",label:"vnement",color:"green"},{value:"livraison",label:"Livraison",color:"cyan"},{value:"cotisation",label:"Cotisation",color:"yellow"}];function kee({events:t,currentDate:n,onDateClick:r,onPrevMonth:i,onNextMonth:l}){const u=n.getFullYear(),d=n.getMonth(),m=new Date(u,d,1).getDay(),p=new Date(u,d+1,0).getDate(),g=new Date(u,d,0).getDate(),x=[];for(let w=m-1;w>=0;w--)x.push({day:g-w,isCurrentMonth:!1});for(let w=1;w<=p;w++)x.push({day:w,isCurrentMonth:!0});const y=42-x.length;for(let w=1;w<=y;w++)x.push({day:w,isCurrentMonth:!1});const S=w=>t.filter(C=>{const _=new Date(C.startDate);return _.getDate()===w&&_.getMonth()===d&&_.getFullYear()===u});return e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(nr,{justify:"space-between",align:"center",children:[e.jsx(Pe,{size:"md",children:n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsxs(re,{children:[e.jsx(yt,{icon:e.jsx(GX,{}),onClick:i,variant:"ghost","aria-label":"Mois prcdent"}),e.jsx(yt,{icon:e.jsx(YX,{}),onClick:l,variant:"ghost","aria-label":"Mois suivant"})]})]}),e.jsxs(vi,{templateColumns:"repeat(7, 1fr)",gap:2,children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(w=>e.jsx(ue,{textAlign:"center",fontWeight:"bold",fontSize:"sm",children:w},w)),x.map((w,C)=>{const _=w.isCurrentMonth?S(w.day):[];return e.jsxs(ue,{p:2,border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"100px",bg:w.isCurrentMonth?"white":"gray.50",cursor:w.isCurrentMonth?"pointer":"default",onClick:()=>w.isCurrentMonth&&r(w.day),_hover:w.isCurrentMonth?{bg:"blue.50"}:{},children:[e.jsx(P,{fontSize:"xs",fontWeight:"bold",mb:1,children:w.day}),e.jsx(ne,{spacing:1,align:"stretch",children:_.map(T=>e.jsx(et,{fontSize:"2xs",colorScheme:zb(T.type),cursor:"pointer",title:T.title,noOfLines:1,children:T.title},T.id))})]},C)})]})]})})})}const zb=t=>B1.find(r=>r.value===t)?.color||"gray",iA=t=>B1.find(r=>r.value===t)?.label||t,vj=t=>t?new Date(t).toLocaleDateString("fr-FR"):"";function Dee(){const t=on(),{isOpen:n,onOpen:r,onClose:i}=Rt(),{isOpen:l,onOpen:u,onClose:d}=Rt(),[m,p]=v.useState([]),[g,x]=v.useState(null),[y,S]=v.useState(new Date),[w,C]=v.useState([]),[_,T]=v.useState(!0),[R,D]=v.useState([]),[k,N]=v.useState(!0),[M,O]=v.useState({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""});v.useEffect(()=>{ae(),H(),U()},[]);const H=async()=>{try{T(!0);const W=await Da("/api/members");if(Array.isArray(W)){const Ee=W.map(B=>({id:B.id,name:`${B.firstName} ${B.lastName}`,email:B.email,membershipStatus:B.membershipStatus}));C(Ee)}else console.warn("Unexpected members response format:",W),C([])}catch(W){console.error("Erreur chargement membres:",W),C([]),t({title:"Attention",description:"Impossible de charger la liste des membres",status:"warning",duration:3})}finally{T(!1)}},U=async()=>{try{N(!0);const W=await Da("/api/vehicles");Array.isArray(W)?D(W):(console.warn("Unexpected vehicles response format:",W),D([]))}catch(W){console.error("Erreur chargement vhicules:",W),D([])}finally{N(!1)}},ae=async()=>{try{const W=await Da("/api/planning/events");Array.isArray(W)?p(W):W&&typeof W=="object"&&W.data&&Array.isArray(W.data)?p(W.data):(console.warn("Unexpected response format, using demo data:",W),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}]))}catch(W){console.error("Erreur chargement:",W),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}])}},he=W=>{const{name:Ee,value:B}=W.target;O(ie=>({...ie,[Ee]:B}))},le=W=>{O(Ee=>({...Ee,selectedMembers:W}))},de=async()=>{if(!M.title||!M.startDate){t({title:"Erreur",description:"Veuillez remplir au minimum le titre et la date",status:"error",duration:3});return}try{const W={title:M.title,type:M.type,description:M.description,startDate:new Date(`${M.startDate}T${M.startTime||"08:00"}`).toISOString(),endDate:M.endDate?new Date(`${M.endDate}T${M.endTime||"17:00"}`).toISOString():null,startTime:M.startTime||"08:00",endTime:M.endTime||"17:00",location:M.location,vehicleId:M.vehicleId||null,driverId:M.driverId||null,selectedMembers:M.selectedMembers,externalEmails:M.externalEmails},Ee=await Da("/api/planning/events",{method:"POST",body:JSON.stringify(W)});if(Ee.success||Ee.event)await ae(),t({title:"Succs",description:`vnement cr et ${Ee.emailsSent?.members||0} invitation(s) envoye(s)`,status:"success",duration:3}),O({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""}),i();else throw new Error(Ee.error||"Erreur inconnue")}catch(W){console.error("Erreur cration vnement:",W),t({title:"Erreur",description:W.message||"Impossible de crer l'vnement",status:"error",duration:3})}},Re=W=>{x(W),u()},fe=async W=>{try{const Ee=await Da(`/api/planning/events/${W}`,{method:"DELETE"});if(Ee.success)await ae(),t({title:"Succs",description:"vnement supprim",status:"success",duration:3}),d();else throw new Error(Ee.error||"Erreur inconnue")}catch(Ee){console.error("Erreur suppression:",Ee),t({title:"Erreur",description:Ee.message||"Impossible de supprimer l'vnement",status:"error",duration:3})}},se=()=>{S(W=>new Date(W.getFullYear(),W.getMonth()-1,1))},Y=()=>{S(W=>new Date(W.getFullYear(),W.getMonth()+1,1))},q=W=>{const Ee=new Date(y.getFullYear(),y.getMonth(),W);O(B=>({...B,startDate:Ee.toISOString().split("T")[0]})),r()};return e.jsx(Ll,{children:e.jsxs(ks,{maxW:"container.xl",py:8,children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(nr,{justify:"space-between",align:"center",children:[e.jsx(Pe,{as:"h1",size:"lg",children:" RtroPlanning"}),e.jsx(J,{colorScheme:"blue",onClick:r,children:" Ajouter un vnement"})]}),e.jsx(kee,{events:m,currentDate:y,onDateClick:q,onPrevMonth:se,onNextMonth:Y}),e.jsxs(ue,{children:[e.jsx(Pe,{size:"md",mb:4,children:" vnements prvus"}),!Array.isArray(m)||m.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(P,{textAlign:"center",color:"gray.500",children:"Aucun vnement prvu pour le moment"})})}):e.jsx(vi,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:m.map(W=>e.jsx(Ne,{cursor:"pointer",onClick:()=>Re(W),_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:e.jsx(Ie,{children:e.jsxs(ne,{align:"start",spacing:3,children:[e.jsxs(re,{justify:"space-between",w:"full",children:[e.jsx(Pe,{size:"sm",children:W.title}),e.jsx(et,{colorScheme:zb(W.type),children:iA(W.type)})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:W.description}),e.jsxs(re,{fontSize:"xs",color:"gray.500",spacing:4,children:[e.jsxs(P,{children:[" ",vj(W.startDate)]}),W.vehicleId&&e.jsxs(P,{children:[" ",W.vehicleId]})]})]})})},W.id))})]})]}),e.jsxs(wt,{isOpen:n,onClose:i,size:"xl",scrollBehavior:"inside",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:" Crer un nouvel vnement"}),e.jsx($t,{}),e.jsx(Ct,{pb:6,children:e.jsxs(ne,{spacing:4,children:[e.jsxs(ue,{w:"full",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Dtails"}),e.jsxs(ne,{spacing:3,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre"}),e.jsx(ge,{name:"title",value:M.title,onChange:he,placeholder:"Titre de l'vnement"})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Type"}),e.jsx(st,{name:"type",value:M.type,onChange:he,children:B1.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Description"}),e.jsx(en,{name:"description",value:M.description,onChange:he,placeholder:"Dtails de l'vnement",rows:3})]})]})]}),e.jsx(bn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Date et Heure"}),e.jsxs(vi,{templateColumns:"repeat(2, 1fr)",gap:3,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Date dbut"}),e.jsx(ge,{type:"date",name:"startDate",value:M.startDate,onChange:he})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure dbut"}),e.jsx(ge,{type:"time",name:"startTime",value:M.startTime,onChange:he})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Date fin"}),e.jsx(ge,{type:"date",name:"endDate",value:M.endDate,onChange:he})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Heure fin"}),e.jsx(ge,{type:"time",name:"endTime",value:M.endTime,onChange:he})]})]})]}),e.jsx(bn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Affectations"}),e.jsxs(ne,{spacing:3,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Vhicule"}),k?e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Chargement des vhicules..."}):R.length===0?e.jsx(P,{fontSize:"sm",color:"red.500",children:"Aucun vhicule disponible"}):e.jsxs(st,{name:"vehicleId",value:M.vehicleId,onChange:he,children:[e.jsx("option",{value:"",children:"-- Slectionner un vhicule --"}),R.map(W=>e.jsxs("option",{value:W.id,children:[W.parc," - ",W.modele," (",W.marque,")"]},W.id))]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Chauffeur (Membre)"}),_?e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Chargement des chauffeurs..."}):w.length===0?e.jsx(P,{fontSize:"sm",color:"red.500",children:"Aucun membre disponible"}):e.jsxs(st,{name:"driverId",value:M.driverId,onChange:he,children:[e.jsx("option",{value:"",children:"-- Slectionner un chauffeur --"}),w.map(W=>e.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})]}),e.jsx(bn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Pe,{size:"sm",mb:3,children:" Participants"}),e.jsxs(ne,{spacing:3,align:"start",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Membres de l'association"}),_?e.jsx(P,{fontSize:"sm",color:"gray.500",children:"Chargement des membres..."}):w.length===0?e.jsx(P,{fontSize:"sm",color:"orange.500",children:"Aucun membre disponible"}):e.jsx(mD,{value:M.selectedMembers,onChange:le,children:e.jsx(uo,{spacing:2,children:w.map(W=>e.jsxs(so,{value:W.id,children:[W.name," (",W.email,")"]},W.id))})})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Invitations externes"}),e.jsx(en,{name:"externalEmails",value:M.externalEmails,onChange:he,placeholder:`Adresses emails spares par des virgules
exemple@mail.com, autre@mail.com`,rows:3}),e.jsx(P,{fontSize:"xs",color:"gray.500",mt:1,children:"Sparez les adresses par des virgules pour envoyer des invitations par email"})]})]})]}),e.jsx(bn,{}),e.jsxs(re,{justify:"flex-end",w:"full",pt:4,children:[e.jsx(J,{variant:"ghost",onClick:i,children:"Annuler"}),e.jsx(J,{colorScheme:"blue",onClick:de,children:" Crer l'vnement"})]})]})})]})]}),e.jsxs(wt,{isOpen:l,onClose:d,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:g?.title}),e.jsx($t,{}),e.jsx(Ct,{pb:6,children:g&&e.jsxs(ne,{spacing:4,align:"start",children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Type:"}),e.jsx(et,{colorScheme:zb(g.type),children:iA(g.type)})]}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Description:"}),e.jsx(P,{children:g.description||"-"})]}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Date dbut:"}),e.jsx(P,{children:vj(g.startDate)})]}),g.endDate&&e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Date fin:"}),e.jsx(P,{children:vj(g.endDate)})]}),g.vehicleId&&e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Vhicule:"}),e.jsx(P,{children:g.vehicleId})]}),g.driverId&&e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",mb:1,children:"Chauffeur:"}),e.jsx(P,{children:g.driverId})]}),e.jsxs(re,{spacing:3,w:"full",pt:4,children:[e.jsx(J,{colorScheme:"red",flex:1,onClick:()=>fe(g.id),children:" Supprimer"}),e.jsx(J,{variant:"ghost",flex:1,onClick:d,children:"Fermer"})]})]})})]})]})]})})}const Pee="https://attractive-kindness-rbe-serveurs.up.railway.app";function Mee(){const{eventId:t,memberId:n}=Vx(),r=co(),i=on(),l=Tn("white","gray.800"),[u,d]=v.useState(!0),[m,p]=v.useState(null),[g,x]=v.useState(null),[y,S]=v.useState(!1),[w,C]=v.useState(null);v.useEffect(()=>{_()},[t,n]);const _=async()=>{try{d(!0),p({id:t,title:"Tourne collecte fvrier",date:new Date(2025,1,15).toISOString(),description:"Tourne de collecte bi-mensuelle",type:"TOURNEE"}),x({id:n,prenom:"Jean",nom:"Dupont",email:"jean@retrobus.fr"})}catch(D){console.error("Fetch error:",D),C("Impossible de charger les informations")}finally{d(!1)}},T=async D=>{try{if(d(!0),!(await fetch(`${Pee}/api/planning/attendance/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmed:D})})).ok)throw new Error("Failed");S(!0),i({status:"success",title:D?"Prsence confirme !":"Absence enregistre",duration:3e3}),setTimeout(()=>r("/"),2e3)}catch(k){i({status:"error",title:"Erreur",description:k.message})}finally{d(!1)}};if(u)return e.jsx(vn,{p:6,children:e.jsx(mn,{size:"xl"})});if(w)return e.jsx(vn,{p:6,minH:"100vh",children:e.jsxs(Wt,{status:"error",borderRadius:"lg",children:[e.jsx(qt,{}),w]})});if(y)return e.jsx(vn,{p:6,minH:"100vh",children:e.jsx(Ne,{bg:l,maxW:"500px",w:"100%",children:e.jsxs(Ie,{textAlign:"center",py:10,children:[e.jsxs(ue,{mb:4,children:[e.jsx(ue,{fontSize:"60px",mb:4,children:""}),e.jsx(Pe,{size:"lg",mb:2,children:"Merci !"}),e.jsx(P,{color:"gray.600",children:"Votre rponse a t enregistre."})]}),e.jsx(J,{mt:6,onClick:()=>r("/"),children:"Retourner  l'accueil"})]})})});const R=new Date(m.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(vn,{p:6,minH:"100vh",bg:"gray.50",children:e.jsxs(Ne,{bg:l,maxW:"600px",w:"100%",boxShadow:"xl",borderRadius:"xl",children:[e.jsx(St,{p:8,borderBottomWidth:"1px",children:e.jsxs(ne,{spacing:4,align:"center",children:[e.jsx(ue,{fontSize:"48px",children:""}),e.jsx(Pe,{size:"lg",textAlign:"center",children:"Confirmation de prsence"}),e.jsxs(P,{color:"gray.600",textAlign:"center",children:["Bonjour ",g?.prenom," ",g?.nom]})]})}),e.jsx(Ie,{p:8,children:e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(ue,{bg:"blue.50",p:4,borderRadius:"lg",borderLeft:"4px",borderLeftColor:"blue.500",children:[e.jsxs(re,{spacing:3,mb:2,children:[e.jsx($s,{size:20,color:"#3b82f6"}),e.jsx(Pe,{size:"sm",children:m?.title})]}),e.jsx(P,{fontSize:"sm",color:"gray.600",mb:2,children:R}),m?.description&&e.jsx(P,{fontSize:"sm",children:m.description})]}),e.jsxs(ne,{spacing:3,pt:4,children:[e.jsx(P,{fontWeight:"600",textAlign:"center",children:"Confirmer votre prsence ?"}),e.jsxs(re,{spacing:3,w:"100%",children:[e.jsx(J,{leftIcon:e.jsx(Hp,{}),colorScheme:"green",size:"lg",flex:"1",onClick:()=>T(!0),isLoading:u,children:" Je serai prsent"}),e.jsx(J,{leftIcon:e.jsx(qu,{}),colorScheme:"red",size:"lg",flex:"1",variant:"outline",onClick:()=>T(!1),isLoading:u,children:" Je ne pourrai pas"})]})]}),e.jsx(ue,{pt:4,borderTopWidth:"1px",children:e.jsxs(P,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Votre email: ",g?.email]})})]})})]})})}const aA={confirmed:{label:"Confirmer ma prsence",color:"green",icon:""},declined:{label:"Refuser",color:"red",icon:""},proposed_reschedule:{label:"Proposer un report",color:"orange",icon:""}};function zee(){const t=on(),{isOpen:n,onOpen:r,onClose:i}=Rt(),[l,u]=v.useState([]),[d,m]=v.useState(!0),[p,g]=v.useState(null),[x,y]=v.useState("confirmed"),[S,w]=v.useState(""),[C,_]=v.useState(""),[T,R]=v.useState(!1);v.useEffect(()=>{D()},[]);const D=async()=>{try{m(!0);const O=await Da("/api/planning/my-invitations");Array.isArray(O)?u(O):u([])}catch(O){console.error("Erreur chargement invitations:",O),t({title:"Erreur",description:"Impossible de charger les invitations",status:"error",duration:3}),u([])}finally{m(!1)}},k=async()=>{if(p)try{R(!0);const O={participantId:p.participantId,status:x,rescheduleProposal:x==="proposed_reschedule"?S:null,rescheduleReason:x==="proposed_reschedule"?C:null},H=await Da(`/api/planning/respond-invitation/${p.planningId}/${p.participantId}`,{method:"POST",body:JSON.stringify(O)});if(H.success)t({title:"Succs",description:`Votre rponse a t enregistre: ${aA[x].label}`,status:"success",duration:3}),u(U=>U.map(ae=>ae.participantId===p.participantId?{...ae,status:x}:ae)),i();else throw new Error(H.error||"Erreur lors de la soumission")}catch(O){console.error("Erreur rponse:",O),t({title:"Erreur",description:O.message||"Impossible de soumettre votre rponse",status:"error",duration:3})}finally{R(!1)}},N=O=>({pending:"yellow",confirmed:"green",declined:"red",proposed_reschedule:"orange"})[O]||"gray",M=O=>({pending:"En attente de rponse",confirmed:"Confirm",declined:"Refus",proposed_reschedule:"Report propos"})[O]||O;return e.jsx(Ll,{children:e.jsxs(ks,{maxW:"container.lg",py:8,children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Pe,{size:"lg",mb:2,children:" Mes Invitations"}),e.jsxs(P,{color:"gray.600",children:["Vous avez ",l.length," invitation",l.length!==1?"s":""]})]}),d?e.jsx(P,{children:"Chargement..."}):l.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(P,{textAlign:"center",color:"gray.500",children:"Vous n'avez pas d'invitations en attente"})})}):e.jsx(ne,{spacing:4,children:l.map(O=>e.jsx(Ne,{w:"full",children:e.jsx(Ie,{children:e.jsxs(ne,{align:"start",spacing:3,w:"full",children:[e.jsxs(nr,{w:"full",justify:"space-between",align:"start",children:[e.jsxs(ne,{align:"start",flex:1,spacing:2,children:[e.jsx(Pe,{size:"md",children:O.eventTitle}),e.jsx(P,{fontSize:"sm",color:"gray.600",children:O.eventType?`Type: ${O.eventType}`:""}),e.jsxs(re,{spacing:4,fontSize:"sm",children:[e.jsxs(P,{children:[" ",new Date(O.eventDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),e.jsxs(P,{children:[" ",O.eventStartTime||"Heure non dfinie"]})]}),O.eventLocation&&e.jsxs(P,{fontSize:"sm",color:"gray.600",children:[" ",O.eventLocation]}),O.eventDescription&&e.jsx(P,{fontSize:"sm",color:"gray.600",noOfLines:2,children:O.eventDescription})]}),e.jsx(et,{colorScheme:N(O.status),ml:4,textTransform:"capitalize",children:M(O.status)})]}),O.status==="pending"&&e.jsxs(re,{spacing:2,pt:2,borderTop:"1px solid",borderColor:"gray.200",w:"full",children:[e.jsx(J,{size:"sm",colorScheme:"green",onClick:()=>{g(O),y("confirmed"),r()},children:" Confirmer"}),e.jsx(J,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{g(O),y("declined"),r()},children:" Refuser"}),e.jsx(J,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>{g(O),y("proposed_reschedule"),r()},children:" Reporter"})]}),O.status==="proposed_reschedule"&&O.rescheduleProposal&&e.jsxs(ue,{fontSize:"sm",p:2,bg:"orange.50",borderRadius:"md",w:"full",children:[e.jsxs(P,{fontWeight:"bold",color:"orange.700",children:["Report propos au: ",new Date(O.rescheduleProposal).toLocaleDateString("fr-FR")]}),O.rescheduleReason&&e.jsx(P,{color:"orange.700",children:O.rescheduleReason})]})]})})},O.participantId))})]}),e.jsxs(wt,{isOpen:n,onClose:i,size:"lg",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:p&&`Rpondre : ${p.eventTitle}`}),e.jsx($t,{}),e.jsx(Ct,{pb:6,children:e.jsxs(ne,{spacing:4,children:[x==="proposed_reschedule"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Date propose"}),e.jsx(ge,{type:"date",value:S,onChange:O=>w(O.target.value)})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Raison du report"}),e.jsx(en,{value:C,onChange:O=>_(O.target.value),placeholder:"Expliquez pourquoi vous proposez ce report...",rows:4})]})]}),x==="declined"&&e.jsxs(Q,{children:[e.jsx(K,{children:"Motif du refus (optionnel)"}),e.jsx(en,{value:C,onChange:O=>_(O.target.value),placeholder:"Expliquez pourquoi vous refusez cette invitation...",rows:4})]}),e.jsxs(re,{w:"full",pt:4,children:[e.jsx(J,{flex:1,colorScheme:x==="confirmed"?"green":x==="declined"?"red":"orange",isLoading:T,onClick:k,children:aA[x].label}),e.jsx(J,{flex:1,variant:"outline",onClick:i,isDisabled:T,children:"Annuler"})]})]})})]})]})]})})}function Iee(){const t=on(),{isOpen:n,onOpen:r,onClose:i}=Rt(),{isOpen:l,onOpen:u,onClose:d}=Rt(),[m,p]=v.useState([]),[g,x]=v.useState(!1),[y,S]=v.useState(null),[w,C]=v.useState({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),[_,T]=v.useState(null),R=v.useCallback(async()=>{try{x(!0);const U=await Nt.get("/api/retro-requests");U.requests&&p(U.requests)}catch(U){console.error("Erreur chargement:",U),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},[t]);v.useEffect(()=>{R()},[R]);const D=async U=>{if(U.preventDefault(),!w.title.trim()||!w.description.trim()){t({title:"Erreur",description:"Titre et description requis",status:"warning",duration:3e3,isClosable:!0});return}try{x(!0);let ae;if(_)ae=await Nt.put(`/api/retro-requests/${_}`,w),p(m.map(he=>he.id===_?ae:he)),t({title:"Succs",description:"Demande mise  jour",status:"success",duration:3e3,isClosable:!0});else{ae=await Nt.post("/api/retro-requests",w),p([ae,...m]);try{await Nt.post(`/api/retro-requests/${ae.id}/send-emails`,{title:w.title,description:w.description,category:w.category,priority:w.priority})}catch(he){console.error("Erreur envoi emails:",he)}t({title:"Succs",description:"Demande cre et email envoy",status:"success",duration:3e3,isClosable:!0})}C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),T(null),i()}catch(ae){t({title:"Erreur",description:ae.response?.data?.error||"Erreur lors de la soumission",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},k=()=>{T(null),C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),r()},N=U=>{if(U.status!=="PENDING"){t({title:"Impossible",description:"Seules les demandes en attente peuvent tre modifies",status:"warning",duration:3e3,isClosable:!0});return}T(U.id),C({title:U.title,description:U.description,category:U.category,priority:U.priority}),r()},M=async U=>{if(window.confirm("tes-vous sr?"))try{await Nt.delete(`/api/retro-requests/${U}`),p(m.filter(ae=>ae.id!==U)),t({title:"Succs",description:"Demande supprime",status:"success",duration:3e3,isClosable:!0})}catch(ae){t({title:"Erreur",description:ae.response?.data?.error||"Erreur suppression",status:"error",duration:5e3,isClosable:!0})}},O=U=>{S(U),u()},H=U=>{const he={PENDING:{label:"En attente",colorScheme:"yellow"},UNDER_REVIEW:{label:"En examen",colorScheme:"blue"},QUOTED:{label:"Devis reu",colorScheme:"purple"},ACCEPTED:{label:"Accept",colorScheme:"green"},REFUSED:{label:"Refus",colorScheme:"red"},COMPLETED:{label:"Complt",colorScheme:"gray"}}[U]||{label:U,colorScheme:"gray"};return e.jsx(et,{colorScheme:he.colorScheme,children:he.label})};return e.jsxs(Ll,{title:"RtroDemandes",subtitle:"Grez vos demandes et consultez vos devis",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"RtroDemandes",href:"/dashboard/retro-requests"}],children:[e.jsx(ks,{maxW:"7xl",py:8,children:e.jsx(Ne,{children:e.jsx(St,{children:e.jsxs(ho,{variant:"soft-rounded",colorScheme:"blue",defaultIndex:0,children:[e.jsxs(Oa,{children:[e.jsx(dn,{children:"Crer une demande"}),e.jsxs(dn,{children:["Mes demandes (",m.length,")"]})]}),e.jsxs(Ba,{children:[e.jsx(hn,{children:e.jsx(ue,{pt:4,children:e.jsxs(ne,{spacing:4,align:"stretch",as:"form",onSubmit:D,children:[e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Titre de la demande"}),e.jsx(ge,{placeholder:"Ex: Rvision complte",value:w.title,onChange:U=>C({...w,title:U.target.value})})]}),e.jsxs(Q,{isRequired:!0,children:[e.jsx(K,{children:"Description dtaille"}),e.jsx(en,{placeholder:"Dcrivez votre demande en dtail...",value:w.description,onChange:U=>C({...w,description:U.target.value}),minH:"200px"})]}),e.jsxs(vi,{templateColumns:"1fr 1fr",gap:4,children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Catgorie"}),e.jsxs(st,{value:w.category,onChange:U=>C({...w,category:U.target.value}),children:[e.jsx("option",{value:"GENERAL",children:"Gnral"}),e.jsx("option",{value:"REPAIR",children:"Rparation"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"SERVICE",children:"Service"}),e.jsx("option",{value:"CUSTOM",children:"Personnalis"})]})]}),e.jsxs(Q,{children:[e.jsx(K,{children:"Priorit"}),e.jsxs(st,{value:w.priority,onChange:U=>C({...w,priority:U.target.value}),children:[e.jsx("option",{value:"LOW",children:"Basse"}),e.jsx("option",{value:"NORMAL",children:"Normal"}),e.jsx("option",{value:"HIGH",children:"leve"}),e.jsx("option",{value:"URGENT",children:"Urgent"})]})]})]}),e.jsxs(re,{spacing:3,justify:"flex-end",children:[e.jsx(J,{variant:"outline",onClick:()=>C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),children:"Annuler"}),e.jsx(J,{colorScheme:"blue",type:"submit",isLoading:g,children:"Crer"})]})]})})}),e.jsx(hn,{children:e.jsx(ue,{pt:4,children:g&&m.length===0?e.jsx(nr,{justify:"center",py:10,children:e.jsx(mn,{})}):m.length===0?e.jsxs(ue,{textAlign:"center",py:10,color:"gray.500",children:[e.jsx(P,{mb:4,children:"Aucune demande pour le moment"}),e.jsx(J,{colorScheme:"blue",size:"sm",onClick:k,children:"Crer une demande"})]}):e.jsxs(Un,{size:"sm",variant:"striped",children:[e.jsx(Yn,{children:e.jsxs(jt,{children:[e.jsx(ke,{children:"Titre"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Date"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:m.map(U=>e.jsxs(jt,{children:[e.jsx(Ae,{fontWeight:"medium",children:U.title}),e.jsx(Ae,{fontSize:"sm",children:U.category}),e.jsx(Ae,{children:H(U.status)}),e.jsx(Ae,{fontSize:"sm",children:new Date(U.createdAt).toLocaleDateString()}),e.jsx(Ae,{children:e.jsxs(re,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(um,{}),size:"sm",variant:"ghost",onClick:()=>O(U),title:"Voir dtails"}),U.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(yt,{icon:e.jsx(_1,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>N(U),title:"diter"}),e.jsx(yt,{icon:e.jsx(vv,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>M(U.id),title:"Supprimer"})]})]})})]},U.id))})]})})})]})]})})})}),e.jsxs(wt,{isOpen:l,onClose:d,size:"2xl",children:[e.jsx(_t,{}),e.jsxs(kt,{children:[e.jsx(Et,{children:"Dtails de la demande"}),e.jsx($t,{}),e.jsx(Ct,{children:y&&e.jsxs(ne,{spacing:4,align:"start",width:"100%",children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",children:"Titre:"}),e.jsx(P,{children:y.title})]}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",children:"Description:"}),e.jsx(P,{whiteSpace:"pre-wrap",children:y.description})]}),e.jsxs(re,{spacing:8,children:[e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",children:"Catgorie:"}),e.jsx(P,{children:y.category})]}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",children:"Priorit:"}),e.jsx(P,{children:y.priority})]}),e.jsxs(ue,{children:[e.jsx(P,{fontWeight:"bold",fontSize:"sm",children:"Statut:"}),H(y.status)]})]})]})})]})]})]})}function Nee(){const t=on(),[n,r]=v.useState([]),[i,l]=v.useState({PENDING:0,IN_PROGRESS:0,COMPLETED:0,CANCELLED:0}),[u,d]=v.useState(!1),[m,p]=v.useState(null),g=v.useCallback(async()=>{try{d(!0);const w=await Nt.get("/api/president/retro-requests");w.requests&&(r(w.requests),w.statusCount&&l(w.statusCount))}catch(w){console.error("Erreur chargement:",w),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}},[t]);v.useEffect(()=>{g();const w=setInterval(g,3e4);return()=>clearInterval(w)},[g]);const x=w=>({PENDING:"orange",IN_PROGRESS:"blue",COMPLETED:"green",CANCELLED:"red"})[w]||"gray",y=w=>({PENDING:"En attente",IN_PROGRESS:"En cours",COMPLETED:"Termin",CANCELLED:"Annul"})[w]||w,S=m?n.filter(w=>w.status===m):n;return e.jsx(Ll,{children:e.jsx(ks,{maxW:"7xl",py:8,children:e.jsxs(ne,{spacing:8,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Pe,{as:"h1",size:"xl",mb:2,children:" Rcapitulatif des Demandes"}),e.jsx(P,{color:"gray.600",children:"Suivi global de toutes les RtroDemandes de l'association"})]}),e.jsxs(vi,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:[e.jsx(Ne,{bg:"orange.50",border:"2px solid",borderColor:"orange.200",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"En attente"}),e.jsx(vt,{color:"orange.600",children:i.PENDING})]})})}),e.jsx(Ne,{bg:"blue.50",border:"2px solid",borderColor:"blue.200",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"En cours"}),e.jsx(vt,{color:"blue.600",children:i.IN_PROGRESS})]})})}),e.jsx(Ne,{bg:"green.50",border:"2px solid",borderColor:"green.200",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Termines"}),e.jsx(vt,{color:"green.600",children:i.COMPLETED})]})})}),e.jsx(Ne,{bg:"red.50",border:"2px solid",borderColor:"red.200",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Annules"}),e.jsx(vt,{color:"red.600",children:i.CANCELLED})]})})}),e.jsx(Ne,{bg:"gray.50",border:"2px solid",borderColor:"gray.200",children:e.jsx(Ie,{children:e.jsxs(gt,{children:[e.jsx(xt,{children:"Total"}),e.jsx(vt,{color:"gray.700",children:Object.values(i).reduce((w,C)=>w+C,0)})]})})})]}),e.jsxs(re,{spacing:2,flexWrap:"wrap",children:[e.jsx(P,{fontWeight:"bold",children:"Filtrer par statut:"}),e.jsxs(J,{size:"sm",variant:m===null?"solid":"outline",onClick:()=>p(null),colorScheme:"gray",children:["Tous (",n.length,")"]}),e.jsx(J,{size:"sm",variant:m==="PENDING"?"solid":"outline",onClick:()=>p("PENDING"),colorScheme:"orange",children:"En attente"}),e.jsx(J,{size:"sm",variant:m==="IN_PROGRESS"?"solid":"outline",onClick:()=>p("IN_PROGRESS"),colorScheme:"blue",children:"En cours"}),e.jsx(J,{size:"sm",variant:m==="COMPLETED"?"solid":"outline",onClick:()=>p("COMPLETED"),colorScheme:"green",children:"Termines"}),e.jsx(J,{size:"sm",variant:m==="CANCELLED"?"solid":"outline",onClick:()=>p("CANCELLED"),colorScheme:"red",children:"Annules"})]}),e.jsxs(Ne,{children:[e.jsx(St,{children:e.jsxs(nr,{justify:"space-between",align:"center",children:[e.jsxs(Pe,{size:"md",children:["Demandes (",S.length,")"]}),e.jsx(J,{size:"sm",leftIcon:e.jsx(qX,{}),colorScheme:"blue",onClick:()=>{const w=["id","number","status","createdAt","userId","title","totalQuotes"],C=S.map(k=>[k.id,k.number||"",k.status||"",k.createdAt?new Date(k.createdAt).toISOString():"",k.userId||"",(k.title||"").replace(/\r?\n/g," "),k.quotes?k.quotes.length:0]),_=[w.join(","),...C.map(k=>k.map(N=>`"${String(N).replace(/"/g,'""')}"`).join(","))].join(`
`),T=new Blob([_],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(T),D=document.createElement("a");D.href=R,D.download=`retro_requests_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(D),D.click(),D.remove(),URL.revokeObjectURL(R)},children:"Exporter"})]})}),e.jsx(bn,{}),e.jsx(Ie,{children:u?e.jsx(nr,{justify:"center",align:"center",py:10,children:e.jsx(mn,{size:"lg"})}):S.length===0?e.jsx(P,{textAlign:"center",color:"gray.500",py:10,children:"Aucune demande  afficher"}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(Un,{size:"sm",variant:"striped",children:[e.jsx(Yn,{children:e.jsxs(jt,{bg:"gray.50",children:[e.jsx(ke,{children:"ID"}),e.jsx(ke,{children:"Auteur"}),e.jsx(ke,{children:"Titre"}),e.jsx(ke,{children:"Catgorie"}),e.jsx(ke,{children:"Priorit"}),e.jsx(ke,{children:"Statut"}),e.jsx(ke,{children:"Cre le"}),e.jsx(ke,{children:"Devis"}),e.jsx(ke,{children:"Actions"})]})}),e.jsx(Gn,{children:S.map(w=>e.jsxs(jt,{_hover:{bg:"gray.50"},children:[e.jsxs(Ae,{fontSize:"xs",fontFamily:"mono",children:[w.id.slice(0,8),"..."]}),e.jsxs(Ae,{children:[e.jsx(P,{fontSize:"sm",children:w.userName||"N/A"}),e.jsx(P,{fontSize:"xs",color:"gray.500",children:w.userEmail||"N/A"})]}),e.jsx(Ae,{children:e.jsx(P,{fontWeight:"medium",noOfLines:2,children:w.title})}),e.jsx(Ae,{children:e.jsx(et,{fontSize:"xs",children:w.category||"N/A"})}),e.jsx(Ae,{children:e.jsx(et,{fontSize:"xs",colorScheme:w.priority==="HIGH"?"red":w.priority==="MEDIUM"?"yellow":"green",children:w.priority||"NORMAL"})}),e.jsx(Ae,{children:e.jsx(et,{colorScheme:x(w.status),children:y(w.status)})}),e.jsx(Ae,{fontSize:"xs",children:new Date(w.createdAt).toLocaleDateString("fr-FR")}),e.jsx(Ae,{children:w.quotes&&w.quotes.length>0?e.jsx(et,{colorScheme:"green",children:w.quotes.length}):e.jsx(P,{fontSize:"xs",color:"gray.500",children:"0"})}),e.jsx(Ae,{children:e.jsx(J,{size:"xs",leftIcon:e.jsx(um,{}),variant:"ghost",children:"Voir"})})]},w.id))})]})})})]})]})})})}function Lee(){const{isAuthenticated:t}=vs(),n=lo();console.log(" Current route:",n.pathname);const r=t&&n.pathname!=="/login";return e.jsxs(e.Fragment,{children:[r&&e.jsx(IK,{}),e.jsxs(YI,{children:[e.jsx(Vn,{path:"/login",element:e.jsx(mee,{})}),e.jsx(Vn,{path:"/dashboard/home",element:e.jsx(xl,{children:e.jsx(ij,{})})}),e.jsx(Vn,{path:"/dashboard/myrbe",element:e.jsx(xl,{children:e.jsx(UQ,{})})}),e.jsx(Vn,{path:"/dashboard/myrbe/:parc",element:e.jsx(xl,{children:e.jsx(WQ,{})})}),e.jsx(Vn,{path:"/dashboard/retro-requests",element:e.jsx(xl,{children:e.jsx(Iee,{})})}),e.jsx(Vn,{path:"/dashboard/president/retro-requests",element:e.jsx(Ur,{allowedRoles:["PRESIDENT","ADMIN"],children:e.jsx(Nee,{})})}),e.jsx(Vn,{path:"/admin/finance",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(JQ,{})})}),e.jsx(Vn,{path:"/admin/finance-v2",element:e.jsx(Ur,{allowedRoles:["ADMIN","PRESIDENT","TRESORIER"],children:e.jsx(dJ,{})})}),e.jsx(Vn,{path:"/dashboard/vehicules",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(CQ,{})})}),e.jsx(Vn,{path:"/dashboard/vehicules/ajouter",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(pQ,{children:e.jsx(MQ,{})})})}),e.jsx(Vn,{path:"/dashboard/vehicules/:parc",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(OQ,{})})}),e.jsx(Vn,{path:"/dashboard/evenements",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(hJ,{})})}),e.jsx(Vn,{path:"/dashboard/events-management",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(VJ,{})})}),e.jsx(Vn,{path:"/dashboard/events-creation",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(HJ,{})})}),e.jsx(Vn,{path:"/dashboard/test-events",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(WJ,{})})}),e.jsx(Vn,{path:"/dashboard/site-management",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Lg,{resource:_e.SITE_MANAGEMENT,children:e.jsx(oee,{})})})}),e.jsx(Vn,{path:"/dashboard/flash-management",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(dee,{})})}),e.jsx(Vn,{path:"/dashboard/retromerch",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ree,{})})}),e.jsx(Vn,{path:"/dashboard/stock-management",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(uee,{})})}),e.jsx(Vn,{path:"/dashboard/members-management",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(_ee,{})})}),e.jsx(Vn,{path:"/members",element:e.jsx(xl,{children:e.jsx(bee,{})})}),e.jsx(Vn,{path:"/adhesion",element:e.jsx(xl,{children:e.jsx(fee,{})})}),e.jsx(Vn,{path:"/dashboard/permissions",element:e.jsx(Ur,{allowedRoles:["ADMIN"],children:e.jsx(CM,{})})}),e.jsx(Vn,{path:"/dashboard/newsletter",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(gee,{})})}),e.jsx(Vn,{path:"/dashboard/newsletter-campaigns",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(xee,{})})}),e.jsx(Vn,{path:"/dashboard/retroplanning",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Lg,{resource:_e.RETROPLANNING,children:e.jsx(Dee,{})})})}),e.jsx(Vn,{path:"/planning/attendance/:eventId/:memberId",element:e.jsx(Mee,{})}),e.jsx(Vn,{path:"/planning/my-invitations",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Lg,{resource:_e.RETROPLANNING_RESPOND,children:e.jsx(zee,{})})})}),e.jsx(Vn,{path:"/dashboard/support",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Lg,{resource:_e.RETROSUPPORT,children:e.jsx(Aee,{})})})}),e.jsx(Vn,{path:"/retromail",element:e.jsx(Ur,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(ZQ,{})})}),e.jsx(Vn,{path:"/mobile/v/:parc",element:e.jsx(xl,{children:e.jsx(AQ,{})})}),e.jsx(Vn,{path:"/",element:e.jsx(xl,{children:e.jsx(ij,{})})}),e.jsx(Vn,{path:"*",element:e.jsx(xl,{children:e.jsx(ij,{})})})]})]})}sI.createRoot(document.getElementById("root")).render(e.jsx(un.StrictMode,{children:e.jsx(uH,{theme:VX,children:e.jsx(vN,{children:e.jsx(nK,{children:e.jsx(Lee,{})})})})}));
